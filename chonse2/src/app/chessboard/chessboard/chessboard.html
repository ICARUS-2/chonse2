<div class="boardContainer">
    @for( rank of pieceState; let rankIndex = $index; track rankIndex)
    {
        <ng-container>
            @for ( piece of rank; let fileIndex = $index; track fileIndex )
            {
                <app-square 
                    [coordinate]="this.COORDS[rankIndex][fileIndex]" 
                    [piece]="pieceState[rankIndex][fileIndex]"
                    [isDark]="(rankIndex + fileIndex) % 2 == 1"
                    [showFile]="rankIndex == rank.length - 1"
                    [showRank]="fileIndex == 0"
                    [isLegalMove]="currentLegalMoves.includes(this.COORDS[rankIndex][fileIndex])"
                    (mouseDown)="onSquareMouseDown($event)"
                    (mouseUp)="onSquareMouseUp($event)">
                </app-square>
            }
        </ng-container>
    }
</div>


<div class="testingPurposes">
    <p>TO: {{toSquare}}</p>
    <p>FROM: {{fromSquare}}</p>
    <p>CURRENT PIECE: {{currentlyHeldPiece}}</p>
    <p>LEGAL MOVES: {{ currentLegalMoves.toString() }}</p>

    <p>WHITE CAPTURES: {{piecesWhiteCaptured.toString()}}</p>
    <p>BLACK CAPTURES: {{piecesBlackCaptured.toString()}}</p>
</div>