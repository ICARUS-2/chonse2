var YE=Object.defineProperty,XE=Object.defineProperties;var JE=Object.getOwnPropertyDescriptors;var dp=Object.getOwnPropertySymbols;var e_=Object.prototype.hasOwnProperty,t_=Object.prototype.propertyIsEnumerable;var fp=(e,n,t)=>n in e?YE(e,n,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[n]=t,y=(e,n)=>{for(var t in n||={})e_.call(n,t)&&fp(e,t,n[t]);if(dp)for(var t of dp(n))t_.call(n,t)&&fp(e,t,n[t]);return e},P=(e,n)=>XE(e,JE(n));var Z=(e,n,t)=>new Promise((r,i)=>{var o=c=>{try{a(t.next(c))}catch(l){i(l)}},s=c=>{try{a(t.throw(c))}catch(l){i(l)}},a=c=>c.done?r(c.value):Promise.resolve(c.value).then(o,s);a((t=t.apply(e,n)).next())});var Ue=null,Bs=!1,ql=1,n_=null,Oe=Symbol("SIGNAL");function O(e){let n=Ue;return Ue=e,n}function Vs(){return Ue}var ar={version:0,lastCleanEpoch:0,dirty:!1,producers:void 0,producersTail:void 0,consumers:void 0,consumersTail:void 0,recomputing:!1,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,kind:"unknown",producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function cr(e){if(Bs)throw new Error("");if(Ue===null)return;Ue.consumerOnSignalRead(e);let n=Ue.producersTail;if(n!==void 0&&n.producer===e)return;let t,r=Ue.recomputing;if(r&&(t=n!==void 0?n.nextProducer:Ue.producers,t!==void 0&&t.producer===e)){Ue.producersTail=t,t.lastReadVersion=e.version;return}let i=e.consumersTail;if(i!==void 0&&i.consumer===Ue&&(!r||i_(i,Ue)))return;let o=ii(Ue),s={producer:e,consumer:Ue,nextProducer:t,prevConsumer:i,lastReadVersion:e.version,nextConsumer:void 0};Ue.producersTail=s,n!==void 0?n.nextProducer=s:Ue.producers=s,o&&mp(e,s)}function hp(){ql++}function lr(e){if(!(ii(e)&&!e.dirty)&&!(!e.dirty&&e.lastCleanEpoch===ql)){if(!e.producerMustRecompute(e)&&!js(e)){ni(e);return}e.producerRecomputeValue(e),ni(e)}}function zl(e){if(e.consumers===void 0)return;let n=Bs;Bs=!0;try{for(let t=e.consumers;t!==void 0;t=t.nextConsumer){let r=t.consumer;r.dirty||r_(r)}}finally{Bs=n}}function Kl(){return Ue?.consumerAllowSignalWrites!==!1}function r_(e){e.dirty=!0,zl(e),e.consumerMarkedDirty?.(e)}function ni(e){e.dirty=!1,e.lastCleanEpoch=ql}function ur(e){return e&&pp(e),O(e)}function pp(e){e.producersTail=void 0,e.recomputing=!0}function ri(e,n){O(n),e&&gp(e)}function gp(e){e.recomputing=!1;let n=e.producersTail,t=n!==void 0?n.nextProducer:e.producers;if(t!==void 0){if(ii(e))do t=Ql(t);while(t!==void 0);n!==void 0?n.nextProducer=void 0:e.producers=void 0}}function js(e){for(let n=e.producers;n!==void 0;n=n.nextProducer){let t=n.producer,r=n.lastReadVersion;if(r!==t.version||(lr(t),r!==t.version))return!0}return!1}function ao(e){if(ii(e)){let n=e.producers;for(;n!==void 0;)n=Ql(n)}e.producers=void 0,e.producersTail=void 0,e.consumers=void 0,e.consumersTail=void 0}function mp(e,n){let t=e.consumersTail,r=ii(e);if(t!==void 0?(n.nextConsumer=t.nextConsumer,t.nextConsumer=n):(n.nextConsumer=void 0,e.consumers=n),n.prevConsumer=t,e.consumersTail=n,!r)for(let i=e.producers;i!==void 0;i=i.nextProducer)mp(i.producer,i)}function Ql(e){let n=e.producer,t=e.nextProducer,r=e.nextConsumer,i=e.prevConsumer;if(e.nextConsumer=void 0,e.prevConsumer=void 0,r!==void 0?r.prevConsumer=i:n.consumersTail=i,i!==void 0)i.nextConsumer=r;else if(n.consumers=r,!ii(n)){let o=n.producers;for(;o!==void 0;)o=Ql(o)}return t}function ii(e){return e.consumerIsAlwaysLive||e.consumers!==void 0}function co(e){n_?.(e)}function i_(e,n){let t=n.producersTail;if(t!==void 0){let r=n.producers;do{if(r===e)return!0;if(r===t)break;r=r.nextProducer}while(r!==void 0)}return!1}function lo(e,n){return Object.is(e,n)}function Hs(e,n){let t=Object.create(o_);t.computation=e,n!==void 0&&(t.equal=n);let r=()=>{if(lr(t),cr(t),t.value===qt)throw t.error;return t.value};return r[Oe]=t,co(t),r}var Rn=Symbol("UNSET"),sr=Symbol("COMPUTING"),qt=Symbol("ERRORED"),o_=P(y({},ar),{value:Rn,dirty:!0,error:null,equal:lo,kind:"computed",producerMustRecompute(e){return e.value===Rn||e.value===sr},producerRecomputeValue(e){if(e.value===sr)throw new Error("");let n=e.value;e.value=sr;let t=ur(e),r,i=!1;try{r=e.computation(),O(null),i=n!==Rn&&n!==qt&&r!==qt&&e.equal(n,r)}catch(o){r=qt,e.error=o}finally{ri(e,t)}if(i){e.value=n;return}e.value=r,e.version++}});function s_(){throw new Error}var vp=s_;function yp(e){vp(e)}function Zl(e){vp=e}var a_=null;function Yl(e,n){let t=Object.create($s);t.value=e,n!==void 0&&(t.equal=n);let r=()=>Cp(t);return r[Oe]=t,co(t),[r,s=>dr(t,s),s=>Us(t,s)]}function Cp(e){return cr(e),e.value}function dr(e,n){Kl()||yp(e),e.equal(e.value,n)||(e.value=n,c_(e))}function Us(e,n){Kl()||yp(e),dr(e,n(e.value))}var $s=P(y({},ar),{equal:lo,value:void 0,kind:"signal"});function c_(e){e.version++,hp(),zl(e),a_?.(e)}function Xl(e){let n=O(null);try{return e()}finally{O(n)}}function R(e){return typeof e=="function"}function oi(e){let t=e(r=>{Error.call(r),r.stack=new Error().stack});return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}var Ws=oi(e=>function(t){e(this),this.message=t?`${t.length} errors occurred during unsubscription:
${t.map((r,i)=>`${i+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=t});function fr(e,n){if(e){let t=e.indexOf(n);0<=t&&e.splice(t,1)}}var De=class e{constructor(n){this.initialTeardown=n,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let n;if(!this.closed){this.closed=!0;let{_parentage:t}=this;if(t)if(this._parentage=null,Array.isArray(t))for(let o of t)o.remove(this);else t.remove(this);let{initialTeardown:r}=this;if(R(r))try{r()}catch(o){n=o instanceof Ws?o.errors:[o]}let{_finalizers:i}=this;if(i){this._finalizers=null;for(let o of i)try{Ep(o)}catch(s){n=n??[],s instanceof Ws?n=[...n,...s.errors]:n.push(s)}}if(n)throw new Ws(n)}}add(n){var t;if(n&&n!==this)if(this.closed)Ep(n);else{if(n instanceof e){if(n.closed||n._hasParent(this))return;n._addParent(this)}(this._finalizers=(t=this._finalizers)!==null&&t!==void 0?t:[]).push(n)}}_hasParent(n){let{_parentage:t}=this;return t===n||Array.isArray(t)&&t.includes(n)}_addParent(n){let{_parentage:t}=this;this._parentage=Array.isArray(t)?(t.push(n),t):t?[t,n]:n}_removeParent(n){let{_parentage:t}=this;t===n?this._parentage=null:Array.isArray(t)&&fr(t,n)}remove(n){let{_finalizers:t}=this;t&&fr(t,n),n instanceof e&&n._removeParent(this)}};De.EMPTY=(()=>{let e=new De;return e.closed=!0,e})();var Jl=De.EMPTY;function Gs(e){return e instanceof De||e&&"closed"in e&&R(e.remove)&&R(e.add)&&R(e.unsubscribe)}function Ep(e){R(e)?e():e.unsubscribe()}var xt={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var si={setTimeout(e,n,...t){let{delegate:r}=si;return r?.setTimeout?r.setTimeout(e,n,...t):setTimeout(e,n,...t)},clearTimeout(e){let{delegate:n}=si;return(n?.clearTimeout||clearTimeout)(e)},delegate:void 0};function qs(e){si.setTimeout(()=>{let{onUnhandledError:n}=xt;if(n)n(e);else throw e})}function hr(){}var _p=eu("C",void 0,void 0);function Dp(e){return eu("E",void 0,e)}function Ip(e){return eu("N",e,void 0)}function eu(e,n,t){return{kind:e,value:n,error:t}}var pr=null;function ai(e){if(xt.useDeprecatedSynchronousErrorHandling){let n=!pr;if(n&&(pr={errorThrown:!1,error:null}),e(),n){let{errorThrown:t,error:r}=pr;if(pr=null,t)throw r}}else e()}function Sp(e){xt.useDeprecatedSynchronousErrorHandling&&pr&&(pr.errorThrown=!0,pr.error=e)}var gr=class extends De{constructor(n){super(),this.isStopped=!1,n?(this.destination=n,Gs(n)&&n.add(this)):this.destination=d_}static create(n,t,r){return new ci(n,t,r)}next(n){this.isStopped?nu(Ip(n),this):this._next(n)}error(n){this.isStopped?nu(Dp(n),this):(this.isStopped=!0,this._error(n))}complete(){this.isStopped?nu(_p,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(n){this.destination.next(n)}_error(n){try{this.destination.error(n)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},l_=Function.prototype.bind;function tu(e,n){return l_.call(e,n)}var ru=class{constructor(n){this.partialObserver=n}next(n){let{partialObserver:t}=this;if(t.next)try{t.next(n)}catch(r){zs(r)}}error(n){let{partialObserver:t}=this;if(t.error)try{t.error(n)}catch(r){zs(r)}else zs(n)}complete(){let{partialObserver:n}=this;if(n.complete)try{n.complete()}catch(t){zs(t)}}},ci=class extends gr{constructor(n,t,r){super();let i;if(R(n)||!n)i={next:n??void 0,error:t??void 0,complete:r??void 0};else{let o;this&&xt.useDeprecatedNextContext?(o=Object.create(n),o.unsubscribe=()=>this.unsubscribe(),i={next:n.next&&tu(n.next,o),error:n.error&&tu(n.error,o),complete:n.complete&&tu(n.complete,o)}):i=n}this.destination=new ru(i)}};function zs(e){xt.useDeprecatedSynchronousErrorHandling?Sp(e):qs(e)}function u_(e){throw e}function nu(e,n){let{onStoppedNotification:t}=xt;t&&si.setTimeout(()=>t(e,n))}var d_={closed:!0,next:hr,error:u_,complete:hr};var li=typeof Symbol=="function"&&Symbol.observable||"@@observable";function rt(e){return e}function iu(...e){return ou(e)}function ou(e){return e.length===0?rt:e.length===1?e[0]:function(t){return e.reduce((r,i)=>i(r),t)}}var B=(()=>{class e{constructor(t){t&&(this._subscribe=t)}lift(t){let r=new e;return r.source=this,r.operator=t,r}subscribe(t,r,i){let o=h_(t)?t:new ci(t,r,i);return ai(()=>{let{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(t){try{return this._subscribe(t)}catch(r){t.error(r)}}forEach(t,r){return r=bp(r),new r((i,o)=>{let s=new ci({next:a=>{try{t(a)}catch(c){o(c),s.unsubscribe()}},error:o,complete:i});this.subscribe(s)})}_subscribe(t){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(t)}[li](){return this}pipe(...t){return ou(t)(this)}toPromise(t){return t=bp(t),new t((r,i)=>{let o;this.subscribe(s=>o=s,s=>i(s),()=>r(o))})}}return e.create=n=>new e(n),e})();function bp(e){var n;return(n=e??xt.Promise)!==null&&n!==void 0?n:Promise}function f_(e){return e&&R(e.next)&&R(e.error)&&R(e.complete)}function h_(e){return e&&e instanceof gr||f_(e)&&Gs(e)}function p_(e){return R(e?.lift)}function J(e){return n=>{if(p_(n))return n.lift(function(t){try{return e(t,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function z(e,n,t,r,i){return new su(e,n,t,r,i)}var su=class extends gr{constructor(n,t,r,i,o,s){super(n),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=t?function(a){try{t(a)}catch(c){n.error(c)}}:super._next,this._error=i?function(a){try{i(a)}catch(c){n.error(c)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){n.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var n;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:t}=this;super.unsubscribe(),!t&&((n=this.onFinalize)===null||n===void 0||n.call(this))}}};var wp=oi(e=>function(){e(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var $=(()=>{class e extends B{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(t){let r=new Ks(this,this);return r.operator=t,r}_throwIfClosed(){if(this.closed)throw new wp}next(t){ai(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(t)}})}error(t){ai(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=t;let{observers:r}=this;for(;r.length;)r.shift().error(t)}})}complete(){ai(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:t}=this;for(;t.length;)t.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var t;return((t=this.observers)===null||t===void 0?void 0:t.length)>0}_trySubscribe(t){return this._throwIfClosed(),super._trySubscribe(t)}_subscribe(t){return this._throwIfClosed(),this._checkFinalizedStatuses(t),this._innerSubscribe(t)}_innerSubscribe(t){let{hasError:r,isStopped:i,observers:o}=this;return r||i?Jl:(this.currentObservers=null,o.push(t),new De(()=>{this.currentObservers=null,fr(o,t)}))}_checkFinalizedStatuses(t){let{hasError:r,thrownError:i,isStopped:o}=this;r?t.error(i):o&&t.complete()}asObservable(){let t=new B;return t.source=this,t}}return e.create=(n,t)=>new Ks(n,t),e})(),Ks=class extends ${constructor(n,t){super(),this.destination=n,this.source=t}next(n){var t,r;(r=(t=this.destination)===null||t===void 0?void 0:t.next)===null||r===void 0||r.call(t,n)}error(n){var t,r;(r=(t=this.destination)===null||t===void 0?void 0:t.error)===null||r===void 0||r.call(t,n)}complete(){var n,t;(t=(n=this.destination)===null||n===void 0?void 0:n.complete)===null||t===void 0||t.call(n)}_subscribe(n){var t,r;return(r=(t=this.source)===null||t===void 0?void 0:t.subscribe(n))!==null&&r!==void 0?r:Jl}};var Be=class extends ${constructor(n){super(),this._value=n}get value(){return this.getValue()}_subscribe(n){let t=super._subscribe(n);return!t.closed&&n.next(this._value),t}getValue(){let{hasError:n,thrownError:t,_value:r}=this;if(n)throw t;return this._throwIfClosed(),r}next(n){super.next(this._value=n)}};var au={now(){return(au.delegate||Date).now()},delegate:void 0};var Qs=class extends De{constructor(n,t){super()}schedule(n,t=0){return this}};var uo={setInterval(e,n,...t){let{delegate:r}=uo;return r?.setInterval?r.setInterval(e,n,...t):setInterval(e,n,...t)},clearInterval(e){let{delegate:n}=uo;return(n?.clearInterval||clearInterval)(e)},delegate:void 0};var Zs=class extends Qs{constructor(n,t){super(n,t),this.scheduler=n,this.work=t,this.pending=!1}schedule(n,t=0){var r;if(this.closed)return this;this.state=n;let i=this.id,o=this.scheduler;return i!=null&&(this.id=this.recycleAsyncId(o,i,t)),this.pending=!0,this.delay=t,this.id=(r=this.id)!==null&&r!==void 0?r:this.requestAsyncId(o,this.id,t),this}requestAsyncId(n,t,r=0){return uo.setInterval(n.flush.bind(n,this),r)}recycleAsyncId(n,t,r=0){if(r!=null&&this.delay===r&&this.pending===!1)return t;t!=null&&uo.clearInterval(t)}execute(n,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let r=this._execute(n,t);if(r)return r;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(n,t){let r=!1,i;try{this.work(n)}catch(o){r=!0,i=o||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){let{id:n,scheduler:t}=this,{actions:r}=t;this.work=this.state=this.scheduler=null,this.pending=!1,fr(r,this),n!=null&&(this.id=this.recycleAsyncId(t,n,null)),this.delay=null,super.unsubscribe()}}};var ui=class e{constructor(n,t=e.now){this.schedulerActionCtor=n,this.now=t}schedule(n,t=0,r){return new this.schedulerActionCtor(this,n).schedule(r,t)}};ui.now=au.now;var Ys=class extends ui{constructor(n,t=ui.now){super(n,t),this.actions=[],this._active=!1}flush(n){let{actions:t}=this;if(this._active){t.push(n);return}let r;this._active=!0;do if(r=n.execute(n.state,n.delay))break;while(n=t.shift());if(this._active=!1,r){for(;n=t.shift();)n.unsubscribe();throw r}}};var g_=new Ys(Zs),Tp=g_;var Ie=new B(e=>e.complete());function Xs(e){return e&&R(e.schedule)}function Mp(e){return e[e.length-1]}function xn(e){return R(Mp(e))?e.pop():void 0}function On(e){return Xs(Mp(e))?e.pop():void 0}function Np(e,n,t,r){function i(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(u){try{l(r.next(u))}catch(f){s(f)}}function c(u){try{l(r.throw(u))}catch(f){s(f)}}function l(u){u.done?o(u.value):i(u.value).then(a,c)}l((r=r.apply(e,n||[])).next())})}function Ap(e){var n=typeof Symbol=="function"&&Symbol.iterator,t=n&&e[n],r=0;if(t)return t.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(n?"Object is not iterable.":"Symbol.iterator is not defined.")}function mr(e){return this instanceof mr?(this.v=e,this):new mr(e)}function Rp(e,n,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=t.apply(e,n||[]),i,o=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",s),i[Symbol.asyncIterator]=function(){return this},i;function s(h){return function(m){return Promise.resolve(m).then(h,f)}}function a(h,m){r[h]&&(i[h]=function(E){return new Promise(function(I,T){o.push([h,E,I,T])>1||c(h,E)})},m&&(i[h]=m(i[h])))}function c(h,m){try{l(r[h](m))}catch(E){p(o[0][3],E)}}function l(h){h.value instanceof mr?Promise.resolve(h.value.v).then(u,f):p(o[0][2],h)}function u(h){c("next",h)}function f(h){c("throw",h)}function p(h,m){h(m),o.shift(),o.length&&c(o[0][0],o[0][1])}}function xp(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=e[Symbol.asyncIterator],t;return n?n.call(e):(e=typeof Ap=="function"?Ap(e):e[Symbol.iterator](),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(o){t[o]=e[o]&&function(s){return new Promise(function(a,c){s=e[o](s),i(a,c,s.done,s.value)})}}function i(o,s,a,c){Promise.resolve(c).then(function(l){o({value:l,done:a})},s)}}var di=e=>e&&typeof e.length=="number"&&typeof e!="function";function Js(e){return R(e?.then)}function ea(e){return R(e[li])}function ta(e){return Symbol.asyncIterator&&R(e?.[Symbol.asyncIterator])}function na(e){return new TypeError(`You provided ${e!==null&&typeof e=="object"?"an invalid object":`'${e}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function m_(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var ra=m_();function ia(e){return R(e?.[ra])}function oa(e){return Rp(this,arguments,function*(){let t=e.getReader();try{for(;;){let{value:r,done:i}=yield mr(t.read());if(i)return yield mr(void 0);yield yield mr(r)}}finally{t.releaseLock()}})}function sa(e){return R(e?.getReader)}function se(e){if(e instanceof B)return e;if(e!=null){if(ea(e))return v_(e);if(di(e))return y_(e);if(Js(e))return C_(e);if(ta(e))return Op(e);if(ia(e))return E_(e);if(sa(e))return __(e)}throw na(e)}function v_(e){return new B(n=>{let t=e[li]();if(R(t.subscribe))return t.subscribe(n);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function y_(e){return new B(n=>{for(let t=0;t<e.length&&!n.closed;t++)n.next(e[t]);n.complete()})}function C_(e){return new B(n=>{e.then(t=>{n.closed||(n.next(t),n.complete())},t=>n.error(t)).then(null,qs)})}function E_(e){return new B(n=>{for(let t of e)if(n.next(t),n.closed)return;n.complete()})}function Op(e){return new B(n=>{D_(e,n).catch(t=>n.error(t))})}function __(e){return Op(oa(e))}function D_(e,n){var t,r,i,o;return Np(this,void 0,void 0,function*(){try{for(t=xp(e);r=yield t.next(),!r.done;){let s=r.value;if(n.next(s),n.closed)return}}catch(s){i={error:s}}finally{try{r&&!r.done&&(o=t.return)&&(yield o.call(t))}finally{if(i)throw i.error}}n.complete()})}function Je(e,n,t,r=0,i=!1){let o=n.schedule(function(){t(),i?e.add(this.schedule(null,r)):this.unsubscribe()},r);if(e.add(o),!i)return o}function aa(e,n=0){return J((t,r)=>{t.subscribe(z(r,i=>Je(r,e,()=>r.next(i),n),()=>Je(r,e,()=>r.complete(),n),i=>Je(r,e,()=>r.error(i),n)))})}function ca(e,n=0){return J((t,r)=>{r.add(e.schedule(()=>t.subscribe(r),n))})}function kp(e,n){return se(e).pipe(ca(n),aa(n))}function Pp(e,n){return se(e).pipe(ca(n),aa(n))}function Fp(e,n){return new B(t=>{let r=0;return n.schedule(function(){r===e.length?t.complete():(t.next(e[r++]),t.closed||this.schedule())})})}function Lp(e,n){return new B(t=>{let r;return Je(t,n,()=>{r=e[ra](),Je(t,n,()=>{let i,o;try{({value:i,done:o}=r.next())}catch(s){t.error(s);return}o?t.complete():t.next(i)},0,!0)}),()=>R(r?.return)&&r.return()})}function la(e,n){if(!e)throw new Error("Iterable cannot be null");return new B(t=>{Je(t,n,()=>{let r=e[Symbol.asyncIterator]();Je(t,n,()=>{r.next().then(i=>{i.done?t.complete():t.next(i.value)})},0,!0)})})}function Bp(e,n){return la(oa(e),n)}function Vp(e,n){if(e!=null){if(ea(e))return kp(e,n);if(di(e))return Fp(e,n);if(Js(e))return Pp(e,n);if(ta(e))return la(e,n);if(ia(e))return Lp(e,n);if(sa(e))return Bp(e,n)}throw na(e)}function we(e,n){return n?Vp(e,n):se(e)}function H(...e){let n=On(e);return we(e,n)}function cu(e,n){let t=R(e)?e:()=>e,r=i=>i.error(t());return new B(n?i=>n.schedule(r,0,i):r)}function ua(e){return!!e&&(e instanceof B||R(e.lift)&&R(e.subscribe))}var vr=oi(e=>function(){e(this),this.name="EmptyError",this.message="no elements in sequence"});function jp(e){return e instanceof Date&&!isNaN(e)}function de(e,n){return J((t,r)=>{let i=0;t.subscribe(z(r,o=>{r.next(e.call(n,o,i++))}))})}var{isArray:I_}=Array;function S_(e,n){return I_(n)?e(...n):e(n)}function fi(e){return de(n=>S_(e,n))}var{isArray:b_}=Array,{getPrototypeOf:w_,prototype:T_,keys:M_}=Object;function da(e){if(e.length===1){let n=e[0];if(b_(n))return{args:n,keys:null};if(A_(n)){let t=M_(n);return{args:t.map(r=>n[r]),keys:t}}}return{args:e,keys:null}}function A_(e){return e&&typeof e=="object"&&w_(e)===T_}function fa(e,n){return e.reduce((t,r,i)=>(t[r]=n[i],t),{})}function lu(...e){let n=On(e),t=xn(e),{args:r,keys:i}=da(e);if(r.length===0)return we([],n);let o=new B(N_(r,n,i?s=>fa(i,s):rt));return t?o.pipe(fi(t)):o}function N_(e,n,t=rt){return r=>{Hp(n,()=>{let{length:i}=e,o=new Array(i),s=i,a=i;for(let c=0;c<i;c++)Hp(n,()=>{let l=we(e[c],n),u=!1;l.subscribe(z(r,f=>{o[c]=f,u||(u=!0,a--),a||r.next(t(o.slice()))},()=>{--s||r.complete()}))},r)},r)}}function Hp(e,n,t){e?Je(t,e,n):n()}function Up(e,n,t,r,i,o,s,a){let c=[],l=0,u=0,f=!1,p=()=>{f&&!c.length&&!l&&n.complete()},h=E=>l<r?m(E):c.push(E),m=E=>{o&&n.next(E),l++;let I=!1;se(t(E,u++)).subscribe(z(n,T=>{i?.(T),o?h(T):n.next(T)},()=>{I=!0},void 0,()=>{if(I)try{for(l--;c.length&&l<r;){let T=c.shift();s?Je(n,s,()=>m(T)):m(T)}p()}catch(T){n.error(T)}}))};return e.subscribe(z(n,h,()=>{f=!0,p()})),()=>{a?.()}}function ke(e,n,t=1/0){return R(n)?ke((r,i)=>de((o,s)=>n(r,o,i,s))(se(e(r,i))),t):(typeof n=="number"&&(t=n),J((r,i)=>Up(r,i,e,t)))}function $p(e=1/0){return ke(rt,e)}function Wp(){return $p(1)}function kn(...e){return Wp()(we(e,On(e)))}function fo(e){return new B(n=>{se(e()).subscribe(n)})}function uu(...e){let n=xn(e),{args:t,keys:r}=da(e),i=new B(o=>{let{length:s}=t;if(!s){o.complete();return}let a=new Array(s),c=s,l=s;for(let u=0;u<s;u++){let f=!1;se(t[u]).subscribe(z(o,p=>{f||(f=!0,l--),a[u]=p},()=>c--,void 0,()=>{(!c||!f)&&(l||o.next(r?fa(r,a):a),o.complete())}))}});return n?i.pipe(fi(n)):i}var R_=["addListener","removeListener"],x_=["addEventListener","removeEventListener"],O_=["on","off"];function it(e,n,t,r){if(R(t)&&(r=t,t=void 0),r)return it(e,n,t).pipe(fi(r));let[i,o]=F_(e)?x_.map(s=>a=>e[s](n,a,t)):k_(e)?R_.map(Gp(e,n)):P_(e)?O_.map(Gp(e,n)):[];if(!i&&di(e))return ke(s=>it(s,n,t))(se(e));if(!i)throw new TypeError("Invalid event target");return new B(s=>{let a=(...c)=>s.next(1<c.length?c:c[0]);return i(a),()=>o(a)})}function Gp(e,n){return t=>r=>e[t](n,r)}function k_(e){return R(e.addListener)&&R(e.removeListener)}function P_(e){return R(e.on)&&R(e.off)}function F_(e){return R(e.addEventListener)&&R(e.removeEventListener)}function du(e=0,n,t=Tp){let r=-1;return n!=null&&(Xs(n)?t=n:r=n),new B(i=>{let o=jp(e)?+e-t.now():e;o<0&&(o=0);let s=0;return t.schedule(function(){i.closed||(i.next(s++),0<=r?this.schedule(void 0,r):i.complete())},o)})}var{isArray:L_}=Array;function ha(e){return e.length===1&&L_(e[0])?e[0]:e}function qe(e,n){return J((t,r)=>{let i=0;t.subscribe(z(r,o=>e.call(n,o,i++)&&r.next(o)))})}function fu(...e){return e=ha(e),e.length===1?se(e[0]):new B(B_(e))}function B_(e){return n=>{let t=[];for(let r=0;t&&!n.closed&&r<e.length;r++)t.push(se(e[r]).subscribe(z(n,i=>{if(t){for(let o=0;o<t.length;o++)o!==r&&t[o].unsubscribe();t=null}n.next(i)})))}}function ho(...e){let n=xn(e),t=ha(e);return t.length?new B(r=>{let i=t.map(()=>[]),o=t.map(()=>!1);r.add(()=>{i=o=null});for(let s=0;!r.closed&&s<t.length;s++)se(t[s]).subscribe(z(r,a=>{if(i[s].push(a),i.every(c=>c.length)){let c=i.map(l=>l.shift());r.next(n?n(...c):c),i.some((l,u)=>!l.length&&o[u])&&r.complete()}},()=>{o[s]=!0,!i[s].length&&r.complete()}));return()=>{i=o=null}}):Ie}function po(e){return J((n,t)=>{let r=null,i=!1,o;r=n.subscribe(z(t,void 0,void 0,s=>{o=se(e(s,po(e)(n))),r?(r.unsubscribe(),r=null,o.subscribe(t)):i=!0})),i&&(r.unsubscribe(),r=null,o.subscribe(t))})}function pa(e,n){return R(n)?ke(e,n,1):ke(e,1)}function qp(e){return J((n,t)=>{let r=!1;n.subscribe(z(t,i=>{r=!0,t.next(i)},()=>{r||t.next(e),t.complete()}))})}function mt(e){return e<=0?()=>Ie:J((n,t)=>{let r=0;n.subscribe(z(t,i=>{++r<=e&&(t.next(i),e<=r&&t.complete())}))})}function zp(e=V_){return J((n,t)=>{let r=!1;n.subscribe(z(t,i=>{r=!0,t.next(i)},()=>r?t.complete():t.error(e())))})}function V_(){return new vr}function hu(...e){return n=>kn(n,H(...e))}function pu(e){return J((n,t)=>{try{n.subscribe(t)}finally{t.add(e)}})}function pn(e,n){let t=arguments.length>=2;return r=>r.pipe(e?qe((i,o)=>e(i,o,r)):rt,mt(1),t?qp(n):zp(()=>new vr))}function ga(e){return e<=0?()=>Ie:J((n,t)=>{let r=[];n.subscribe(z(t,i=>{r.push(i),e<r.length&&r.shift()},()=>{for(let i of r)t.next(i);t.complete()},void 0,()=>{r=null}))})}function gu(...e){let n=On(e);return J((t,r)=>{(n?kn(e,t,n):kn(e,t)).subscribe(r)})}function Ot(e,n){return J((t,r)=>{let i=null,o=0,s=!1,a=()=>s&&!i&&r.complete();t.subscribe(z(r,c=>{i?.unsubscribe();let l=0,u=o++;se(e(c,u)).subscribe(i=z(r,f=>r.next(n?n(c,f,u,l++):f),()=>{i=null,a()}))},()=>{s=!0,a()}))})}function Me(e){return J((n,t)=>{se(e).subscribe(z(t,()=>t.complete(),hr)),!t.closed&&n.subscribe(t)})}function ot(e,n,t){let r=R(e)||n||t?{next:e,error:n,complete:t}:e;return r?J((i,o)=>{var s;(s=r.subscribe)===null||s===void 0||s.call(r);let a=!0;i.subscribe(z(o,c=>{var l;(l=r.next)===null||l===void 0||l.call(r,c),o.next(c)},()=>{var c;a=!1,(c=r.complete)===null||c===void 0||c.call(r),o.complete()},c=>{var l;a=!1,(l=r.error)===null||l===void 0||l.call(r,c),o.error(c)},()=>{var c,l;a&&((c=r.unsubscribe)===null||c===void 0||c.call(r)),(l=r.finalize)===null||l===void 0||l.call(r)}))}):rt}function ma(...e){let n=xn(e);return J((t,r)=>{let i=e.length,o=new Array(i),s=e.map(()=>!1),a=!1;for(let c=0;c<i;c++)se(e[c]).subscribe(z(r,l=>{o[c]=l,!a&&!s[c]&&(s[c]=!0,(a=s.every(rt))&&(s=null))},hr));t.subscribe(z(r,c=>{if(a){let l=[c,...o];r.next(n?n(...l):l)}}))})}var mu;function va(){return mu}function zt(e){let n=mu;return mu=e,n}var Kp=Symbol("NotFound");function hi(e){return e===Kp||e?.name==="\u0275NotFound"}function vu(e,n,t){let r=Object.create(j_);r.source=e,r.computation=n,t!=null&&(r.equal=t);let o=()=>{if(lr(r),cr(r),r.value===qt)throw r.error;return r.value};return o[Oe]=r,co(r),o}function Qp(e,n){lr(e),dr(e,n),ni(e)}function Zp(e,n){if(lr(e),e.value===qt)throw e.error;Us(e,n),ni(e)}var j_=P(y({},ar),{value:Rn,dirty:!0,error:null,equal:lo,kind:"linkedSignal",producerMustRecompute(e){return e.value===Rn||e.value===sr},producerRecomputeValue(e){if(e.value===sr)throw new Error("");let n=e.value;e.value=sr;let t=ur(e),r;try{let i=e.source(),o=n===Rn||n===qt?void 0:{source:e.sourceValue,value:n};r=e.computation(i,o),e.sourceValue=i}catch(i){r=qt,e.error=i}finally{ri(e,t)}if(n!==Rn&&r!==qt&&e.equal(n,r)){e.value=n;return}e.value=r,e.version++}});var Da="https://angular.dev/best-practices/security#preventing-cross-site-scripting-xss",b=class extends Error{code;constructor(n,t){super(Ir(n,t)),this.code=n}};function $_(e){return`NG0${Math.abs(e)}`}function Ir(e,n){return`${$_(e)}${n?": "+n:""}`}var Ln=globalThis;function te(e){for(let n in e)if(e[n]===te)return n;throw Error("")}function tg(e,n){for(let t in n)n.hasOwnProperty(t)&&!e.hasOwnProperty(t)&&(e[t]=n[t])}function mn(e){if(typeof e=="string")return e;if(Array.isArray(e))return`[${e.map(mn).join(", ")}]`;if(e==null)return""+e;let n=e.overriddenName||e.name;if(n)return`${n}`;let t=e.toString();if(t==null)return""+t;let r=t.indexOf(`
`);return r>=0?t.slice(0,r):t}function Ia(e,n){return e?n?`${e} ${n}`:e:n||""}var W_=te({__forward_ref__:te});function Kt(e){return e.__forward_ref__=Kt,e.toString=function(){return mn(this())},e}function Ve(e){return xu(e)?e():e}function xu(e){return typeof e=="function"&&e.hasOwnProperty(W_)&&e.__forward_ref__===Kt}function _(e){return{token:e.token,providedIn:e.providedIn||null,factory:e.factory,value:void 0}}function vt(e){return{providers:e.providers||[],imports:e.imports||[]}}function Eo(e){return G_(e,Sa)}function Ou(e){return Eo(e)!==null}function G_(e,n){return e.hasOwnProperty(n)&&e[n]||null}function q_(e){let n=e?.[Sa]??null;return n||null}function Cu(e){return e&&e.hasOwnProperty(Ca)?e[Ca]:null}var Sa=te({\u0275prov:te}),Ca=te({\u0275inj:te}),w=class{_desc;ngMetadataName="InjectionToken";\u0275prov;constructor(n,t){this._desc=n,this.\u0275prov=void 0,typeof t=="number"?this.__NG_ELEMENT_ID__=t:t!==void 0&&(this.\u0275prov=_({token:this,providedIn:t.providedIn||"root",factory:t.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function ku(e){return e&&!!e.\u0275providers}var Pu=te({\u0275cmp:te}),Fu=te({\u0275dir:te}),Lu=te({\u0275pipe:te}),Bu=te({\u0275mod:te}),mo=te({\u0275fac:te}),Sr=te({__NG_ELEMENT_ID__:te}),Yp=te({__NG_ENV_ID__:te});function Vu(e){return ba(e,"@NgModule"),e[Bu]||null}function vn(e){return ba(e,"@Component"),e[Pu]||null}function ju(e){return ba(e,"@Directive"),e[Fu]||null}function ng(e){return ba(e,"@Pipe"),e[Lu]||null}function ba(e,n){if(e==null)throw new b(-919,!1)}function Pt(e){return typeof e=="string"?e:e==null?"":String(e)}var rg=te({ngErrorCode:te}),z_=te({ngErrorMessage:te}),K_=te({ngTokenPath:te});function Hu(e,n){return ig("",-200,n)}function wa(e,n){throw new b(-201,!1)}function ig(e,n,t){let r=new b(n,e);return r[rg]=n,r[z_]=e,t&&(r[K_]=t),r}function Q_(e){return e[rg]}var Eu;function og(){return Eu}function st(e){let n=Eu;return Eu=e,n}function Uu(e,n,t){let r=Eo(e);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(t&8)return null;if(n!==void 0)return n;wa(e,"")}var Z_={},yr=Z_,Y_="__NG_DI_FLAG__",_u=class{injector;constructor(n){this.injector=n}retrieve(n,t){let r=Cr(t)||0;try{return this.injector.get(n,r&8?null:yr,r)}catch(i){if(hi(i))return i;throw i}}};function X_(e,n=0){let t=va();if(t===void 0)throw new b(-203,!1);if(t===null)return Uu(e,void 0,n);{let r=J_(n),i=t.retrieve(e,r);if(hi(i)){if(r.optional)return null;throw i}return i}}function V(e,n=0){return(og()||X_)(Ve(e),n)}function g(e,n){return V(e,Cr(n))}function Cr(e){return typeof e>"u"||typeof e=="number"?e:0|(e.optional&&8)|(e.host&&1)|(e.self&&2)|(e.skipSelf&&4)}function J_(e){return{optional:!!(e&8),host:!!(e&1),self:!!(e&2),skipSelf:!!(e&4)}}function Du(e){let n=[];for(let t=0;t<e.length;t++){let r=Ve(e[t]);if(Array.isArray(r)){if(r.length===0)throw new b(900,!1);let i,o=0;for(let s=0;s<r.length;s++){let a=r[s],c=eD(a);typeof c=="number"?c===-1?i=a.token:o|=c:i=a}n.push(V(i,o))}else n.push(V(r))}return n}function eD(e){return e[Y_]}function Er(e,n){let t=e.hasOwnProperty(mo);return t?e[mo]:null}function sg(e,n,t){if(e.length!==n.length)return!1;for(let r=0;r<e.length;r++){let i=e[r],o=n[r];if(t&&(i=t(i),o=t(o)),o!==i)return!1}return!0}function ag(e){return e.flat(Number.POSITIVE_INFINITY)}function Ta(e,n){e.forEach(t=>Array.isArray(t)?Ta(t,n):n(t))}function $u(e,n,t){n>=e.length?e.push(t):e.splice(n,0,t)}function _o(e,n){return n>=e.length-1?e.pop():e.splice(n,1)[0]}function cg(e,n){let t=[];for(let r=0;r<e;r++)t.push(n);return t}function lg(e,n,t,r){let i=e.length;if(i==n)e.push(t,r);else if(i===1)e.push(r,e[0]),e[0]=t;else{for(i--,e.push(e[i-1],e[i]);i>n;){let o=i-2;e[i]=e[o],i--}e[n]=t,e[n+1]=r}}function Do(e,n,t){let r=gi(e,n);return r>=0?e[r|1]=t:(r=~r,lg(e,r,n,t)),r}function Ma(e,n){let t=gi(e,n);if(t>=0)return e[t|1]}function gi(e,n){return tD(e,n,1)}function tD(e,n,t){let r=0,i=e.length>>t;for(;i!==r;){let o=r+(i-r>>1),s=e[o<<t];if(n===s)return o<<t;s>n?i=o:r=o+1}return~(i<<t)}var Bn={},ze=[],Qt=new w(""),Wu=new w("",-1),Gu=new w(""),vo=class{get(n,t=yr){if(t===yr){let i=ig("",-201);throw i.name="\u0275NotFound",i}return t}};function Zt(e){return{\u0275providers:e}}function ug(e){return Zt([{provide:Qt,multi:!0,useValue:e}])}function dg(...e){return{\u0275providers:qu(!0,e),\u0275fromNgModule:!0}}function qu(e,...n){let t=[],r=new Set,i,o=s=>{t.push(s)};return Ta(n,s=>{let a=s;Ea(a,o,[],r)&&(i||=[],i.push(a))}),i!==void 0&&fg(i,o),t}function fg(e,n){for(let t=0;t<e.length;t++){let{ngModule:r,providers:i}=e[t];zu(i,o=>{n(o,r)})}}function Ea(e,n,t,r){if(e=Ve(e),!e)return!1;let i=null,o=Cu(e),s=!o&&vn(e);if(!o&&!s){let c=e.ngModule;if(o=Cu(c),o)i=c;else return!1}else{if(s&&!s.standalone)return!1;i=e}let a=r.has(i);if(s){if(a)return!1;if(r.add(i),s.dependencies){let c=typeof s.dependencies=="function"?s.dependencies():s.dependencies;for(let l of c)Ea(l,n,t,r)}}else if(o){if(o.imports!=null&&!a){r.add(i);let l;Ta(o.imports,u=>{Ea(u,n,t,r)&&(l||=[],l.push(u))}),l!==void 0&&fg(l,n)}if(!a){let l=Er(i)||(()=>new i);n({provide:i,useFactory:l,deps:ze},i),n({provide:Gu,useValue:i,multi:!0},i),n({provide:Qt,useValue:()=>V(i),multi:!0},i)}let c=o.providers;if(c!=null&&!a){let l=e;zu(c,u=>{n(u,l)})}}else return!1;return i!==e&&e.providers!==void 0}function zu(e,n){for(let t of e)ku(t)&&(t=t.\u0275providers),Array.isArray(t)?zu(t,n):n(t)}var nD=te({provide:String,useValue:te});function hg(e){return e!==null&&typeof e=="object"&&nD in e}function rD(e){return!!(e&&e.useExisting)}function iD(e){return!!(e&&e.useFactory)}function _r(e){return typeof e=="function"}function pg(e){return!!e.useClass}var Io=new w(""),ya={},Xp={},yu;function mi(){return yu===void 0&&(yu=new vo),yu}var Ce=class{},Dr=class extends Ce{parent;source;scopes;records=new Map;_ngOnDestroyHooks=new Set;_onDestroyHooks=[];get destroyed(){return this._destroyed}_destroyed=!1;injectorDefTypes;constructor(n,t,r,i){super(),this.parent=t,this.source=r,this.scopes=i,Su(n,s=>this.processProvider(s)),this.records.set(Wu,pi(void 0,this)),i.has("environment")&&this.records.set(Ce,pi(void 0,this));let o=this.records.get(Io);o!=null&&typeof o.value=="string"&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(Gu,ze,{self:!0}))}retrieve(n,t){let r=Cr(t)||0;try{return this.get(n,yr,r)}catch(i){if(hi(i))return i;throw i}}destroy(){go(this),this._destroyed=!0;let n=O(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let t=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of t)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),O(n)}}onDestroy(n){return go(this),this._onDestroyHooks.push(n),()=>this.removeOnDestroy(n)}runInContext(n){go(this);let t=zt(this),r=st(void 0),i;try{return n()}finally{zt(t),st(r)}}get(n,t=yr,r){if(go(this),n.hasOwnProperty(Yp))return n[Yp](this);let i=Cr(r),o,s=zt(this),a=st(void 0);try{if(!(i&4)){let l=this.records.get(n);if(l===void 0){let u=lD(n)&&Eo(n);u&&this.injectableDefInScope(u)?l=pi(Iu(n),ya):l=null,this.records.set(n,l)}if(l!=null)return this.hydrate(n,l,i)}let c=i&2?mi():this.parent;return t=i&8&&t===yr?null:t,c.get(n,t)}catch(c){let l=Q_(c);throw l===-200||l===-201?new b(l,null):c}finally{st(a),zt(s)}}resolveInjectorInitializers(){let n=O(null),t=zt(this),r=st(void 0),i;try{let o=this.get(Qt,ze,{self:!0});for(let s of o)s()}finally{zt(t),st(r),O(n)}}toString(){let n=[],t=this.records;for(let r of t.keys())n.push(mn(r));return`R3Injector[${n.join(", ")}]`}processProvider(n){n=Ve(n);let t=_r(n)?n:Ve(n&&n.provide),r=sD(n);if(!_r(n)&&n.multi===!0){let i=this.records.get(t);i||(i=pi(void 0,ya,!0),i.factory=()=>Du(i.multi),this.records.set(t,i)),t=n,i.multi.push(n)}this.records.set(t,r)}hydrate(n,t,r){let i=O(null);try{if(t.value===Xp)throw Hu(mn(n));return t.value===ya&&(t.value=Xp,t.value=t.factory(void 0,r)),typeof t.value=="object"&&t.value&&cD(t.value)&&this._ngOnDestroyHooks.add(t.value),t.value}finally{O(i)}}injectableDefInScope(n){if(!n.providedIn)return!1;let t=Ve(n.providedIn);return typeof t=="string"?t==="any"||this.scopes.has(t):this.injectorDefTypes.has(t)}removeOnDestroy(n){let t=this._onDestroyHooks.indexOf(n);t!==-1&&this._onDestroyHooks.splice(t,1)}};function Iu(e){let n=Eo(e),t=n!==null?n.factory:Er(e);if(t!==null)return t;if(e instanceof w)throw new b(204,!1);if(e instanceof Function)return oD(e);throw new b(204,!1)}function oD(e){if(e.length>0)throw new b(204,!1);let t=q_(e);return t!==null?()=>t.factory(e):()=>new e}function sD(e){if(hg(e))return pi(void 0,e.useValue);{let n=Ku(e);return pi(n,ya)}}function Ku(e,n,t){let r;if(_r(e)){let i=Ve(e);return Er(i)||Iu(i)}else if(hg(e))r=()=>Ve(e.useValue);else if(iD(e))r=()=>e.useFactory(...Du(e.deps||[]));else if(rD(e))r=(i,o)=>V(Ve(e.useExisting),o!==void 0&&o&8?8:void 0);else{let i=Ve(e&&(e.useClass||e.provide));if(aD(e))r=()=>new i(...Du(e.deps));else return Er(i)||Iu(i)}return r}function go(e){if(e.destroyed)throw new b(205,!1)}function pi(e,n,t=!1){return{factory:e,value:n,multi:t?[]:void 0}}function aD(e){return!!e.deps}function cD(e){return e!==null&&typeof e=="object"&&typeof e.ngOnDestroy=="function"}function lD(e){return typeof e=="function"||typeof e=="object"&&e.ngMetadataName==="InjectionToken"}function Su(e,n){for(let t of e)Array.isArray(t)?Su(t,n):t&&ku(t)?Su(t.\u0275providers,n):n(t)}function $e(e,n){let t;e instanceof Dr?(go(e),t=e):t=new _u(e);let r,i=zt(t),o=st(void 0);try{return n()}finally{zt(i),st(o)}}function gg(){return og()!==void 0||va()!=null}var Ft=0,N=1,F=2,Ae=3,yt=4,Ke=5,br=6,vi=7,Se=8,at=9,Yt=10,ae=11,yi=12,Qu=13,wr=14,Qe=15,yn=16,Tr=17,Xt=18,Cn=19,Zu=20,gn=21,Aa=22,So=23,ct=24,Mr=25,Vn=26,Ee=27,mg=1,Yu=6,jn=7,bo=8,Ar=9,_e=10;function Jt(e){return Array.isArray(e)&&typeof e[mg]=="object"}function Lt(e){return Array.isArray(e)&&e[mg]===!0}function Xu(e){return(e.flags&4)!==0}function Hn(e){return e.componentOffset>-1}function wo(e){return(e.flags&1)===1}function en(e){return!!e.template}function Ci(e){return(e[F]&512)!==0}function Nr(e){return(e[F]&256)===256}var Ju="svg",vg="math";function Ct(e){for(;Array.isArray(e);)e=e[Ft];return e}function ed(e,n){return Ct(n[e])}function Et(e,n){return Ct(n[e.index])}function To(e,n){return e.data[n]}function yg(e,n){return e[n]}function Na(e,n,t,r){t>=e.data.length&&(e.data[t]=null,e.blueprint[t]=null),n[t]=r}function _t(e,n){let t=n[e];return Jt(t)?t:t[Ft]}function Cg(e){return(e[F]&4)===4}function Ra(e){return(e[F]&128)===128}function Eg(e){return Lt(e[Ae])}function tn(e,n){return n==null?null:e[n]}function td(e){e[Tr]=0}function nd(e){e[F]&1024||(e[F]|=1024,Ra(e)&&Ei(e))}function _g(e,n){for(;e>0;)n=n[wr],e--;return n}function Mo(e){return!!(e[F]&9216||e[ct]?.dirty)}function xa(e){e[Yt].changeDetectionScheduler?.notify(8),e[F]&64&&(e[F]|=1024),Mo(e)&&Ei(e)}function Ei(e){e[Yt].changeDetectionScheduler?.notify(0);let n=Pn(e);for(;n!==null&&!(n[F]&8192||(n[F]|=8192,!Ra(n)));)n=Pn(n)}function rd(e,n){if(Nr(e))throw new b(911,!1);e[gn]===null&&(e[gn]=[]),e[gn].push(n)}function Dg(e,n){if(e[gn]===null)return;let t=e[gn].indexOf(n);t!==-1&&e[gn].splice(t,1)}function Pn(e){let n=e[Ae];return Lt(n)?n[Ae]:n}function id(e){return e[vi]??=[]}function od(e){return e.cleanup??=[]}function Ig(e,n,t,r){let i=id(n);i.push(t),e.firstCreatePass&&od(e).push(r,i.length-1)}var j={lFrame:kg(null),bindingsEnabled:!0,skipHydrationRootTNode:null};var bu=!1;function Sg(){return j.lFrame.elementDepthCount}function bg(){j.lFrame.elementDepthCount++}function sd(){j.lFrame.elementDepthCount--}function ad(){return j.bindingsEnabled}function cd(){return j.skipHydrationRootTNode!==null}function ld(e){return j.skipHydrationRootTNode===e}function ud(){j.skipHydrationRootTNode=null}function x(){return j.lFrame.lView}function me(){return j.lFrame.tView}function re(e){return j.lFrame.contextLView=e,e[Se]}function ie(e){return j.lFrame.contextLView=null,e}function Te(){let e=dd();for(;e!==null&&e.type===64;)e=e.parent;return e}function dd(){return j.lFrame.currentTNode}function wg(){let e=j.lFrame,n=e.currentTNode;return e.isParent?n:n.parent}function Rr(e,n){let t=j.lFrame;t.currentTNode=e,t.isParent=n}function fd(){return j.lFrame.isParent}function hd(){j.lFrame.isParent=!1}function Tg(){return j.lFrame.contextLView}function pd(){return bu}function gd(e){let n=bu;return bu=e,n}function Oa(){let e=j.lFrame,n=e.bindingRootIndex;return n===-1&&(n=e.bindingRootIndex=e.tView.bindingStartIndex),n}function md(){return j.lFrame.bindingIndex}function Mg(e){return j.lFrame.bindingIndex=e}function Un(){return j.lFrame.bindingIndex++}function Ao(e){let n=j.lFrame,t=n.bindingIndex;return n.bindingIndex=n.bindingIndex+e,t}function Ag(){return j.lFrame.inI18n}function Ng(e,n){let t=j.lFrame;t.bindingIndex=t.bindingRootIndex=e,ka(n)}function Rg(){return j.lFrame.currentDirectiveIndex}function ka(e){j.lFrame.currentDirectiveIndex=e}function xg(e){let n=j.lFrame.currentDirectiveIndex;return n===-1?null:e[n]}function vd(){return j.lFrame.currentQueryIndex}function Pa(e){j.lFrame.currentQueryIndex=e}function uD(e){let n=e[N];return n.type===2?n.declTNode:n.type===1?e[Ke]:null}function yd(e,n,t){if(t&4){let i=n,o=e;for(;i=i.parent,i===null&&!(t&1);)if(i=uD(o),i===null||(o=o[wr],i.type&10))break;if(i===null)return!1;n=i,e=o}let r=j.lFrame=Og();return r.currentTNode=n,r.lView=e,!0}function Fa(e){let n=Og(),t=e[N];j.lFrame=n,n.currentTNode=t.firstChild,n.lView=e,n.tView=t,n.contextLView=e,n.bindingIndex=t.bindingStartIndex,n.inI18n=!1}function Og(){let e=j.lFrame,n=e===null?null:e.child;return n===null?kg(e):n}function kg(e){let n={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:e,child:null,inI18n:!1};return e!==null&&(e.child=n),n}function Pg(){let e=j.lFrame;return j.lFrame=e.parent,e.currentTNode=null,e.lView=null,e}var Cd=Pg;function La(){let e=Pg();e.isParent=!0,e.tView=null,e.selectedIndex=-1,e.contextLView=null,e.elementDepthCount=0,e.currentDirectiveIndex=-1,e.currentNamespace=null,e.bindingRootIndex=-1,e.bindingIndex=-1,e.currentQueryIndex=0}function Fg(e){return(j.lFrame.contextLView=_g(e,j.lFrame.contextLView))[Se]}function Dt(){return j.lFrame.selectedIndex}function $n(e){j.lFrame.selectedIndex=e}function No(){let e=j.lFrame;return To(e.tView,e.selectedIndex)}function Ro(){j.lFrame.currentNamespace=Ju}function Ba(){dD()}function dD(){j.lFrame.currentNamespace=null}function Lg(){return j.lFrame.currentNamespace}var Bg=!0;function Va(){return Bg}function xo(e){Bg=e}function wu(e,n=null,t=null,r){let i=Ed(e,n,t,r);return i.resolveInjectorInitializers(),i}function Ed(e,n=null,t=null,r,i=new Set){let o=[t||ze,dg(e)];return r=r||(typeof e=="object"?void 0:mn(e)),new Dr(o,n||mi(),r||null,i)}var ge=class e{static THROW_IF_NOT_FOUND=yr;static NULL=new vo;static create(n,t){if(Array.isArray(n))return wu({name:""},t,n,"");{let r=n.name??"";return wu({name:r},n.parent,n.providers,r)}}static \u0275prov=_({token:e,providedIn:"any",factory:()=>V(Wu)});static __NG_ELEMENT_ID__=-1},le=new w(""),It=(()=>{class e{static __NG_ELEMENT_ID__=fD;static __NG_ENV_ID__=t=>t}return e})(),Tu=class extends It{_lView;constructor(n){super(),this._lView=n}get destroyed(){return Nr(this._lView)}onDestroy(n){let t=this._lView;return rd(t,n),()=>Dg(t,n)}};function fD(){return new Tu(x())}var _d=!1,Vg=new w(""),En=(()=>{class e{taskId=0;pendingTasks=new Set;destroyed=!1;pendingTask=new Be(!1);debugTaskTracker=g(Vg,{optional:!0});get hasPendingTasks(){return this.destroyed?!1:this.pendingTask.value}get hasPendingTasksObservable(){return this.destroyed?new B(t=>{t.next(!1),t.complete()}):this.pendingTask}add(){!this.hasPendingTasks&&!this.destroyed&&this.pendingTask.next(!0);let t=this.taskId++;return this.pendingTasks.add(t),this.debugTaskTracker?.add(t),t}has(t){return this.pendingTasks.has(t)}remove(t){this.pendingTasks.delete(t),this.debugTaskTracker?.remove(t),this.pendingTasks.size===0&&this.hasPendingTasks&&this.pendingTask.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks&&this.pendingTask.next(!1),this.destroyed=!0,this.pendingTask.unsubscribe()}static \u0275prov=_({token:e,providedIn:"root",factory:()=>new e})}return e})(),Mu=class extends ${__isAsync;destroyRef=void 0;pendingTasks=void 0;constructor(n=!1){super(),this.__isAsync=n,gg()&&(this.destroyRef=g(It,{optional:!0})??void 0,this.pendingTasks=g(En,{optional:!0})??void 0)}emit(n){let t=O(null);try{super.next(n)}finally{O(t)}}subscribe(n,t,r){let i=n,o=t||(()=>null),s=r;if(n&&typeof n=="object"){let c=n;i=c.next?.bind(c),o=c.error?.bind(c),s=c.complete?.bind(c)}this.__isAsync&&(o=this.wrapInTimeout(o),i&&(i=this.wrapInTimeout(i)),s&&(s=this.wrapInTimeout(s)));let a=super.subscribe({next:i,error:o,complete:s});return n instanceof De&&n.add(a),a}wrapInTimeout(n){return t=>{let r=this.pendingTasks?.add();setTimeout(()=>{try{n(t)}finally{r!==void 0&&this.pendingTasks?.remove(r)}})}}},fe=Mu;function _a(...e){}function Dd(e){let n,t;function r(){e=_a;try{t!==void 0&&typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(t),n!==void 0&&clearTimeout(n)}catch(i){}}return n=setTimeout(()=>{e(),r()}),typeof requestAnimationFrame=="function"&&(t=requestAnimationFrame(()=>{e(),r()})),()=>r()}function jg(e){return queueMicrotask(()=>e()),()=>{e=_a}}var Id="isAngularZone",yo=Id+"_ID",hD=0,ne=class e{hasPendingMacrotasks=!1;hasPendingMicrotasks=!1;isStable=!0;onUnstable=new fe(!1);onMicrotaskEmpty=new fe(!1);onStable=new fe(!1);onError=new fe(!1);constructor(n){let{enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:r=!1,shouldCoalesceRunChangeDetection:i=!1,scheduleInRootZone:o=_d}=n;if(typeof Zone>"u")throw new b(908,!1);Zone.assertZonePatched();let s=this;s._nesting=0,s._outer=s._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(s._inner=s._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(s._inner=s._inner.fork(Zone.longStackTraceZoneSpec)),s.shouldCoalesceEventChangeDetection=!i&&r,s.shouldCoalesceRunChangeDetection=i,s.callbackScheduled=!1,s.scheduleInRootZone=o,mD(s)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get(Id)===!0}static assertInAngularZone(){if(!e.isInAngularZone())throw new b(909,!1)}static assertNotInAngularZone(){if(e.isInAngularZone())throw new b(909,!1)}run(n,t,r){return this._inner.run(n,t,r)}runTask(n,t,r,i){let o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+i,n,pD,_a,_a);try{return o.runTask(s,t,r)}finally{o.cancelTask(s)}}runGuarded(n,t,r){return this._inner.runGuarded(n,t,r)}runOutsideAngular(n){return this._outer.run(n)}},pD={};function Sd(e){if(e._nesting==0&&!e.hasPendingMicrotasks&&!e.isStable)try{e._nesting++,e.onMicrotaskEmpty.emit(null)}finally{if(e._nesting--,!e.hasPendingMicrotasks)try{e.runOutsideAngular(()=>e.onStable.emit(null))}finally{e.isStable=!0}}}function gD(e){if(e.isCheckStableRunning||e.callbackScheduled)return;e.callbackScheduled=!0;function n(){Dd(()=>{e.callbackScheduled=!1,Au(e),e.isCheckStableRunning=!0,Sd(e),e.isCheckStableRunning=!1})}e.scheduleInRootZone?Zone.root.run(()=>{n()}):e._outer.run(()=>{n()}),Au(e)}function mD(e){let n=()=>{gD(e)},t=hD++;e._inner=e._inner.fork({name:"angular",properties:{[Id]:!0,[yo]:t,[yo+t]:!0},onInvokeTask:(r,i,o,s,a,c)=>{if(vD(c))return r.invokeTask(o,s,a,c);try{return Jp(e),r.invokeTask(o,s,a,c)}finally{(e.shouldCoalesceEventChangeDetection&&s.type==="eventTask"||e.shouldCoalesceRunChangeDetection)&&n(),eg(e)}},onInvoke:(r,i,o,s,a,c,l)=>{try{return Jp(e),r.invoke(o,s,a,c,l)}finally{e.shouldCoalesceRunChangeDetection&&!e.callbackScheduled&&!yD(c)&&n(),eg(e)}},onHasTask:(r,i,o,s)=>{r.hasTask(o,s),i===o&&(s.change=="microTask"?(e._hasPendingMicrotasks=s.microTask,Au(e),Sd(e)):s.change=="macroTask"&&(e.hasPendingMacrotasks=s.macroTask))},onHandleError:(r,i,o,s)=>(r.handleError(o,s),e.runOutsideAngular(()=>e.onError.emit(s)),!1)})}function Au(e){e._hasPendingMicrotasks||(e.shouldCoalesceEventChangeDetection||e.shouldCoalesceRunChangeDetection)&&e.callbackScheduled===!0?e.hasPendingMicrotasks=!0:e.hasPendingMicrotasks=!1}function Jp(e){e._nesting++,e.isStable&&(e.isStable=!1,e.onUnstable.emit(null))}function eg(e){e._nesting--,Sd(e)}var Co=class{hasPendingMicrotasks=!1;hasPendingMacrotasks=!1;isStable=!0;onUnstable=new fe;onMicrotaskEmpty=new fe;onStable=new fe;onError=new fe;run(n,t,r){return n.apply(t,r)}runGuarded(n,t,r){return n.apply(t,r)}runOutsideAngular(n){return n()}runTask(n,t,r,i){return n.apply(t,r)}};function vD(e){return Hg(e,"__ignore_ng_zone__")}function yD(e){return Hg(e,"__scheduler_tick__")}function Hg(e,n){return!Array.isArray(e)||e.length!==1?!1:e[0]?.data?.[n]===!0}var kt=class{_console=console;handleError(n){this._console.error("ERROR",n)}},St=new w("",{factory:()=>{let e=g(ne),n=g(Ce),t;return r=>{e.runOutsideAngular(()=>{n.destroyed&&!t?setTimeout(()=>{throw r}):(t??=n.get(kt),t.handleError(r))})}}}),Ug={provide:Qt,useValue:()=>{let e=g(kt,{optional:!0})},multi:!0},CD=new w("",{factory:()=>{let e=g(le).defaultView;if(!e)return;let n=g(St),t=o=>{n(o.reason),o.preventDefault()},r=o=>{o.error?n(o.error):n(new Error(o.message,{cause:o})),o.preventDefault()},i=()=>{e.addEventListener("unhandledrejection",t),e.addEventListener("error",r)};typeof Zone<"u"?Zone.root.run(i):i(),g(It).onDestroy(()=>{e.removeEventListener("error",r),e.removeEventListener("unhandledrejection",t)})}});function bd(){return Zt([ug(()=>{g(CD)})])}function je(e,n){let[t,r,i]=Yl(e,n?.equal),o=t,s=o[Oe];return o.set=r,o.update=i,o.asReadonly=ja.bind(o),o}function ja(){let e=this[Oe];if(e.readonlyFn===void 0){let n=()=>this();n[Oe]=e,e.readonlyFn=n}return e.readonlyFn}var Ha=(()=>{class e{view;node;constructor(t,r){this.view=t,this.node=r}static __NG_ELEMENT_ID__=ED}return e})();function ED(){return new Ha(x(),Te())}var Fn=class{},_i=new w("",{factory:()=>!0});var Ua=new w("");var wd=(()=>{class e{static \u0275prov=_({token:e,providedIn:"root",factory:()=>new Nu})}return e})(),Nu=class{dirtyEffectCount=0;queues=new Map;add(n){this.enqueue(n),this.schedule(n)}schedule(n){n.dirty&&this.dirtyEffectCount++}remove(n){let t=n.zone,r=this.queues.get(t);r.has(n)&&(r.delete(n),n.dirty&&this.dirtyEffectCount--)}enqueue(n){let t=n.zone;this.queues.has(t)||this.queues.set(t,new Set);let r=this.queues.get(t);r.has(n)||r.add(n)}flush(){for(;this.dirtyEffectCount>0;){let n=!1;for(let[t,r]of this.queues)t===null?n||=this.flushQueue(r):n||=t.run(()=>this.flushQueue(r));n||(this.dirtyEffectCount=0)}}flushQueue(n){let t=!1;for(let r of n)r.dirty&&(this.dirtyEffectCount--,t=!0,r.run());return t}},Ru=class{[Oe];constructor(n){this[Oe]=n}destroy(){this[Oe].destroy()}};function Pe(e){return Xl(e)}function Uo(e){return{toString:e}.toString()}function wD(e){return typeof e=="function"}function wm(e,n,t,r){n!==null?n.applyValueToInputSignal(n,r):e[t]=r}var Xa=class{previousValue;currentValue;firstChange;constructor(n,t,r){this.previousValue=n,this.currentValue=t,this.firstChange=r}isFirstChange(){return this.firstChange}},Gn=(()=>{let e=()=>Tm;return e.ngInherit=!0,e})();function Tm(e){return e.type.prototype.ngOnChanges&&(e.setInput=MD),TD}function TD(){let e=Am(this),n=e?.current;if(n){let t=e.previous;if(t===Bn)e.previous=n;else for(let r in n)t[r]=n[r];e.current=null,this.ngOnChanges(n)}}function MD(e,n,t,r,i){let o=this.declaredInputs[r],s=Am(e)||AD(e,{previous:Bn,current:null}),a=s.current||(s.current={}),c=s.previous,l=c[o];a[o]=new Xa(l&&l.currentValue,t,c===Bn),wm(e,n,i,t)}var Mm="__ngSimpleChanges__";function Am(e){return e[Mm]||null}function AD(e,n){return e[Mm]=n}var $g=[];var oe=function(e,n=null,t){for(let r=0;r<$g.length;r++){let i=$g[r];i(e,n,t)}},Y=(function(e){return e[e.TemplateCreateStart=0]="TemplateCreateStart",e[e.TemplateCreateEnd=1]="TemplateCreateEnd",e[e.TemplateUpdateStart=2]="TemplateUpdateStart",e[e.TemplateUpdateEnd=3]="TemplateUpdateEnd",e[e.LifecycleHookStart=4]="LifecycleHookStart",e[e.LifecycleHookEnd=5]="LifecycleHookEnd",e[e.OutputStart=6]="OutputStart",e[e.OutputEnd=7]="OutputEnd",e[e.BootstrapApplicationStart=8]="BootstrapApplicationStart",e[e.BootstrapApplicationEnd=9]="BootstrapApplicationEnd",e[e.BootstrapComponentStart=10]="BootstrapComponentStart",e[e.BootstrapComponentEnd=11]="BootstrapComponentEnd",e[e.ChangeDetectionStart=12]="ChangeDetectionStart",e[e.ChangeDetectionEnd=13]="ChangeDetectionEnd",e[e.ChangeDetectionSyncStart=14]="ChangeDetectionSyncStart",e[e.ChangeDetectionSyncEnd=15]="ChangeDetectionSyncEnd",e[e.AfterRenderHooksStart=16]="AfterRenderHooksStart",e[e.AfterRenderHooksEnd=17]="AfterRenderHooksEnd",e[e.ComponentStart=18]="ComponentStart",e[e.ComponentEnd=19]="ComponentEnd",e[e.DeferBlockStateStart=20]="DeferBlockStateStart",e[e.DeferBlockStateEnd=21]="DeferBlockStateEnd",e[e.DynamicComponentStart=22]="DynamicComponentStart",e[e.DynamicComponentEnd=23]="DynamicComponentEnd",e[e.HostBindingsUpdateStart=24]="HostBindingsUpdateStart",e[e.HostBindingsUpdateEnd=25]="HostBindingsUpdateEnd",e})(Y||{});function ND(e,n,t){let{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=n.type.prototype;if(r){let s=Tm(n);(t.preOrderHooks??=[]).push(e,s),(t.preOrderCheckHooks??=[]).push(e,s)}i&&(t.preOrderHooks??=[]).push(0-e,i),o&&((t.preOrderHooks??=[]).push(e,o),(t.preOrderCheckHooks??=[]).push(e,o))}function RD(e,n){for(let t=n.directiveStart,r=n.directiveEnd;t<r;t++){let o=e.data[t].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:c,ngAfterViewChecked:l,ngOnDestroy:u}=o;s&&(e.contentHooks??=[]).push(-t,s),a&&((e.contentHooks??=[]).push(t,a),(e.contentCheckHooks??=[]).push(t,a)),c&&(e.viewHooks??=[]).push(-t,c),l&&((e.viewHooks??=[]).push(t,l),(e.viewCheckHooks??=[]).push(t,l)),u!=null&&(e.destroyHooks??=[]).push(t,u)}}function za(e,n,t){Nm(e,n,3,t)}function Ka(e,n,t,r){(e[F]&3)===t&&Nm(e,n,t,r)}function Td(e,n){let t=e[F];(t&3)===n&&(t&=16383,t+=1,e[F]=t)}function Nm(e,n,t,r){let i=r!==void 0?e[Tr]&65535:0,o=r??-1,s=n.length-1,a=0;for(let c=i;c<s;c++)if(typeof n[c+1]=="number"){if(a=n[c],r!=null&&a>=r)break}else n[c]<0&&(e[Tr]+=65536),(a<o||o==-1)&&(xD(e,t,n,c),e[Tr]=(e[Tr]&4294901760)+c+2),c++}function Wg(e,n){oe(Y.LifecycleHookStart,e,n);let t=O(null);try{n.call(e)}finally{O(t),oe(Y.LifecycleHookEnd,e,n)}}function xD(e,n,t,r){let i=t[r]<0,o=t[r+1],s=i?-t[r]:t[r],a=e[s];i?e[F]>>14<e[Tr]>>16&&(e[F]&3)===n&&(e[F]+=16384,Wg(a,o)):Wg(a,o)}var Ii=-1,Or=class{factory;name;injectImpl;resolving=!1;canSeeViewProviders;multi;componentProviders;index;providerFactory;constructor(n,t,r,i){this.factory=n,this.name=i,this.canSeeViewProviders=t,this.injectImpl=r}};function OD(e){return(e.flags&8)!==0}function kD(e){return(e.flags&16)!==0}function PD(e,n,t){let r=0;for(;r<t.length;){let i=t[r];if(typeof i=="number"){if(i!==0)break;r++;let o=t[r++],s=t[r++],a=t[r++];e.setAttribute(n,s,a,o)}else{let o=i,s=t[++r];FD(o)?e.setProperty(n,o,s):e.setAttribute(n,o,s),r++}}return r}function Rm(e){return e===3||e===4||e===6}function FD(e){return e.charCodeAt(0)===64}function wi(e,n){if(!(n===null||n.length===0))if(e===null||e.length===0)e=n.slice();else{let t=-1;for(let r=0;r<n.length;r++){let i=n[r];typeof i=="number"?t=i:t===0||(t===-1||t===2?Gg(e,t,i,null,n[++r]):Gg(e,t,i,null,null))}}return e}function Gg(e,n,t,r,i){let o=0,s=e.length;if(n===-1)s=-1;else for(;o<e.length;){let a=e[o++];if(typeof a=="number"){if(a===n){s=-1;break}else if(a>n){s=o-1;break}}}for(;o<e.length;){let a=e[o];if(typeof a=="number")break;if(a===t){i!==null&&(e[o+1]=i);return}o++,i!==null&&o++}s!==-1&&(e.splice(s,0,n),o=s+1),e.splice(o++,0,t),i!==null&&e.splice(o++,0,i)}function xm(e){return e!==Ii}function Ja(e){return e&32767}function LD(e){return e>>16}function ec(e,n){let t=LD(e),r=n;for(;t>0;)r=r[wr],t--;return r}var Ld=!0;function qg(e){let n=Ld;return Ld=e,n}var BD=256,Om=BD-1,km=5,VD=0,nn={};function jD(e,n,t){let r;typeof t=="string"?r=t.charCodeAt(0)||0:t.hasOwnProperty(Sr)&&(r=t[Sr]),r==null&&(r=t[Sr]=VD++);let i=r&Om,o=1<<i;n.data[e+(i>>km)]|=o}function tc(e,n){let t=Pm(e,n);if(t!==-1)return t;let r=n[N];r.firstCreatePass&&(e.injectorIndex=n.length,Md(r.data,e),Md(n,null),Md(r.blueprint,null));let i=Cf(e,n),o=e.injectorIndex;if(xm(i)){let s=Ja(i),a=ec(i,n),c=a[N].data;for(let l=0;l<8;l++)n[o+l]=a[s+l]|c[s+l]}return n[o+8]=i,o}function Md(e,n){e.push(0,0,0,0,0,0,0,0,n)}function Pm(e,n){return e.injectorIndex===-1||e.parent&&e.parent.injectorIndex===e.injectorIndex||n[e.injectorIndex+8]===null?-1:e.injectorIndex}function Cf(e,n){if(e.parent&&e.parent.injectorIndex!==-1)return e.parent.injectorIndex;let t=0,r=null,i=n;for(;i!==null;){if(r=jm(i),r===null)return Ii;if(t++,i=i[wr],r.injectorIndex!==-1)return r.injectorIndex|t<<16}return Ii}function Bd(e,n,t){jD(e,n,t)}function HD(e,n){if(n==="class")return e.classes;if(n==="style")return e.styles;let t=e.attrs;if(t){let r=t.length,i=0;for(;i<r;){let o=t[i];if(Rm(o))break;if(o===0)i=i+2;else if(typeof o=="number")for(i++;i<r&&typeof t[i]=="string";)i++;else{if(o===n)return t[i+1];i=i+2}}}return null}function Fm(e,n,t){if(t&8||e!==void 0)return e;wa(n,"NodeInjector")}function Lm(e,n,t,r){if(t&8&&r===void 0&&(r=null),(t&3)===0){let i=e[at],o=st(void 0);try{return i?i.get(n,r,t&8):Uu(n,r,t&8)}finally{st(o)}}return Fm(r,n,t)}function Bm(e,n,t,r=0,i){if(e!==null){if(n[F]&2048&&!(r&2)){let s=GD(e,n,t,r,nn);if(s!==nn)return s}let o=Vm(e,n,t,r,nn);if(o!==nn)return o}return Lm(n,t,r,i)}function Vm(e,n,t,r,i){let o=$D(t);if(typeof o=="function"){if(!yd(n,e,r))return r&1?Fm(i,t,r):Lm(n,t,r,i);try{let s;if(s=o(r),s==null&&!(r&8))wa(t);else return s}finally{Cd()}}else if(typeof o=="number"){let s=null,a=Pm(e,n),c=Ii,l=r&1?n[Qe][Ke]:null;for((a===-1||r&4)&&(c=a===-1?Cf(e,n):n[a+8],c===Ii||!Kg(r,!1)?a=-1:(s=n[N],a=Ja(c),n=ec(c,n)));a!==-1;){let u=n[N];if(zg(o,a,u.data)){let f=UD(a,n,t,s,r,l);if(f!==nn)return f}c=n[a+8],c!==Ii&&Kg(r,n[N].data[a+8]===l)&&zg(o,a,n)?(s=u,a=Ja(c),n=ec(c,n)):a=-1}}return i}function UD(e,n,t,r,i,o){let s=n[N],a=s.data[e+8],c=r==null?Hn(a)&&Ld:r!=s&&(a.type&3)!==0,l=i&1&&o===a,u=Qa(a,s,t,c,l);return u!==null?Po(n,s,u,a,i):nn}function Qa(e,n,t,r,i){let o=e.providerIndexes,s=n.data,a=o&1048575,c=e.directiveStart,l=e.directiveEnd,u=o>>20,f=r?a:a+u,p=i?a+u:l;for(let h=f;h<p;h++){let m=s[h];if(h<c&&t===m||h>=c&&m.type===t)return h}if(i){let h=s[c];if(h&&en(h)&&h.type===t)return c}return null}function Po(e,n,t,r,i){let o=e[t],s=n.data;if(o instanceof Or){let a=o;if(a.resolving)throw Hu("");let c=qg(a.canSeeViewProviders);a.resolving=!0;let l=s[t].type||s[t],u,f=a.injectImpl?st(a.injectImpl):null,p=yd(e,r,0);try{o=e[t]=a.factory(void 0,i,s,e,r),n.firstCreatePass&&t>=r.directiveStart&&ND(t,s[t],n)}finally{f!==null&&st(f),qg(c),a.resolving=!1,Cd()}}return o}function $D(e){if(typeof e=="string")return e.charCodeAt(0)||0;let n=e.hasOwnProperty(Sr)?e[Sr]:void 0;return typeof n=="number"?n>=0?n&Om:WD:n}function zg(e,n,t){let r=1<<e;return!!(t[n+(e>>km)]&r)}function Kg(e,n){return!(e&2)&&!(e&1&&n)}var xr=class{_tNode;_lView;constructor(n,t){this._tNode=n,this._lView=t}get(n,t,r){return Bm(this._tNode,this._lView,n,Cr(r),t)}};function WD(){return new xr(Te(),x())}function jt(e){return Uo(()=>{let n=e.prototype.constructor,t=n[mo]||Vd(n),r=Object.prototype,i=Object.getPrototypeOf(e.prototype).constructor;for(;i&&i!==r;){let o=i[mo]||Vd(i);if(o&&o!==t)return o;i=Object.getPrototypeOf(i)}return o=>new o})}function Vd(e){return xu(e)?()=>{let n=Vd(Ve(e));return n&&n()}:Er(e)}function GD(e,n,t,r,i){let o=e,s=n;for(;o!==null&&s!==null&&s[F]&2048&&!Ci(s);){let a=Vm(o,s,t,r|2,nn);if(a!==nn)return a;let c=o.parent;if(!c){let l=s[Zu];if(l){let u=l.get(t,nn,r);if(u!==nn)return u}c=jm(s),s=s[wr]}o=c}return i}function jm(e){let n=e[N],t=n.type;return t===2?n.declTNode:t===1?e[Ke]:null}function $o(e){return HD(Te(),e)}function qD(){return xi(Te(),x())}function xi(e,n){return new Re(Et(e,n))}var Re=(()=>{class e{nativeElement;constructor(t){this.nativeElement=t}static __NG_ELEMENT_ID__=qD}return e})();function zD(e){return e instanceof Re?e.nativeElement:e}function KD(){return this._results[Symbol.iterator]()}var nc=class{_emitDistinctChangesOnly;dirty=!0;_onDirty=void 0;_results=[];_changesDetected=!1;_changes=void 0;length=0;first=void 0;last=void 0;get changes(){return this._changes??=new $}constructor(n=!1){this._emitDistinctChangesOnly=n}get(n){return this._results[n]}map(n){return this._results.map(n)}filter(n){return this._results.filter(n)}find(n){return this._results.find(n)}reduce(n,t){return this._results.reduce(n,t)}forEach(n){this._results.forEach(n)}some(n){return this._results.some(n)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(n,t){this.dirty=!1;let r=ag(n);(this._changesDetected=!sg(this._results,r,t))&&(this._results=r,this.length=r.length,this.last=r[this.length-1],this.first=r[0])}notifyOnChanges(){this._changes!==void 0&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.next(this)}onDirty(n){this._onDirty=n}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){this._changes!==void 0&&(this._changes.complete(),this._changes.unsubscribe())}[Symbol.iterator]=KD};function Hm(e){return(e.flags&128)===128}var Ef=(function(e){return e[e.OnPush=0]="OnPush",e[e.Default=1]="Default",e})(Ef||{}),Um=new Map,QD=0;function ZD(){return QD++}function YD(e){Um.set(e[Cn],e)}function jd(e){Um.delete(e[Cn])}var Qg="__ngContext__";function Ti(e,n){Jt(n)?(e[Qg]=n[Cn],YD(n)):e[Qg]=n}function $m(e){return Gm(e[yi])}function Wm(e){return Gm(e[yt])}function Gm(e){for(;e!==null&&!Lt(e);)e=e[yt];return e}var Hd;function _f(e){Hd=e}function qm(){if(Hd!==void 0)return Hd;if(typeof document<"u")return document;throw new b(210,!1)}var Cc=new w("",{factory:()=>XD}),XD="ng";var Ec=new w(""),Wo=new w("",{providedIn:"platform",factory:()=>"unknown"});var _c=new w("",{factory:()=>g(le).body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var zm="r";var Km="di";var Qm=!1,Zm=new w("",{factory:()=>Qm});var JD=(e,n,t,r)=>{};function eI(e,n,t,r){JD(e,n,t,r)}function Dc(e){return(e.flags&32)===32}var tI=()=>null;function Ym(e,n,t=!1){return tI(e,n,t)}function Xm(e,n){let t=e.contentQueries;if(t!==null){let r=O(null);try{for(let i=0;i<t.length;i+=2){let o=t[i],s=t[i+1];if(s!==-1){let a=e.data[s];Pa(o),a.contentQueries(2,n[s],s)}}}finally{O(r)}}}function Ud(e,n,t){Pa(0);let r=O(null);try{n(e,t)}finally{O(r)}}function Df(e,n,t){if(Xu(n)){let r=O(null);try{let i=n.directiveStart,o=n.directiveEnd;for(let s=i;s<o;s++){let a=e.data[s];if(a.contentQueries){let c=t[s];a.contentQueries(1,c,s)}}}finally{O(r)}}}var Vt=(function(e){return e[e.Emulated=0]="Emulated",e[e.None=2]="None",e[e.ShadowDom=3]="ShadowDom",e[e.ExperimentalIsolatedShadowDom=4]="ExperimentalIsolatedShadowDom",e})(Vt||{});var $a;function nI(){if($a===void 0&&($a=null,Ln.trustedTypes))try{$a=Ln.trustedTypes.createPolicy("angular",{createHTML:e=>e,createScript:e=>e,createScriptURL:e=>e})}catch(e){}return $a}function Ic(e){return nI()?.createHTML(e)||e}var Wa;function Jm(){if(Wa===void 0&&(Wa=null,Ln.trustedTypes))try{Wa=Ln.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:e=>e,createScript:e=>e,createScriptURL:e=>e})}catch(e){}return Wa}function Zg(e){return Jm()?.createHTML(e)||e}function Yg(e){return Jm()?.createScriptURL(e)||e}var _n=class{changingThisBreaksApplicationSecurity;constructor(n){this.changingThisBreaksApplicationSecurity=n}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${Da})`}},$d=class extends _n{getTypeName(){return"HTML"}},Wd=class extends _n{getTypeName(){return"Style"}},Gd=class extends _n{getTypeName(){return"Script"}},qd=class extends _n{getTypeName(){return"URL"}},zd=class extends _n{getTypeName(){return"ResourceURL"}};function lt(e){return e instanceof _n?e.changingThisBreaksApplicationSecurity:e}function rn(e,n){let t=ev(e);if(t!=null&&t!==n){if(t==="ResourceURL"&&n==="URL")return!0;throw new Error(`Required a safe ${n}, got a ${t} (see ${Da})`)}return t===n}function ev(e){return e instanceof _n&&e.getTypeName()||null}function If(e){return new $d(e)}function Sf(e){return new Wd(e)}function bf(e){return new Gd(e)}function wf(e){return new qd(e)}function Tf(e){return new zd(e)}function rI(e){let n=new Qd(e);return iI()?new Kd(n):n}var Kd=class{inertDocumentHelper;constructor(n){this.inertDocumentHelper=n}getInertBodyElement(n){n="<body><remove></remove>"+n;try{let t=new window.DOMParser().parseFromString(Ic(n),"text/html").body;return t===null?this.inertDocumentHelper.getInertBodyElement(n):(t.firstChild?.remove(),t)}catch(t){return null}}},Qd=class{defaultDoc;inertDocument;constructor(n){this.defaultDoc=n,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(n){let t=this.inertDocument.createElement("template");return t.innerHTML=Ic(n),t}};function iI(){try{return!!new window.DOMParser().parseFromString(Ic(""),"text/html")}catch(e){return!1}}var oI=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function Go(e){return e=String(e),e.match(oI)?e:"unsafe:"+e}function Sn(e){let n={};for(let t of e.split(","))n[t]=!0;return n}function qo(...e){let n={};for(let t of e)for(let r in t)t.hasOwnProperty(r)&&(n[r]=!0);return n}var tv=Sn("area,br,col,hr,img,wbr"),nv=Sn("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),rv=Sn("rp,rt"),sI=qo(rv,nv),aI=qo(nv,Sn("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),cI=qo(rv,Sn("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Xg=qo(tv,aI,cI,sI),iv=Sn("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),lI=Sn("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),uI=Sn("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext"),dI=qo(iv,lI,uI),fI=Sn("script,style,template"),Zd=class{sanitizedSomething=!1;buf=[];sanitizeChildren(n){let t=n.firstChild,r=!0,i=[];for(;t;){if(t.nodeType===Node.ELEMENT_NODE?r=this.startElement(t):t.nodeType===Node.TEXT_NODE?this.chars(t.nodeValue):this.sanitizedSomething=!0,r&&t.firstChild){i.push(t),t=gI(t);continue}for(;t;){t.nodeType===Node.ELEMENT_NODE&&this.endElement(t);let o=pI(t);if(o){t=o;break}t=i.pop()}}return this.buf.join("")}startElement(n){let t=Jg(n).toLowerCase();if(!Xg.hasOwnProperty(t))return this.sanitizedSomething=!0,!fI.hasOwnProperty(t);this.buf.push("<"),this.buf.push(t);let r=n.attributes;for(let i=0;i<r.length;i++){let o=r.item(i),s=o.name,a=s.toLowerCase();if(!dI.hasOwnProperty(a)){this.sanitizedSomething=!0;continue}let c=o.value;iv[a]&&(c=Go(c)),this.buf.push(" ",s,'="',em(c),'"')}return this.buf.push(">"),!0}endElement(n){let t=Jg(n).toLowerCase();Xg.hasOwnProperty(t)&&!tv.hasOwnProperty(t)&&(this.buf.push("</"),this.buf.push(t),this.buf.push(">"))}chars(n){this.buf.push(em(n))}};function hI(e,n){return(e.compareDocumentPosition(n)&Node.DOCUMENT_POSITION_CONTAINED_BY)!==Node.DOCUMENT_POSITION_CONTAINED_BY}function pI(e){let n=e.nextSibling;if(n&&e!==n.previousSibling)throw ov(n);return n}function gI(e){let n=e.firstChild;if(n&&hI(e,n))throw ov(n);return n}function Jg(e){let n=e.nodeName;return typeof n=="string"?n:"FORM"}function ov(e){return new Error(`Failed to sanitize html because the element is clobbered: ${e.outerHTML}`)}var mI=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,vI=/([^\#-~ |!])/g;function em(e){return e.replace(/&/g,"&amp;").replace(mI,function(n){let t=n.charCodeAt(0),r=n.charCodeAt(1);return"&#"+((t-55296)*1024+(r-56320)+65536)+";"}).replace(vI,function(n){return"&#"+n.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}var Ga;function Sc(e,n){let t=null;try{Ga=Ga||rI(e);let r=n?String(n):"";t=Ga.getInertBodyElement(r);let i=5,o=r;do{if(i===0)throw new Error("Failed to sanitize html because the input is unstable");i--,r=o,o=t.innerHTML,t=Ga.getInertBodyElement(r)}while(r!==o);let a=new Zd().sanitizeChildren(tm(t)||t);return Ic(a)}finally{if(t){let r=tm(t)||t;for(;r.firstChild;)r.firstChild.remove()}}}function tm(e){return"content"in e&&yI(e)?e.content:null}function yI(e){return e.nodeType===Node.ELEMENT_NODE&&e.nodeName==="TEMPLATE"}var CI=/^>|^->|<!--|-->|--!>|<!-$/g,EI=/(<|>)/g,_I="\u200B$1\u200B";function DI(e){return e.replace(CI,n=>n.replace(EI,_I))}function II(e,n){return e.createText(n)}function SI(e,n,t){e.setValue(n,t)}function bI(e,n){return e.createComment(DI(n))}function sv(e,n,t){return e.createElement(n,t)}function rc(e,n,t,r,i){e.insertBefore(n,t,r,i)}function av(e,n,t){e.appendChild(n,t)}function nm(e,n,t,r,i){r!==null?rc(e,n,t,r,i):av(e,n,t)}function cv(e,n,t,r){e.removeChild(null,n,t,r)}function wI(e,n,t){e.setAttribute(n,"style",t)}function TI(e,n,t){t===""?e.removeAttribute(n,"class"):e.setAttribute(n,"class",t)}function lv(e,n,t){let{mergedAttrs:r,classes:i,styles:o}=t;r!==null&&PD(e,n,r),i!==null&&TI(e,n,i),o!==null&&wI(e,n,o)}var et=(function(e){return e[e.NONE=0]="NONE",e[e.HTML=1]="HTML",e[e.STYLE=2]="STYLE",e[e.SCRIPT=3]="SCRIPT",e[e.URL=4]="URL",e[e.RESOURCE_URL=5]="RESOURCE_URL",e})(et||{});function bc(e){let n=Af();return n?Zg(n.sanitize(et.HTML,e)||""):rn(e,"HTML")?Zg(lt(e)):Sc(qm(),Pt(e))}function Ze(e){let n=Af();return n?n.sanitize(et.URL,e)||"":rn(e,"URL")?lt(e):Go(Pt(e))}function uv(e){let n=Af();if(n)return Yg(n.sanitize(et.RESOURCE_URL,e)||"");if(rn(e,"ResourceURL"))return Yg(lt(e));throw new b(904,!1)}var MI=new Set(["embed","frame","iframe","media","script"]),AI=new Set(["base","link","script"]);function NI(e,n){return n==="src"&&MI.has(e)||n==="href"&&AI.has(e)||n==="xlink:href"&&e==="script"?uv:Ze}function Mf(e,n,t){return NI(n,t)(e)}function Af(){let e=x();return e&&e[Yt].sanitizer}function Nf(e){return e.ownerDocument.defaultView}function dv(e){return e instanceof Function?e():e}function RI(e,n,t){let r=e.length;for(;;){let i=e.indexOf(n,t);if(i===-1)return i;if(i===0||e.charCodeAt(i-1)<=32){let o=n.length;if(i+o===r||e.charCodeAt(i+o)<=32)return i}t=i+1}}var fv="ng-template";function xI(e,n,t,r){let i=0;if(r){for(;i<n.length&&typeof n[i]=="string";i+=2)if(n[i]==="class"&&RI(n[i+1].toLowerCase(),t,0)!==-1)return!0}else if(Rf(e))return!1;if(i=n.indexOf(1,i),i>-1){let o;for(;++i<n.length&&typeof(o=n[i])=="string";)if(o.toLowerCase()===t)return!0}return!1}function Rf(e){return e.type===4&&e.value!==fv}function OI(e,n,t){let r=e.type===4&&!t?fv:e.value;return n===r}function kI(e,n,t){let r=4,i=e.attrs,o=i!==null?LI(i):0,s=!1;for(let a=0;a<n.length;a++){let c=n[a];if(typeof c=="number"){if(!s&&!Bt(r)&&!Bt(c))return!1;if(s&&Bt(c))continue;s=!1,r=c|r&1;continue}if(!s)if(r&4){if(r=2|r&1,c!==""&&!OI(e,c,t)||c===""&&n.length===1){if(Bt(r))return!1;s=!0}}else if(r&8){if(i===null||!xI(e,i,c,t)){if(Bt(r))return!1;s=!0}}else{let l=n[++a],u=PI(c,i,Rf(e),t);if(u===-1){if(Bt(r))return!1;s=!0;continue}if(l!==""){let f;if(u>o?f="":f=i[u+1].toLowerCase(),r&2&&l!==f){if(Bt(r))return!1;s=!0}}}}return Bt(r)||s}function Bt(e){return(e&1)===0}function PI(e,n,t,r){if(n===null)return-1;let i=0;if(r||!t){let o=!1;for(;i<n.length;){let s=n[i];if(s===e)return i;if(s===3||s===6)o=!0;else if(s===1||s===2){let a=n[++i];for(;typeof a=="string";)a=n[++i];continue}else{if(s===4)break;if(s===0){i+=4;continue}}i+=o?1:2}return-1}else return BI(n,e)}function hv(e,n,t=!1){for(let r=0;r<n.length;r++)if(kI(e,n[r],t))return!0;return!1}function FI(e){let n=e.attrs;if(n!=null){let t=n.indexOf(5);if((t&1)===0)return n[t+1]}return null}function LI(e){for(let n=0;n<e.length;n++){let t=e[n];if(Rm(t))return n}return e.length}function BI(e,n){let t=e.indexOf(4);if(t>-1)for(t++;t<e.length;){let r=e[t];if(typeof r=="number")return-1;if(r===n)return t;t++}return-1}function VI(e,n){e:for(let t=0;t<n.length;t++){let r=n[t];if(e.length===r.length){for(let i=0;i<e.length;i++)if(e[i]!==r[i])continue e;return!0}}return!1}function rm(e,n){return e?":not("+n.trim()+")":n}function jI(e){let n=e[0],t=1,r=2,i="",o=!1;for(;t<e.length;){let s=e[t];if(typeof s=="string")if(r&2){let a=e[++t];i+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else r&8?i+="."+s:r&4&&(i+=" "+s);else i!==""&&!Bt(s)&&(n+=rm(o,i),i=""),r=s,o=o||!Bt(r);t++}return i!==""&&(n+=rm(o,i)),n}function HI(e){return e.map(jI).join(",")}function UI(e){let n=[],t=[],r=1,i=2;for(;r<e.length;){let o=e[r];if(typeof o=="string")i===2?o!==""&&n.push(o,e[++r]):i===8&&t.push(o);else{if(!Bt(i))break;i=o}r++}return t.length&&n.push(1,...t),n}var He={};function xf(e,n,t,r,i,o,s,a,c,l,u){let f=Ee+r,p=f+i,h=$I(f,p),m=typeof l=="function"?l():l;return h[N]={type:e,blueprint:h,template:t,queries:null,viewQuery:a,declTNode:n,data:h.slice().fill(null,f),bindingStartIndex:f,expandoStartIndex:p,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof o=="function"?o():o,pipeRegistry:typeof s=="function"?s():s,firstChild:null,schemas:c,consts:m,incompleteFirstPass:!1,ssrId:u}}function $I(e,n){let t=[];for(let r=0;r<n;r++)t.push(r<e?null:He);return t}function WI(e){let n=e.tView;return n===null||n.incompleteFirstPass?e.tView=xf(1,null,e.template,e.decls,e.vars,e.directiveDefs,e.pipeDefs,e.viewQuery,e.schemas,e.consts,e.id):n}function Of(e,n,t,r,i,o,s,a,c,l,u){let f=n.blueprint.slice();return f[Ft]=i,f[F]=r|4|128|8|64|1024,(l!==null||e&&e[F]&2048)&&(f[F]|=2048),td(f),f[Ae]=f[wr]=e,f[Se]=t,f[Yt]=s||e&&e[Yt],f[ae]=a||e&&e[ae],f[at]=c||e&&e[at]||null,f[Ke]=o,f[Cn]=ZD(),f[br]=u,f[Zu]=l,f[Qe]=n.type==2?e[Qe]:f,f}function GI(e,n,t){let r=Et(n,e),i=WI(t),o=e[Yt].rendererFactory,s=kf(e,Of(e,i,null,pv(t),r,n,null,o.createRenderer(r,t),null,null,null));return e[n.index]=s}function pv(e){let n=16;return e.signals?n=4096:e.onPush&&(n=64),n}function gv(e,n,t,r){if(t===0)return-1;let i=n.length;for(let o=0;o<t;o++)n.push(r),e.blueprint.push(r),e.data.push(null);return i}function kf(e,n){return e[yi]?e[Qu][yt]=n:e[yi]=n,e[Qu]=n,n}function v(e=1){mv(me(),x(),Dt()+e,!1)}function mv(e,n,t,r){if(!r)if((n[F]&3)===3){let o=e.preOrderCheckHooks;o!==null&&za(n,o,t)}else{let o=e.preOrderHooks;o!==null&&Ka(n,o,0,t)}$n(t)}var wc=(function(e){return e[e.None=0]="None",e[e.SignalBased=1]="SignalBased",e[e.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",e})(wc||{});function Yd(e,n,t,r){let i=O(null);try{let[o,s,a]=e.inputs[t],c=null;(s&wc.SignalBased)!==0&&(c=n[o][Oe]),c!==null&&c.transformFn!==void 0?r=c.transformFn(r):a!==null&&(r=a.call(n,r)),e.setInput!==null?e.setInput(n,c,r,t,o):wm(n,c,o,r)}finally{O(i)}}var Dn=(function(e){return e[e.Important=1]="Important",e[e.DashCase=2]="DashCase",e})(Dn||{}),qI;function Pf(e,n){return qI(e,n)}function ic(e){if(!e)return 0;let n=e.toLowerCase().indexOf("ms")>-1?1:1e3;return parseFloat(e)*n}function Si(e,n){return e.getPropertyValue(n).split(",").map(r=>r.trim())}function zI(e){let n=Si(e,"transition-property"),t=Si(e,"transition-duration"),r=Si(e,"transition-delay"),i={propertyName:"",duration:0,animationName:void 0};for(let o=0;o<n.length;o++){let s=ic(r[o])+ic(t[o]);s>i.duration&&(i.propertyName=n[o],i.duration=s)}return i}function KI(e){let n=Si(e,"animation-name"),t=Si(e,"animation-delay"),r=Si(e,"animation-duration"),i={animationName:"",propertyName:void 0,duration:0};for(let o=0;o<n.length;o++){let s=ic(t[o])+ic(r[o]);s>i.duration&&(i.animationName=n[o],i.duration=s)}return i}function vv(e,n){return e!==void 0&&e.duration>n.duration}function yv(e){return(e.animationName!=null||e.propertyName!=null)&&e.duration>0}function QI(e,n){let t=getComputedStyle(e),r=KI(t),i=zI(t),o=r.duration>i.duration?r:i;vv(n.get(e),o)||yv(o)&&n.set(e,o)}function ZI(e,n,t){if(!t)return;let r=e.getAnimations();return r.length===0?QI(e,n):YI(e,n,r)}function YI(e,n,t){let r={animationName:void 0,propertyName:void 0,duration:0};for(let i of t){let o=i.effect?.getTiming(),s=typeof o?.duration=="number"?o.duration:0,a=(o?.delay??0)+s,c,l;i.animationName?l=i.animationName:c=i.transitionProperty,a>=r.duration&&(r={animationName:l,propertyName:c,duration:a})}vv(n.get(e),r)||yv(r)&&n.set(e,r)}var kr=new Set,Tc=(function(e){return e[e.CHANGE_DETECTION=0]="CHANGE_DETECTION",e[e.AFTER_NEXT_RENDER=1]="AFTER_NEXT_RENDER",e})(Tc||{}),Br=new w(""),im=new Set;function Ht(e){im.has(e)||(im.add(e),performance?.mark?.("mark_feature_usage",{detail:{feature:e}}))}var Ff=(()=>{class e{impl=null;execute(){this.impl?.execute()}static \u0275prov=_({token:e,providedIn:"root",factory:()=>new e})}return e})(),Cv=[0,1,2,3],Ev=(()=>{class e{ngZone=g(ne);scheduler=g(Fn);errorHandler=g(kt,{optional:!0});sequences=new Set;deferredRegistrations=new Set;executing=!1;constructor(){g(Br,{optional:!0})}execute(){let t=this.sequences.size>0;t&&oe(Y.AfterRenderHooksStart),this.executing=!0;for(let r of Cv)for(let i of this.sequences)if(!(i.erroredOrDestroyed||!i.hooks[r]))try{i.pipelinedValue=this.ngZone.runOutsideAngular(()=>this.maybeTrace(()=>{let o=i.hooks[r];return o(i.pipelinedValue)},i.snapshot))}catch(o){i.erroredOrDestroyed=!0,this.errorHandler?.handleError(o)}this.executing=!1;for(let r of this.sequences)r.afterRun(),r.once&&(this.sequences.delete(r),r.destroy());for(let r of this.deferredRegistrations)this.sequences.add(r);this.deferredRegistrations.size>0&&this.scheduler.notify(7),this.deferredRegistrations.clear(),t&&oe(Y.AfterRenderHooksEnd)}register(t){let{view:r}=t;r!==void 0?((r[Mr]??=[]).push(t),Ei(r),r[F]|=8192):this.executing?this.deferredRegistrations.add(t):this.addSequence(t)}addSequence(t){this.sequences.add(t),this.scheduler.notify(7)}unregister(t){this.executing&&this.sequences.has(t)?(t.erroredOrDestroyed=!0,t.pipelinedValue=void 0,t.once=!0):(this.sequences.delete(t),this.deferredRegistrations.delete(t))}maybeTrace(t,r){return r?r.run(Tc.AFTER_NEXT_RENDER,t):t()}static \u0275prov=_({token:e,providedIn:"root",factory:()=>new e})}return e})(),oc=class{impl;hooks;view;once;snapshot;erroredOrDestroyed=!1;pipelinedValue=void 0;unregisterOnDestroy;constructor(n,t,r,i,o,s=null){this.impl=n,this.hooks=t,this.view=r,this.once=i,this.snapshot=s,this.unregisterOnDestroy=o?.onDestroy(()=>this.destroy())}afterRun(){this.erroredOrDestroyed=!1,this.pipelinedValue=void 0,this.snapshot?.dispose(),this.snapshot=null}destroy(){this.impl.unregister(this),this.unregisterOnDestroy?.();let n=this.view?.[Mr];n&&(this.view[Mr]=n.filter(t=>t!==this))}};function on(e,n){let t=n?.injector??g(ge);return Ht("NgAfterNextRender"),JI(e,t,n,!0)}function XI(e){return e instanceof Function?[void 0,void 0,e,void 0]:[e.earlyRead,e.write,e.mixedReadWrite,e.read]}function JI(e,n,t,r){let i=n.get(Ff);i.impl??=n.get(Ev);let o=n.get(Br,null,{optional:!0}),s=t?.manualCleanup!==!0?n.get(It):null,a=n.get(Ha,null,{optional:!0}),c=new oc(i.impl,XI(e),a?.view,r,s,o?.snapshot(null));return i.impl.register(c),c}var zo=new w("",{factory:()=>({queue:new Set,isScheduled:!1,scheduler:null,injector:g(Ce)})});function _v(e,n,t){let r=e.get(zo);if(Array.isArray(n))for(let i of n)r.queue.add(i),t?.detachedLeaveAnimationFns?.push(i);else r.queue.add(n),t?.detachedLeaveAnimationFns?.push(n);r.scheduler&&r.scheduler(e)}function eS(e,n){let t=e.get(zo);if(n.detachedLeaveAnimationFns){for(let r of n.detachedLeaveAnimationFns)t.queue.delete(r);n.detachedLeaveAnimationFns=void 0}}function tS(e){let n=e.get(zo);n.isScheduled||(on(()=>{n.isScheduled=!1;for(let t of n.queue)t();n.queue.clear()},{injector:n.injector}),n.isScheduled=!0)}function nS(e){let n=e.get(zo);n.scheduler=tS,n.scheduler(e)}function Dv(e,n){for(let[t,r]of n)_v(e,r.animateFns)}function rS(e,n){let t=e.get(zo);if(Array.isArray(n))for(let r of n)t.queue.delete(r);else t.queue.delete(n)}function om(e,n,t,r){let i=e?.[Vn]?.enter;n!==null&&i&&i.has(t.index)&&Dv(r,i)}function Di(e,n,t,r,i,o,s,a){if(i!=null){let c,l=!1;Lt(i)?c=i:Jt(i)&&(l=!0,i=i[Ft]);let u=Ct(i);e===0&&r!==null?(om(a,r,o,t),s==null?av(n,r,u):rc(n,r,u,s||null,!0)):e===1&&r!==null?(om(a,r,o,t),rc(n,r,u,s||null,!0)):e===2?sm(a,o,t,f=>{cv(n,u,l,f)}):e===3&&sm(a,o,t,()=>{n.destroyNode(u)}),c!=null&&pS(n,e,t,c,o,r,s)}}function iS(e,n){Iv(e,n),n[Ft]=null,n[Ke]=null}function oS(e,n,t,r,i,o){r[Ft]=i,r[Ke]=n,Ac(e,r,t,1,i,o)}function Iv(e,n){n[Yt].changeDetectionScheduler?.notify(9),Ac(e,n,n[ae],2,null,null)}function sS(e){let n=e[yi];if(!n)return Ad(e[N],e);for(;n;){let t=null;if(Jt(n))t=n[yi];else{let r=n[_e];r&&(t=r)}if(!t){for(;n&&!n[yt]&&n!==e;)Jt(n)&&Ad(n[N],n),n=n[Ae];n===null&&(n=e),Jt(n)&&Ad(n[N],n),t=n&&n[yt]}n=t}}function Lf(e,n){let t=e[Ar],r=t.indexOf(n);t.splice(r,1)}function Mc(e,n){if(Nr(n))return;let t=n[ae];t.destroyNode&&Ac(e,n,t,3,null,null),sS(n)}function Ad(e,n){if(Nr(n))return;let t=O(null);try{n[F]&=-129,n[F]|=256,n[ct]&&ao(n[ct]),lS(e,n),cS(e,n),n[N].type===1&&n[ae].destroy();let r=n[yn];if(r!==null&&Lt(n[Ae])){r!==n[Ae]&&Lf(r,n);let i=n[Xt];i!==null&&i.detachView(e)}jd(n)}finally{O(t)}}function sm(e,n,t,r){let i=e?.[Vn];if(i?.enter?.has(n.index)&&rS(t,i.enter.get(n.index).animateFns),i==null||i.leave==null||!i.leave.has(n.index))return r(!1);e&&kr.add(e[Cn]),_v(t,()=>{if(i.leave&&i.leave.has(n.index)){let s=i.leave.get(n.index),a=[];if(s){for(let c=0;c<s.animateFns.length;c++){let l=s.animateFns[c],{promise:u}=l();a.push(u)}i.detachedLeaveAnimationFns=void 0}i.running=Promise.allSettled(a),aS(e,r)}else e&&kr.delete(e[Cn]),r(!1)},i)}function aS(e,n){let t=e[Vn]?.running;if(t){t.then(()=>{e[Vn].running=void 0,kr.delete(e[Cn]),n(!0)});return}n(!1)}function cS(e,n){let t=e.cleanup,r=n[vi];if(t!==null)for(let s=0;s<t.length-1;s+=2)if(typeof t[s]=="string"){let a=t[s+3];a>=0?r[a]():r[-a].unsubscribe(),s+=2}else{let a=r[t[s+1]];t[s].call(a)}r!==null&&(n[vi]=null);let i=n[gn];if(i!==null){n[gn]=null;for(let s=0;s<i.length;s++){let a=i[s];a()}}let o=n[So];if(o!==null){n[So]=null;for(let s of o)s.destroy()}}function lS(e,n){let t;if(e!=null&&(t=e.destroyHooks)!=null)for(let r=0;r<t.length;r+=2){let i=n[t[r]];if(!(i instanceof Or)){let o=t[r+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){let a=i[o[s]],c=o[s+1];oe(Y.LifecycleHookStart,a,c);try{c.call(a)}finally{oe(Y.LifecycleHookEnd,a,c)}}else{oe(Y.LifecycleHookStart,i,o);try{o.call(i)}finally{oe(Y.LifecycleHookEnd,i,o)}}}}}function Sv(e,n,t){return uS(e,n.parent,t)}function uS(e,n,t){let r=n;for(;r!==null&&r.type&168;)n=r,r=n.parent;if(r===null)return t[Ft];if(Hn(r)){let{encapsulation:i}=e.data[r.directiveStart+r.componentOffset];if(i===Vt.None||i===Vt.Emulated)return null}return Et(r,t)}function bv(e,n,t){return fS(e,n,t)}function dS(e,n,t){return e.type&40?Et(e,t):null}var fS=dS,am;function Bf(e,n,t,r){let i=Sv(e,r,n),o=n[ae],s=r.parent||n[Ke],a=bv(s,r,n);if(i!=null)if(Array.isArray(t))for(let c=0;c<t.length;c++)nm(o,i,t[c],a,!1);else nm(o,i,t,a,!1);am!==void 0&&am(o,r,n,t,i)}function Oo(e,n){if(n!==null){let t=n.type;if(t&3)return Et(n,e);if(t&4)return sc(-1,e[n.index]);if(t&8){let r=n.child;if(r!==null)return Oo(e,r);{let i=e[n.index];return Lt(i)?sc(-1,i):Ct(i)}}else{if(t&128)return Oo(e,n.next);if(t&32)return Pf(n,e)()||Ct(e[n.index]);{let r=wv(e,n);if(r!==null){if(Array.isArray(r))return r[0];let i=Pn(e[Qe]);return Oo(i,r)}else return Oo(e,n.next)}}}return null}function wv(e,n){if(n!==null){let r=e[Qe][Ke],i=n.projection;return r.projection[i]}return null}function sc(e,n){let t=_e+e+1;if(t<n.length){let r=n[t],i=r[N].firstChild;if(i!==null)return Oo(r,i)}return n[jn]}function Vf(e,n,t,r,i,o,s){for(;t!=null;){let a=r[at];if(t.type===128){t=t.next;continue}let c=r[t.index],l=t.type;if(s&&n===0&&(c&&Ti(Ct(c),r),t.flags|=2),!Dc(t))if(l&8)Vf(e,n,t.child,r,i,o,!1),Di(n,e,a,i,c,t,o,r);else if(l&32){let u=Pf(t,r),f;for(;f=u();)Di(n,e,a,i,f,t,o,r);Di(n,e,a,i,c,t,o,r)}else l&16?Tv(e,n,r,t,i,o):Di(n,e,a,i,c,t,o,r);t=s?t.projectionNext:t.next}}function Ac(e,n,t,r,i,o){Vf(t,r,e.firstChild,n,i,o,!1)}function hS(e,n,t){let r=n[ae],i=Sv(e,t,n),o=t.parent||n[Ke],s=bv(o,t,n);Tv(r,0,n,t,i,s)}function Tv(e,n,t,r,i,o){let s=t[Qe],c=s[Ke].projection[r.projection];if(Array.isArray(c))for(let l=0;l<c.length;l++){let u=c[l];Di(n,e,t[at],i,u,r,o,t)}else{let l=c,u=s[Ae];Hm(r)&&(l.flags|=128),Vf(e,n,l,u,i,o,!0)}}function pS(e,n,t,r,i,o,s){let a=r[jn],c=Ct(r);a!==c&&Di(n,e,t,o,a,i,s);for(let l=_e;l<r.length;l++){let u=r[l];Ac(u[N],u,e,n,o,a)}}function gS(e,n,t,r,i){if(n)i?e.addClass(t,r):e.removeClass(t,r);else{let o=r.indexOf("-")===-1?void 0:Dn.DashCase;i==null?e.removeStyle(t,r,o):(typeof i=="string"&&i.endsWith("!important")&&(i=i.slice(0,-10),o|=Dn.Important),e.setStyle(t,r,i,o))}}function Mv(e,n,t,r,i){let o=Dt(),s=r&2;try{$n(-1),s&&n.length>Ee&&mv(e,n,Ee,!1);let a=s?Y.TemplateUpdateStart:Y.TemplateCreateStart;oe(a,i,t),t(r,i)}finally{$n(o);let a=s?Y.TemplateUpdateEnd:Y.TemplateCreateEnd;oe(a,i,t)}}function jf(e,n,t){_S(e,n,t),(t.flags&64)===64&&DS(e,n,t)}function Ko(e,n,t=Et){let r=n.localNames;if(r!==null){let i=n.index+1;for(let o=0;o<r.length;o+=2){let s=r[o+1],a=s===-1?t(n,e):e[s];e[i++]=a}}}function mS(e,n,t,r){let o=r.get(Zm,Qm)||t===Vt.ShadowDom||t===Vt.ExperimentalIsolatedShadowDom,s=e.selectRootElement(n,o);return vS(s),s}function vS(e){yS(e)}var yS=()=>null;function CS(e){return e==="class"?"className":e==="for"?"htmlFor":e==="formaction"?"formAction":e==="innerHtml"?"innerHTML":e==="readonly"?"readOnly":e==="tabindex"?"tabIndex":e}function Av(e,n,t,r,i,o){let s=n[N];if(Hf(e,s,n,t,r)){Hn(e)&&ES(n,e.index);return}e.type&3&&(t=CS(t)),Nv(e,n,t,r,i,o)}function Nv(e,n,t,r,i,o){if(e.type&3){let s=Et(e,n);r=o!=null?o(r,e.value||"",t):r,i.setProperty(s,t,r)}else e.type&12}function ES(e,n){let t=_t(n,e);t[F]&16||(t[F]|=64)}function _S(e,n,t){let r=t.directiveStart,i=t.directiveEnd;Hn(t)&&GI(n,t,e.data[r+t.componentOffset]),e.firstCreatePass||tc(t,n);let o=t.initialInputs;for(let s=r;s<i;s++){let a=e.data[s],c=Po(n,e,s,t);if(Ti(c,n),o!==null&&wS(n,s-r,c,a,t,o),en(a)){let l=_t(t.index,n);l[Se]=Po(n,e,s,t)}}}function DS(e,n,t){let r=t.directiveStart,i=t.directiveEnd,o=t.index,s=Rg();try{$n(o);for(let a=r;a<i;a++){let c=e.data[a],l=n[a];ka(a),(c.hostBindings!==null||c.hostVars!==0||c.hostAttrs!==null)&&IS(c,l)}}finally{$n(-1),ka(s)}}function IS(e,n){e.hostBindings!==null&&e.hostBindings(1,n)}function Rv(e,n){let t=e.directiveRegistry,r=null;if(t)for(let i=0;i<t.length;i++){let o=t[i];hv(n,o.selectors,!1)&&(r??=[],en(o)?r.unshift(o):r.push(o))}return r}function SS(e,n,t,r,i,o){let s=Et(e,n);bS(n[ae],s,o,e.value,t,r,i)}function bS(e,n,t,r,i,o,s){if(o==null)e.removeAttribute(n,i,t);else{let a=s==null?Pt(o):s(o,r||"",i);e.setAttribute(n,i,a,t)}}function wS(e,n,t,r,i,o){let s=o[n];if(s!==null)for(let a=0;a<s.length;a+=2){let c=s[a],l=s[a+1];Yd(r,t,c,l)}}function Nc(e,n,t,r,i){let o=Ee+t,s=n[N],a=i(s,n,e,r,t);n[o]=a,Rr(e,!0);let c=e.type===2;return c?(lv(n[ae],a,e),(Sg()===0||wo(e))&&Ti(a,n),bg()):Ti(a,n),Va()&&(!c||!Dc(e))&&Bf(s,n,a,e),e}function Rc(e){let n=e;return fd()?hd():(n=n.parent,Rr(n,!1)),n}function TS(e,n){let t=e[at];if(!t)return;let r;try{r=t.get(St,null)}catch(i){r=null}r?.(n)}function Hf(e,n,t,r,i){let o=e.inputs?.[r],s=e.hostDirectiveInputs?.[r],a=!1;if(s)for(let c=0;c<s.length;c+=2){let l=s[c],u=s[c+1],f=n.data[l];Yd(f,t[l],u,i),a=!0}if(o)for(let c of o){let l=t[c],u=n.data[c];Yd(u,l,r,i),a=!0}return a}function MS(e,n){let t=_t(n,e),r=t[N];AS(r,t);let i=t[Ft];i!==null&&t[br]===null&&(t[br]=Ym(i,t[at])),oe(Y.ComponentStart);try{Uf(r,t,t[Se])}finally{oe(Y.ComponentEnd,t[Se])}}function AS(e,n){for(let t=n.length;t<e.blueprint.length;t++)n.push(e.blueprint[t])}function Uf(e,n,t){Fa(n);try{let r=e.viewQuery;r!==null&&Ud(1,r,t);let i=e.template;i!==null&&Mv(e,n,i,1,t),e.firstCreatePass&&(e.firstCreatePass=!1),n[Xt]?.finishViewCreation(e),e.staticContentQueries&&Xm(e,n),e.staticViewQueries&&Ud(2,e.viewQuery,t);let o=e.components;o!==null&&NS(n,o)}catch(r){throw e.firstCreatePass&&(e.incompleteFirstPass=!0,e.firstCreatePass=!1),r}finally{n[F]&=-5,La()}}function NS(e,n){for(let t=0;t<n.length;t++)MS(e,n[t])}function Qo(e,n,t,r){let i=O(null);try{let o=n.tView,a=e[F]&4096?4096:16,c=Of(e,o,t,a,null,n,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null),l=e[n.index];c[yn]=l;let u=e[Xt];return u!==null&&(c[Xt]=u.createEmbeddedView(o)),Uf(o,c,t),c}finally{O(i)}}function Mi(e,n){return!n||n.firstChild===null||Hm(e)}function Fo(e,n,t,r,i=!1){for(;t!==null;){if(t.type===128){t=i?t.projectionNext:t.next;continue}let o=n[t.index];o!==null&&r.push(Ct(o)),Lt(o)&&xv(o,r);let s=t.type;if(s&8)Fo(e,n,t.child,r);else if(s&32){let a=Pf(t,n),c;for(;c=a();)r.push(c)}else if(s&16){let a=wv(n,t);if(Array.isArray(a))r.push(...a);else{let c=Pn(n[Qe]);Fo(c[N],c,a,r,!0)}}t=i?t.projectionNext:t.next}return r}function xv(e,n){for(let t=_e;t<e.length;t++){let r=e[t],i=r[N].firstChild;i!==null&&Fo(r[N],r,i,n)}e[jn]!==e[Ft]&&n.push(e[jn])}function Ov(e){if(e[Mr]!==null){for(let n of e[Mr])n.impl.addSequence(n);e[Mr].length=0}}var kv=[];function RS(e){return e[ct]??xS(e)}function xS(e){let n=kv.pop()??Object.create(kS);return n.lView=e,n}function OS(e){e.lView[ct]!==e&&(e.lView=null,kv.push(e))}var kS=P(y({},ar),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:e=>{Ei(e.lView)},consumerOnSignalRead(){this.lView[ct]=this}});function PS(e){let n=e[ct]??Object.create(FS);return n.lView=e,n}var FS=P(y({},ar),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:e=>{let n=Pn(e.lView);for(;n&&!Pv(n[N]);)n=Pn(n);n&&nd(n)},consumerOnSignalRead(){this.lView[ct]=this}});function Pv(e){return e.type!==2}function Fv(e){if(e[So]===null)return;let n=!0;for(;n;){let t=!1;for(let r of e[So])r.dirty&&(t=!0,r.zone===null||Zone.current===r.zone?r.run():r.zone.run(()=>r.run()));n=t&&!!(e[F]&8192)}}var LS=100;function Lv(e,n=0){let r=e[Yt].rendererFactory,i=!1;i||r.begin?.();try{BS(e,n)}finally{i||r.end?.()}}function BS(e,n){let t=pd();try{gd(!0),Xd(e,n);let r=0;for(;Mo(e);){if(r===LS)throw new b(103,!1);r++,Xd(e,1)}}finally{gd(t)}}function VS(e,n,t,r){if(Nr(n))return;let i=n[F],o=!1,s=!1;Fa(n);let a=!0,c=null,l=null;o||(Pv(e)?(l=RS(n),c=ur(l)):Vs()===null?(a=!1,l=PS(n),c=ur(l)):n[ct]&&(ao(n[ct]),n[ct]=null));try{td(n),Mg(e.bindingStartIndex),t!==null&&Mv(e,n,t,2,r);let u=(i&3)===3;if(!o)if(u){let h=e.preOrderCheckHooks;h!==null&&za(n,h,null)}else{let h=e.preOrderHooks;h!==null&&Ka(n,h,0,null),Td(n,0)}if(s||jS(n),Fv(n),Bv(n,0),e.contentQueries!==null&&Xm(e,n),!o)if(u){let h=e.contentCheckHooks;h!==null&&za(n,h)}else{let h=e.contentHooks;h!==null&&Ka(n,h,1),Td(n,1)}US(e,n);let f=e.components;f!==null&&jv(n,f,0);let p=e.viewQuery;if(p!==null&&Ud(2,p,r),!o)if(u){let h=e.viewCheckHooks;h!==null&&za(n,h)}else{let h=e.viewHooks;h!==null&&Ka(n,h,2),Td(n,2)}if(e.firstUpdatePass===!0&&(e.firstUpdatePass=!1),n[Aa]){for(let h of n[Aa])h();n[Aa]=null}o||(Ov(n),n[F]&=-73)}catch(u){throw o||Ei(n),u}finally{l!==null&&(ri(l,c),a&&OS(l)),La()}}function Bv(e,n){for(let t=$m(e);t!==null;t=Wm(t))for(let r=_e;r<t.length;r++){let i=t[r];Vv(i,n)}}function jS(e){for(let n=$m(e);n!==null;n=Wm(n)){if(!(n[F]&2))continue;let t=n[Ar];for(let r=0;r<t.length;r++){let i=t[r];nd(i)}}}function HS(e,n,t){oe(Y.ComponentStart);let r=_t(n,e);try{Vv(r,t)}finally{oe(Y.ComponentEnd,r[Se])}}function Vv(e,n){Ra(e)&&Xd(e,n)}function Xd(e,n){let r=e[N],i=e[F],o=e[ct],s=!!(n===0&&i&16);if(s||=!!(i&64&&n===0),s||=!!(i&1024),s||=!!(o?.dirty&&js(o)),s||=!1,o&&(o.dirty=!1),e[F]&=-9217,s)VS(r,e,r.template,e[Se]);else if(i&8192){let a=O(null);try{Fv(e),Bv(e,1);let c=r.components;c!==null&&jv(e,c,1),Ov(e)}finally{O(a)}}}function jv(e,n,t){for(let r=0;r<n.length;r++)HS(e,n[r],t)}function US(e,n){let t=e.hostBindingOpCodes;if(t!==null)try{for(let r=0;r<t.length;r++){let i=t[r];if(i<0)$n(~i);else{let o=i,s=t[++r],a=t[++r];Ng(s,o);let c=n[o];oe(Y.HostBindingsUpdateStart,c);try{a(2,c)}finally{oe(Y.HostBindingsUpdateEnd,c)}}}}finally{$n(-1)}}function $f(e,n){let t=pd()?64:1088;for(e[Yt].changeDetectionScheduler?.notify(n);e;){e[F]|=t;let r=Pn(e);if(Ci(e)&&!r)return e;e=r}return null}function Hv(e,n,t,r){return[e,!0,0,n,null,r,null,t,null,null]}function Uv(e,n){let t=_e+n;if(t<e.length)return e[t]}function Zo(e,n,t,r=!0){let i=n[N];if($S(i,n,e,t),r){let s=sc(t,e),a=n[ae],c=a.parentNode(e[jn]);c!==null&&oS(i,e[Ke],a,n,c,s)}let o=n[br];o!==null&&o.firstChild!==null&&(o.firstChild=null)}function $v(e,n){let t=Lo(e,n);return t!==void 0&&Mc(t[N],t),t}function Lo(e,n){if(e.length<=_e)return;let t=_e+n,r=e[t];if(r){let i=r[yn];i!==null&&i!==e&&Lf(i,r),n>0&&(e[t-1][yt]=r[yt]);let o=_o(e,_e+n);iS(r[N],r);let s=o[Xt];s!==null&&s.detachView(o[N]),r[Ae]=null,r[yt]=null,r[F]&=-129}return r}function $S(e,n,t,r){let i=_e+r,o=t.length;r>0&&(t[i-1][yt]=n),r<o-_e?(n[yt]=t[i],$u(t,_e+r,n)):(t.push(n),n[yt]=null),n[Ae]=t;let s=n[yn];s!==null&&t!==s&&Wv(s,n);let a=n[Xt];a!==null&&a.insertView(e),xa(n),n[F]|=128}function Wv(e,n){let t=e[Ar],r=n[Ae];if(Jt(r))e[F]|=2;else{let i=r[Ae][Qe];n[Qe]!==i&&(e[F]|=2)}t===null?e[Ar]=[n]:t.push(n)}var Wn=class{_lView;_cdRefInjectingView;_appRef=null;_attachedToViewContainer=!1;exhaustive;get rootNodes(){let n=this._lView,t=n[N];return Fo(t,n,t.firstChild,[])}constructor(n,t){this._lView=n,this._cdRefInjectingView=t}get context(){return this._lView[Se]}set context(n){this._lView[Se]=n}get destroyed(){return Nr(this._lView)}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let n=this._lView[Ae];if(Lt(n)){let t=n[bo],r=t?t.indexOf(this):-1;r>-1&&(Lo(n,r),_o(t,r))}this._attachedToViewContainer=!1}Mc(this._lView[N],this._lView)}onDestroy(n){rd(this._lView,n)}markForCheck(){$f(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[F]&=-129}reattach(){xa(this._lView),this._lView[F]|=128}detectChanges(){this._lView[F]|=1024,Lv(this._lView)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new b(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let n=Ci(this._lView),t=this._lView[yn];t!==null&&!n&&Lf(t,this._lView),Iv(this._lView[N],this._lView)}attachToAppRef(n){if(this._attachedToViewContainer)throw new b(902,!1);this._appRef=n;let t=Ci(this._lView),r=this._lView[yn];r!==null&&!t&&Wv(r,this._lView),xa(this._lView)}};var In=(()=>{class e{_declarationLView;_declarationTContainer;elementRef;static __NG_ELEMENT_ID__=WS;constructor(t,r,i){this._declarationLView=t,this._declarationTContainer=r,this.elementRef=i}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(t,r){return this.createEmbeddedViewImpl(t,r)}createEmbeddedViewImpl(t,r,i){let o=Qo(this._declarationLView,this._declarationTContainer,t,{embeddedViewInjector:r,dehydratedView:i});return new Wn(o)}}return e})();function WS(){return Wf(Te(),x())}function Wf(e,n){return e.type&4?new In(n,e,xi(e,n)):null}function Oi(e,n,t,r,i){let o=e.data[n];if(o===null)o=GS(e,n,t,r,i),Ag()&&(o.flags|=32);else if(o.type&64){o.type=t,o.value=r,o.attrs=i;let s=wg();o.injectorIndex=s===null?-1:s.injectorIndex}return Rr(o,!0),o}function GS(e,n,t,r,i){let o=dd(),s=fd(),a=s?o:o&&o.parent,c=e.data[n]=zS(e,a,t,n,r,i);return qS(e,c,o,s),c}function qS(e,n,t,r){e.firstChild===null&&(e.firstChild=n),t!==null&&(r?t.child==null&&n.parent!==null&&(t.child=n):t.next===null&&(t.next=n,n.prev=t))}function zS(e,n,t,r,i,o){let s=n?n.injectorIndex:-1,a=0;return cd()&&(a|=128),{type:t,index:r,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,fieldIndex:-1,customControlIndex:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:null,inputs:null,hostDirectiveInputs:null,outputs:null,hostDirectiveOutputs:null,directiveToIndex:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:n,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}function KS(e){let n=e[Yu]??[],r=e[Ae][ae],i=[];for(let o of n)o.data[Km]!==void 0?i.push(o):QS(o,r);e[Yu]=i}function QS(e,n){let t=0,r=e.firstChild;if(r){let i=e.data[zm];for(;t<i;){let o=r.nextSibling;cv(n,r,!1),r=o,t++}}}var ZS=()=>null,YS=()=>null;function ac(e,n){return ZS(e,n)}function Gv(e,n,t){return YS(e,n,t)}var qv=class{},xc=class{},Jd=class{resolveComponentFactory(n){throw new b(917,!1)}},Yo=class{static NULL=new Jd},Pr=class{},sn=(()=>{class e{destroyNode=null;static __NG_ELEMENT_ID__=()=>XS()}return e})();function XS(){let e=x(),n=Te(),t=_t(n.index,e);return(Jt(t)?t:e)[ae]}var zv=(()=>{class e{static \u0275prov=_({token:e,providedIn:"root",factory:()=>null})}return e})();var Za={},ef=class{injector;parentInjector;constructor(n,t){this.injector=n,this.parentInjector=t}get(n,t,r){let i=this.injector.get(n,Za,r);return i!==Za||t===Za?i:this.parentInjector.get(n,t,r)}};function cc(e,n,t){let r=t?e.styles:null,i=t?e.classes:null,o=0;if(n!==null)for(let s=0;s<n.length;s++){let a=n[s];if(typeof a=="number")o=a;else if(o==1)i=Ia(i,a);else if(o==2){let c=a,l=n[++s];r=Ia(r,c+": "+l+";")}}t?e.styles=r:e.stylesWithoutHost=r,t?e.classes=i:e.classesWithoutHost=i}function k(e,n=0){let t=x();if(t===null)return V(e,n);let r=Te();return Bm(r,t,Ve(e),n)}function JS(e,n,t,r,i){let o=r===null?null:{"":-1},s=i(e,t);if(s!==null){let a=s,c=null,l=null;for(let u of s)if(u.resolveHostDirectives!==null){[a,c,l]=u.resolveHostDirectives(s);break}nb(e,n,t,a,o,c,l)}o!==null&&r!==null&&eb(t,r,o)}function eb(e,n,t){let r=e.localNames=[];for(let i=0;i<n.length;i+=2){let o=t[n[i+1]];if(o==null)throw new b(-301,!1);r.push(n[i],o)}}function tb(e,n,t){n.componentOffset=t,(e.components??=[]).push(n.index)}function nb(e,n,t,r,i,o,s){let a=r.length,c=null;for(let p=0;p<a;p++){let h=r[p];c===null&&en(h)&&(c=h,tb(e,t,p)),Bd(tc(t,n),e,h.type)}cb(t,e.data.length,a),c?.viewProvidersResolver&&c.viewProvidersResolver(c);for(let p=0;p<a;p++){let h=r[p];h.providersResolver&&h.providersResolver(h)}let l=!1,u=!1,f=gv(e,n,a,null);a>0&&(t.directiveToIndex=new Map);for(let p=0;p<a;p++){let h=r[p];if(t.mergedAttrs=wi(t.mergedAttrs,h.hostAttrs),ib(e,t,n,f,h),ab(f,h,i),s!==null&&s.has(h)){let[E,I]=s.get(h);t.directiveToIndex.set(h.type,[f,E+t.directiveStart,I+t.directiveStart])}else(o===null||!o.has(h))&&t.directiveToIndex.set(h.type,f);h.contentQueries!==null&&(t.flags|=4),(h.hostBindings!==null||h.hostAttrs!==null||h.hostVars!==0)&&(t.flags|=64);let m=h.type.prototype;!l&&(m.ngOnChanges||m.ngOnInit||m.ngDoCheck)&&((e.preOrderHooks??=[]).push(t.index),l=!0),!u&&(m.ngOnChanges||m.ngDoCheck)&&((e.preOrderCheckHooks??=[]).push(t.index),u=!0),f++}rb(e,t,o)}function rb(e,n,t){for(let r=n.directiveStart;r<n.directiveEnd;r++){let i=e.data[r];if(t===null||!t.has(i))cm(0,n,i,r),cm(1,n,i,r),um(n,r,!1);else{let o=t.get(i);lm(0,n,o,r),lm(1,n,o,r),um(n,r,!0)}}}function cm(e,n,t,r){let i=e===0?t.inputs:t.outputs;for(let o in i)if(i.hasOwnProperty(o)){let s;e===0?s=n.inputs??={}:s=n.outputs??={},s[o]??=[],s[o].push(r),Kv(n,o)}}function lm(e,n,t,r){let i=e===0?t.inputs:t.outputs;for(let o in i)if(i.hasOwnProperty(o)){let s=i[o],a;e===0?a=n.hostDirectiveInputs??={}:a=n.hostDirectiveOutputs??={},a[s]??=[],a[s].push(r,o),Kv(n,s)}}function Kv(e,n){n==="class"?e.flags|=8:n==="style"&&(e.flags|=16)}function um(e,n,t){let{attrs:r,inputs:i,hostDirectiveInputs:o}=e;if(r===null||!t&&i===null||t&&o===null||Rf(e)){e.initialInputs??=[],e.initialInputs.push(null);return}let s=null,a=0;for(;a<r.length;){let c=r[a];if(c===0){a+=4;continue}else if(c===5){a+=2;continue}else if(typeof c=="number")break;if(!t&&i.hasOwnProperty(c)){let l=i[c];for(let u of l)if(u===n){s??=[],s.push(c,r[a+1]);break}}else if(t&&o.hasOwnProperty(c)){let l=o[c];for(let u=0;u<l.length;u+=2)if(l[u]===n){s??=[],s.push(l[u+1],r[a+1]);break}}a+=2}e.initialInputs??=[],e.initialInputs.push(s)}function ib(e,n,t,r,i){e.data[r]=i;let o=i.factory||(i.factory=Er(i.type,!0)),s=new Or(o,en(i),k,null);e.blueprint[r]=s,t[r]=s,ob(e,n,r,gv(e,t,i.hostVars,He),i)}function ob(e,n,t,r,i){let o=i.hostBindings;if(o){let s=e.hostBindingOpCodes;s===null&&(s=e.hostBindingOpCodes=[]);let a=~n.index;sb(s)!=a&&s.push(a),s.push(t,r,o)}}function sb(e){let n=e.length;for(;n>0;){let t=e[--n];if(typeof t=="number"&&t<0)return t}return 0}function ab(e,n,t){if(t){if(n.exportAs)for(let r=0;r<n.exportAs.length;r++)t[n.exportAs[r]]=e;en(n)&&(t[""]=e)}}function cb(e,n,t){e.flags|=1,e.directiveStart=n,e.directiveEnd=n+t,e.providerIndexes=n}function Gf(e,n,t,r,i,o,s,a){let c=n[N],l=c.consts,u=tn(l,s),f=Oi(c,e,t,r,u);return o&&JS(c,n,f,tn(l,a),i),f.mergedAttrs=wi(f.mergedAttrs,f.attrs),f.attrs!==null&&cc(f,f.attrs,!1),f.mergedAttrs!==null&&cc(f,f.mergedAttrs,!0),c.queries!==null&&c.queries.elementStart(c,f),f}function qf(e,n){RD(e,n),Xu(n)&&e.queries.elementEnd(n)}function Qv(e,n,t,r,i,o){let s=n.consts,a=tn(s,i),c=Oi(n,e,t,r,a);if(c.mergedAttrs=wi(c.mergedAttrs,c.attrs),o!=null){let l=tn(s,o);c.localNames=[];for(let u=0;u<l.length;u+=2)c.localNames.push(l[u],-1)}return c.attrs!==null&&cc(c,c.attrs,!1),c.mergedAttrs!==null&&cc(c,c.mergedAttrs,!0),n.queries!==null&&n.queries.elementStart(n,c),c}function zf(e,n,t){return e[n]=t}function lb(e,n){return e[n]}function bt(e,n,t){if(t===He)return!1;let r=e[n];return Object.is(r,t)?!1:(e[n]=t,!0)}function lc(e,n,t,r){let i=bt(e,n,t);return bt(e,n+1,r)||i}function ub(e,n,t,r,i,o){let s=lc(e,n,t,r);return lc(e,n+2,i,o)||s}function Ya(e,n,t){return function r(i){let o=Hn(e)?_t(e.index,n):n;$f(o,5);let s=n[Se],a=dm(n,s,t,i),c=r.__ngNextListenerFn__;for(;c;)a=dm(n,s,c,i)&&a,c=c.__ngNextListenerFn__;return a}}function dm(e,n,t,r){let i=O(null);try{return oe(Y.OutputStart,n,t),t(r)!==!1}catch(o){return TS(e,o),!1}finally{oe(Y.OutputEnd,n,t),O(i)}}function Zv(e,n,t,r,i,o,s,a){let c=wo(e),l=!1,u=null;if(!r&&c&&(u=fb(n,t,o,e.index)),u!==null){let f=u.__ngLastListenerFn__||u;f.__ngNextListenerFn__=s,u.__ngLastListenerFn__=s,l=!0}else{let f=Et(e,t),p=r?r(f):f;eI(t,p,o,a);let h=i.listen(p,o,a);if(!db(o)){let m=r?E=>r(Ct(E[e.index])):e.index;Yv(m,n,t,o,a,h,!1)}}return l}function db(e){return e.startsWith("animation")||e.startsWith("transition")}function fb(e,n,t,r){let i=e.cleanup;if(i!=null)for(let o=0;o<i.length-1;o+=2){let s=i[o];if(s===t&&i[o+1]===r){let a=n[vi],c=i[o+2];return a&&a.length>c?a[c]:null}typeof s=="string"&&(o+=2)}return null}function Yv(e,n,t,r,i,o,s){let a=n.firstCreatePass?od(n):null,c=id(t),l=c.length;c.push(i,o),a&&a.push(r,e,l,(l+1)*(s?-1:1))}function fm(e,n,t,r,i,o){let s=n[t],a=n[N],l=a.data[t].outputs[r],f=s[l].subscribe(o);Yv(e.index,a,n,i,o,f,!0)}var tf=Symbol("BINDING");var uc=class extends Yo{ngModule;constructor(n){super(),this.ngModule=n}resolveComponentFactory(n){let t=vn(n);return new Fr(t,this.ngModule)}};function hb(e){return Object.keys(e).map(n=>{let[t,r,i]=e[n],o={propName:t,templateName:n,isSignal:(r&wc.SignalBased)!==0};return i&&(o.transform=i),o})}function pb(e){return Object.keys(e).map(n=>({propName:e[n],templateName:n}))}function gb(e,n,t){let r=n instanceof Ce?n:n?.injector;return r&&e.getStandaloneInjector!==null&&(r=e.getStandaloneInjector(r)||r),r?new ef(t,r):t}function mb(e){let n=e.get(Pr,null);if(n===null)throw new b(407,!1);let t=e.get(zv,null),r=e.get(Fn,null);return{rendererFactory:n,sanitizer:t,changeDetectionScheduler:r,ngReflect:!1}}function vb(e,n){let t=Xv(e);return sv(n,t,t==="svg"?Ju:t==="math"?vg:null)}function Xv(e){return(e.selectors[0][0]||"div").toLowerCase()}var Fr=class extends xc{componentDef;ngModule;selector;componentType;ngContentSelectors;isBoundToModule;cachedInputs=null;cachedOutputs=null;get inputs(){return this.cachedInputs??=hb(this.componentDef.inputs),this.cachedInputs}get outputs(){return this.cachedOutputs??=pb(this.componentDef.outputs),this.cachedOutputs}constructor(n,t){super(),this.componentDef=n,this.ngModule=t,this.componentType=n.type,this.selector=HI(n.selectors),this.ngContentSelectors=n.ngContentSelectors??[],this.isBoundToModule=!!t}create(n,t,r,i,o,s){oe(Y.DynamicComponentStart);let a=O(null);try{let c=this.componentDef,l=yb(r,c,s,o),u=gb(c,i||this.ngModule,n),f=mb(u),p=f.rendererFactory.createRenderer(null,c),h=r?mS(p,r,c.encapsulation,u):vb(c,p),m=s?.some(hm)||o?.some(T=>typeof T!="function"&&T.bindings.some(hm)),E=Of(null,l,null,512|pv(c),null,null,f,p,u,null,Ym(h,u,!0));E[Ee]=h,Fa(E);let I=null;try{let T=Gf(Ee,E,2,"#host",()=>l.directiveRegistry,!0,0);lv(p,h,T),Ti(h,E),jf(l,E,T),Df(l,T,E),qf(l,T),t!==void 0&&Eb(T,this.ngContentSelectors,t),I=_t(T.index,E),E[Se]=I[Se],Uf(l,E,null)}catch(T){throw I!==null&&jd(I),jd(E),T}finally{oe(Y.DynamicComponentEnd),La()}return new dc(this.componentType,E,!!m)}finally{O(a)}}};function yb(e,n,t,r){let i=e?["ng-version","21.1.4"]:UI(n.selectors[0]),o=null,s=null,a=0;if(t)for(let u of t)a+=u[tf].requiredVars,u.create&&(u.targetIdx=0,(o??=[]).push(u)),u.update&&(u.targetIdx=0,(s??=[]).push(u));if(r)for(let u=0;u<r.length;u++){let f=r[u];if(typeof f!="function")for(let p of f.bindings){a+=p[tf].requiredVars;let h=u+1;p.create&&(p.targetIdx=h,(o??=[]).push(p)),p.update&&(p.targetIdx=h,(s??=[]).push(p))}}let c=[n];if(r)for(let u of r){let f=typeof u=="function"?u:u.type,p=ju(f);c.push(p)}return xf(0,null,Cb(o,s),1,a,c,null,null,null,[i],null)}function Cb(e,n){return!e&&!n?null:t=>{if(t&1&&e)for(let r of e)r.create();if(t&2&&n)for(let r of n)r.update()}}function hm(e){let n=e[tf].kind;return n==="input"||n==="twoWay"}var dc=class extends qv{_rootLView;_hasInputBindings;instance;hostView;changeDetectorRef;componentType;location;previousInputValues=null;_tNode;constructor(n,t,r){super(),this._rootLView=t,this._hasInputBindings=r,this._tNode=To(t[N],Ee),this.location=xi(this._tNode,t),this.instance=_t(this._tNode.index,t)[Se],this.hostView=this.changeDetectorRef=new Wn(t,void 0),this.componentType=n}setInput(n,t){this._hasInputBindings;let r=this._tNode;if(this.previousInputValues??=new Map,this.previousInputValues.has(n)&&Object.is(this.previousInputValues.get(n),t))return;let i=this._rootLView,o=Hf(r,i[N],i,n,t);this.previousInputValues.set(n,t);let s=_t(r.index,i);$f(s,1)}get injector(){return new xr(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(n){this.hostView.onDestroy(n)}};function Eb(e,n,t){let r=e.projection=[];for(let i=0;i<n.length;i++){let o=t[i];r.push(o!=null&&o.length?Array.from(o):null)}}var qn=(()=>{class e{static __NG_ELEMENT_ID__=_b}return e})();function _b(){let e=Te();return ey(e,x())}var Db=qn,Jv=class extends Db{_lContainer;_hostTNode;_hostLView;constructor(n,t,r){super(),this._lContainer=n,this._hostTNode=t,this._hostLView=r}get element(){return xi(this._hostTNode,this._hostLView)}get injector(){return new xr(this._hostTNode,this._hostLView)}get parentInjector(){let n=Cf(this._hostTNode,this._hostLView);if(xm(n)){let t=ec(n,this._hostLView),r=Ja(n),i=t[N].data[r+8];return new xr(i,t)}else return new xr(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(n){let t=pm(this._lContainer);return t!==null&&t[n]||null}get length(){return this._lContainer.length-_e}createEmbeddedView(n,t,r){let i,o;typeof r=="number"?i=r:r!=null&&(i=r.index,o=r.injector);let s=ac(this._lContainer,n.ssrId),a=n.createEmbeddedViewImpl(t||{},o,s);return this.insertImpl(a,i,Mi(this._hostTNode,s)),a}createComponent(n,t,r,i,o,s,a){let c=n&&!wD(n),l;if(c)l=t;else{let I=t||{};l=I.index,r=I.injector,i=I.projectableNodes,o=I.environmentInjector||I.ngModuleRef,s=I.directives,a=I.bindings}let u=c?n:new Fr(vn(n)),f=r||this.parentInjector;if(!o&&u.ngModule==null){let T=(c?f:this.parentInjector).get(Ce,null);T&&(o=T)}let p=vn(u.componentType??{}),h=ac(this._lContainer,p?.id??null),m=h?.firstChild??null,E=u.create(f,i,m,o,s,a);return this.insertImpl(E.hostView,l,Mi(this._hostTNode,h)),E}insert(n,t){return this.insertImpl(n,t,!0)}insertImpl(n,t,r){let i=n._lView;if(Eg(i)){let a=this.indexOf(n);if(a!==-1)this.detach(a);else{let c=i[Ae],l=new Jv(c,c[Ke],c[Ae]);l.detach(l.indexOf(n))}}let o=this._adjustIndex(t),s=this._lContainer;return Zo(s,i,o,r),n.attachToViewContainerRef(),$u(Nd(s),o,n),n}move(n,t){return this.insert(n,t)}indexOf(n){let t=pm(this._lContainer);return t!==null?t.indexOf(n):-1}remove(n){let t=this._adjustIndex(n,-1),r=Lo(this._lContainer,t);r&&(_o(Nd(this._lContainer),t),Mc(r[N],r))}detach(n){let t=this._adjustIndex(n,-1),r=Lo(this._lContainer,t);return r&&_o(Nd(this._lContainer),t)!=null?new Wn(r):null}_adjustIndex(n,t=0){return n??this.length+t}};function pm(e){return e[bo]}function Nd(e){return e[bo]||(e[bo]=[])}function ey(e,n){let t,r=n[e.index];return Lt(r)?t=r:(t=Hv(r,n,null,e),n[e.index]=t,kf(n,t)),Sb(t,n,e,r),new Jv(t,e,n)}function Ib(e,n){let t=e[ae],r=t.createComment(""),i=Et(n,e),o=t.parentNode(i);return rc(t,o,r,t.nextSibling(i),!1),r}var Sb=Tb,bb=()=>!1;function wb(e,n,t){return bb(e,n,t)}function Tb(e,n,t,r){if(e[jn])return;let i;t.type&8?i=Ct(r):i=Ib(n,t),e[jn]=i}var nf=class e{queryList;matches=null;constructor(n){this.queryList=n}clone(){return new e(this.queryList)}setDirty(){this.queryList.setDirty()}},rf=class e{queries;constructor(n=[]){this.queries=n}createEmbeddedView(n){let t=n.queries;if(t!==null){let r=n.contentQueries!==null?n.contentQueries[0]:t.length,i=[];for(let o=0;o<r;o++){let s=t.getByIndex(o),a=this.queries[s.indexInDeclarationView];i.push(a.clone())}return new e(i)}return null}insertView(n){this.dirtyQueriesWithMatches(n)}detachView(n){this.dirtyQueriesWithMatches(n)}finishViewCreation(n){this.dirtyQueriesWithMatches(n)}dirtyQueriesWithMatches(n){for(let t=0;t<this.queries.length;t++)Kf(n,t).matches!==null&&this.queries[t].setDirty()}},of=class{flags;read;predicate;constructor(n,t,r=null){this.flags=t,this.read=r,typeof n=="string"?this.predicate=Pb(n):this.predicate=n}},sf=class e{queries;constructor(n=[]){this.queries=n}elementStart(n,t){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(n,t)}elementEnd(n){for(let t=0;t<this.queries.length;t++)this.queries[t].elementEnd(n)}embeddedTView(n){let t=null;for(let r=0;r<this.length;r++){let i=t!==null?t.length:0,o=this.getByIndex(r).embeddedTView(n,i);o&&(o.indexInDeclarationView=r,t!==null?t.push(o):t=[o])}return t!==null?new e(t):null}template(n,t){for(let r=0;r<this.queries.length;r++)this.queries[r].template(n,t)}getByIndex(n){return this.queries[n]}get length(){return this.queries.length}track(n){this.queries.push(n)}},af=class e{metadata;matches=null;indexInDeclarationView=-1;crossesNgTemplate=!1;_declarationNodeIndex;_appliesToNextNode=!0;constructor(n,t=-1){this.metadata=n,this._declarationNodeIndex=t}elementStart(n,t){this.isApplyingToNode(t)&&this.matchTNode(n,t)}elementEnd(n){this._declarationNodeIndex===n.index&&(this._appliesToNextNode=!1)}template(n,t){this.elementStart(n,t)}embeddedTView(n,t){return this.isApplyingToNode(n)?(this.crossesNgTemplate=!0,this.addMatch(-n.index,t),new e(this.metadata)):null}isApplyingToNode(n){if(this._appliesToNextNode&&(this.metadata.flags&1)!==1){let t=this._declarationNodeIndex,r=n.parent;for(;r!==null&&r.type&8&&r.index!==t;)r=r.parent;return t===(r!==null?r.index:-1)}return this._appliesToNextNode}matchTNode(n,t){let r=this.metadata.predicate;if(Array.isArray(r))for(let i=0;i<r.length;i++){let o=r[i];this.matchTNodeWithReadOption(n,t,Mb(t,o)),this.matchTNodeWithReadOption(n,t,Qa(t,n,o,!1,!1))}else r===In?t.type&4&&this.matchTNodeWithReadOption(n,t,-1):this.matchTNodeWithReadOption(n,t,Qa(t,n,r,!1,!1))}matchTNodeWithReadOption(n,t,r){if(r!==null){let i=this.metadata.read;if(i!==null)if(i===Re||i===qn||i===In&&t.type&4)this.addMatch(t.index,-2);else{let o=Qa(t,n,i,!1,!1);o!==null&&this.addMatch(t.index,o)}else this.addMatch(t.index,r)}}addMatch(n,t){this.matches===null?this.matches=[n,t]:this.matches.push(n,t)}};function Mb(e,n){let t=e.localNames;if(t!==null){for(let r=0;r<t.length;r+=2)if(t[r]===n)return t[r+1]}return null}function Ab(e,n){return e.type&11?xi(e,n):e.type&4?Wf(e,n):null}function Nb(e,n,t,r){return t===-1?Ab(n,e):t===-2?Rb(e,n,r):Po(e,e[N],t,n)}function Rb(e,n,t){if(t===Re)return xi(n,e);if(t===In)return Wf(n,e);if(t===qn)return ey(n,e)}function ty(e,n,t,r){let i=n[Xt].queries[r];if(i.matches===null){let o=e.data,s=t.matches,a=[];for(let c=0;s!==null&&c<s.length;c+=2){let l=s[c];if(l<0)a.push(null);else{let u=o[l];a.push(Nb(n,u,s[c+1],t.metadata.read))}}i.matches=a}return i.matches}function cf(e,n,t,r){let i=e.queries.getByIndex(t),o=i.matches;if(o!==null){let s=ty(e,n,i,t);for(let a=0;a<o.length;a+=2){let c=o[a];if(c>0)r.push(s[a/2]);else{let l=o[a+1],u=n[-c];for(let f=_e;f<u.length;f++){let p=u[f];p[yn]===p[Ae]&&cf(p[N],p,l,r)}if(u[Ar]!==null){let f=u[Ar];for(let p=0;p<f.length;p++){let h=f[p];cf(h[N],h,l,r)}}}}}return r}function xb(e,n){return e[Xt].queries[n].queryList}function Ob(e,n,t){let r=new nc((t&4)===4);return Ig(e,n,r,r.destroy),(n[Xt]??=new rf).queries.push(new nf(r))-1}function kb(e,n,t){let r=me();return r.firstCreatePass&&(Fb(r,new of(e,n,t),-1),(n&2)===2&&(r.staticViewQueries=!0)),Ob(r,x(),n)}function Pb(e){return e.split(",").map(n=>n.trim())}function Fb(e,n,t){e.queries===null&&(e.queries=new sf),e.queries.track(new af(n,t))}function Kf(e,n){return e.queries.getByIndex(n)}function Lb(e,n){let t=e[N],r=Kf(t,n);return r.crossesNgTemplate?cf(t,e,n,[]):ty(t,e,r,n)}var Ai=class{},Oc=class{};var fc=class extends Ai{ngModuleType;_parent;_bootstrapComponents=[];_r3Injector;instance;destroyCbs=[];componentFactoryResolver=new uc(this);constructor(n,t,r,i=!0){super(),this.ngModuleType=n,this._parent=t;let o=Vu(n);this._bootstrapComponents=dv(o.bootstrap),this._r3Injector=Ed(n,t,[{provide:Ai,useValue:this},{provide:Yo,useValue:this.componentFactoryResolver},...r],mn(n),new Set(["environment"])),i&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){let n=this._r3Injector;!n.destroyed&&n.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(n){this.destroyCbs.push(n)}},hc=class extends Oc{moduleType;constructor(n){super(),this.moduleType=n}create(n){return new fc(this.moduleType,n,[])}};var Bo=class extends Ai{injector;componentFactoryResolver=new uc(this);instance=null;constructor(n){super();let t=new Dr([...n.providers,{provide:Ai,useValue:this},{provide:Yo,useValue:this.componentFactoryResolver}],n.parent||mi(),n.debugName,new Set(["environment"]));this.injector=t,n.runEnvironmentInitializers&&t.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(n){this.injector.onDestroy(n)}};function Xo(e,n,t=null){return new Bo({providers:e,parent:n,debugName:t,runEnvironmentInitializers:!0}).injector}var Bb=(()=>{class e{_injector;cachedInjectors=new Map;constructor(t){this._injector=t}getOrCreateStandaloneInjector(t){if(!t.standalone)return null;if(!this.cachedInjectors.has(t)){let r=qu(!1,t.type),i=r.length>0?Xo([r],this._injector,""):null;this.cachedInjectors.set(t,i)}return this.cachedInjectors.get(t)}ngOnDestroy(){try{for(let t of this.cachedInjectors.values())t!==null&&t.destroy()}finally{this.cachedInjectors.clear()}}static \u0275prov=_({token:e,providedIn:"environment",factory:()=>new e(V(Ce))})}return e})();function ce(e){return Uo(()=>{let n=ny(e),t=P(y({},n),{decls:e.decls,vars:e.vars,template:e.template,consts:e.consts||null,ngContentSelectors:e.ngContentSelectors,onPush:e.changeDetection===Ef.OnPush,directiveDefs:null,pipeDefs:null,dependencies:n.standalone&&e.dependencies||null,getStandaloneInjector:n.standalone?i=>i.get(Bb).getOrCreateStandaloneInjector(t):null,getExternalStyles:null,signals:e.signals??!1,data:e.data||{},encapsulation:e.encapsulation||Vt.Emulated,styles:e.styles||ze,_:null,schemas:e.schemas||null,tView:null,id:""});n.standalone&&Ht("NgStandalone"),ry(t);let r=e.dependencies;return t.directiveDefs=gm(r,Vb),t.pipeDefs=gm(r,ng),t.id=Ub(t),t})}function Vb(e){return vn(e)||ju(e)}function Ut(e){return Uo(()=>({type:e.type,bootstrap:e.bootstrap||ze,declarations:e.declarations||ze,imports:e.imports||ze,exports:e.exports||ze,transitiveCompileScopes:null,schemas:e.schemas||null,id:e.id||null}))}function jb(e,n){if(e==null)return Bn;let t={};for(let r in e)if(e.hasOwnProperty(r)){let i=e[r],o,s,a,c;Array.isArray(i)?(a=i[0],o=i[1],s=i[2]??o,c=i[3]||null):(o=i,s=i,a=wc.None,c=null),t[o]=[r,a,c],n[o]=s}return t}function Hb(e){if(e==null)return Bn;let n={};for(let t in e)e.hasOwnProperty(t)&&(n[e[t]]=t);return n}function xe(e){return Uo(()=>{let n=ny(e);return ry(n),n})}function ny(e){let n={};return{type:e.type,providersResolver:null,viewProvidersResolver:null,factory:null,hostBindings:e.hostBindings||null,hostVars:e.hostVars||0,hostAttrs:e.hostAttrs||null,contentQueries:e.contentQueries||null,declaredInputs:n,inputConfig:e.inputs||Bn,exportAs:e.exportAs||null,standalone:e.standalone??!0,signals:e.signals===!0,selectors:e.selectors||ze,viewQuery:e.viewQuery||null,features:e.features||null,setInput:null,resolveHostDirectives:null,hostDirectives:null,inputs:jb(e.inputs,n),outputs:Hb(e.outputs),debugInfo:null}}function ry(e){e.features?.forEach(n=>n(e))}function gm(e,n){return e?()=>{let t=typeof e=="function"?e():e,r=[];for(let i of t){let o=n(i);o!==null&&r.push(o)}return r}:null}function Ub(e){let n=0,t=typeof e.consts=="function"?"":e.consts,r=[e.selectors,e.ngContentSelectors,e.hostVars,e.hostAttrs,t,e.vars,e.decls,e.encapsulation,e.standalone,e.signals,e.exportAs,JSON.stringify(e.inputs),JSON.stringify(e.outputs),Object.getOwnPropertyNames(e.type.prototype),!!e.contentQueries,!!e.viewQuery];for(let o of r.join("|"))n=Math.imul(31,n)+o.charCodeAt(0)<<0;return n+=2147483648,"c"+n}function $b(e){return Object.getPrototypeOf(e.prototype).constructor}function wt(e){let n=$b(e.type),t=!0,r=[e];for(;n;){let i;if(en(e))i=n.\u0275cmp||n.\u0275dir;else{if(n.\u0275cmp)throw new b(903,!1);i=n.\u0275dir}if(i){if(t){r.push(i);let s=e;s.inputs=Rd(e.inputs),s.declaredInputs=Rd(e.declaredInputs),s.outputs=Rd(e.outputs);let a=i.hostBindings;a&&Kb(e,a);let c=i.viewQuery,l=i.contentQueries;if(c&&qb(e,c),l&&zb(e,l),Wb(e,i),tg(e.outputs,i.outputs),en(i)&&i.data.animation){let u=e.data;u.animation=(u.animation||[]).concat(i.data.animation)}}let o=i.features;if(o)for(let s=0;s<o.length;s++){let a=o[s];a&&a.ngInherit&&a(e),a===wt&&(t=!1)}}n=Object.getPrototypeOf(n)}Gb(r)}function Wb(e,n){for(let t in n.inputs){if(!n.inputs.hasOwnProperty(t)||e.inputs.hasOwnProperty(t))continue;let r=n.inputs[t];r!==void 0&&(e.inputs[t]=r,e.declaredInputs[t]=n.declaredInputs[t])}}function Gb(e){let n=0,t=null;for(let r=e.length-1;r>=0;r--){let i=e[r];i.hostVars=n+=i.hostVars,i.hostAttrs=wi(i.hostAttrs,t=wi(t,i.hostAttrs))}}function Rd(e){return e===Bn?{}:e===ze?[]:e}function qb(e,n){let t=e.viewQuery;t?e.viewQuery=(r,i)=>{n(r,i),t(r,i)}:e.viewQuery=n}function zb(e,n){let t=e.contentQueries;t?e.contentQueries=(r,i,o)=>{n(r,i,o),t(r,i,o)}:e.contentQueries=n}function Kb(e,n){let t=e.hostBindings;t?e.hostBindings=(r,i)=>{n(r,i),t(r,i)}:e.hostBindings=n}function Qb(e,n,t,r,i,o,s,a){if(t.firstCreatePass){e.mergedAttrs=wi(e.mergedAttrs,e.attrs);let u=e.tView=xf(2,e,i,o,s,t.directiveRegistry,t.pipeRegistry,null,t.schemas,t.consts,null);t.queries!==null&&(t.queries.template(t,e),u.queries=t.queries.embeddedTView(e))}a&&(e.flags|=a),Rr(e,!1);let c=Zb(t,n,e,r);Va()&&Bf(t,n,c,e),Ti(c,n);let l=Hv(c,n,c,e);n[r+Ee]=l,kf(n,l),wb(l,e,n)}function Vo(e,n,t,r,i,o,s,a,c,l,u){let f=t+Ee,p;if(n.firstCreatePass){if(p=Oi(n,f,4,s||null,a||null),l!=null){let h=tn(n.consts,l);p.localNames=[];for(let m=0;m<h.length;m+=2)p.localNames.push(h[m],-1)}}else p=n.data[f];return Qb(p,e,n,t,r,i,o,c),l!=null&&Ko(e,p,u),p}var Zb=Yb;function Yb(e,n,t,r){return xo(!0),n[ae].createComment("")}var kc=(()=>{class e{log(t){console.log(t)}warn(t){console.warn(t)}static \u0275fac=function(r){return new(r||e)};static \u0275prov=_({token:e,factory:e.\u0275fac,providedIn:"platform"})}return e})();function iy(e){return typeof e=="function"&&e[Oe]!==void 0}function Qf(e){return iy(e)&&typeof e.set=="function"}var Zf=new w("");function Vr(e){return!!e&&typeof e.then=="function"}function oy(e){return!!e&&typeof e.subscribe=="function"}var sy=new w("");var Yf=(()=>{class e{resolve;reject;initialized=!1;done=!1;donePromise=new Promise((t,r)=>{this.resolve=t,this.reject=r});appInits=g(sy,{optional:!0})??[];injector=g(ge);constructor(){}runInitializers(){if(this.initialized)return;let t=[];for(let i of this.appInits){let o=$e(this.injector,i);if(Vr(o))t.push(o);else if(oy(o)){let s=new Promise((a,c)=>{o.subscribe({complete:a,error:c})});t.push(s)}}let r=()=>{this.done=!0,this.resolve()};Promise.all(t).then(()=>{r()}).catch(i=>{this.reject(i)}),t.length===0&&r(),this.initialized=!0}static \u0275fac=function(r){return new(r||e)};static \u0275prov=_({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),Pc=new w("");function ay(){Zl(()=>{let e="";throw new b(600,e)})}function cy(e){return e.isBoundToModule}var Xb=10;var We=(()=>{class e{_runningTick=!1;_destroyed=!1;_destroyListeners=[];_views=[];internalErrorHandler=g(St);afterRenderManager=g(Ff);zonelessEnabled=g(_i);rootEffectScheduler=g(wd);dirtyFlags=0;tracingSnapshot=null;allTestViews=new Set;autoDetectTestViews=new Set;includeAllTestViews=!1;afterTick=new $;get allViews(){return[...(this.includeAllTestViews?this.allTestViews:this.autoDetectTestViews).keys(),...this._views]}get destroyed(){return this._destroyed}componentTypes=[];components=[];internalPendingTask=g(En);get isStable(){return this.internalPendingTask.hasPendingTasksObservable.pipe(de(t=>!t))}constructor(){g(Br,{optional:!0})}whenStable(){let t;return new Promise(r=>{t=this.isStable.subscribe({next:i=>{i&&r()}})}).finally(()=>{t.unsubscribe()})}_injector=g(Ce);_rendererFactory=null;get injector(){return this._injector}bootstrap(t,r){return this.bootstrapImpl(t,r)}bootstrapImpl(t,r,i=ge.NULL){return this._injector.get(ne).run(()=>{oe(Y.BootstrapComponentStart);let s=t instanceof xc;if(!this._injector.get(Yf).done){let m="";throw new b(405,m)}let c;s?c=t:c=this._injector.get(Yo).resolveComponentFactory(t),this.componentTypes.push(c.componentType);let l=cy(c)?void 0:this._injector.get(Ai),u=r||c.selector,f=c.create(i,[],u,l),p=f.location.nativeElement,h=f.injector.get(Zf,null);return h?.registerApplication(p),f.onDestroy(()=>{this.detachView(f.hostView),ko(this.components,f),h?.unregisterApplication(p)}),this._loadComponent(f),oe(Y.BootstrapComponentEnd,f),f})}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){oe(Y.ChangeDetectionStart),this.tracingSnapshot!==null?this.tracingSnapshot.run(Tc.CHANGE_DETECTION,this.tickImpl):this.tickImpl()}tickImpl=()=>{if(this._runningTick)throw oe(Y.ChangeDetectionEnd),new b(101,!1);let t=O(null);try{this._runningTick=!0,this.synchronize()}finally{this._runningTick=!1,this.tracingSnapshot?.dispose(),this.tracingSnapshot=null,O(t),this.afterTick.next(),oe(Y.ChangeDetectionEnd)}};synchronize(){this._rendererFactory===null&&!this._injector.destroyed&&(this._rendererFactory=this._injector.get(Pr,null,{optional:!0}));let t=0;for(;this.dirtyFlags!==0&&t++<Xb;){oe(Y.ChangeDetectionSyncStart);try{this.synchronizeOnce()}finally{oe(Y.ChangeDetectionSyncEnd)}}}synchronizeOnce(){this.dirtyFlags&16&&(this.dirtyFlags&=-17,this.rootEffectScheduler.flush());let t=!1;if(this.dirtyFlags&7){let r=!!(this.dirtyFlags&1);this.dirtyFlags&=-8,this.dirtyFlags|=8;for(let{_lView:i}of this.allViews){if(!r&&!Mo(i))continue;let o=r&&!this.zonelessEnabled?0:1;Lv(i,o),t=!0}if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),this.dirtyFlags&23)return}t||(this._rendererFactory?.begin?.(),this._rendererFactory?.end?.()),this.dirtyFlags&8&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){if(this.allViews.some(({_lView:t})=>Mo(t))){this.dirtyFlags|=2;return}else this.dirtyFlags&=-8}attachView(t){let r=t;this._views.push(r),r.attachToAppRef(this)}detachView(t){let r=t;ko(this._views,r),r.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView);try{this.tick()}catch(i){this.internalErrorHandler(i)}this.components.push(t),this._injector.get(Pc,[]).forEach(i=>i(t))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(t=>t()),this._views.slice().forEach(t=>t.destroy())}finally{this._destroyed=!0,this._views=[],this._destroyListeners=[]}}onDestroy(t){return this._destroyListeners.push(t),()=>ko(this._destroyListeners,t)}destroy(){if(this._destroyed)throw new b(406,!1);let t=this._injector;t.destroy&&!t.destroyed&&t.destroy()}get viewCount(){return this._views.length}static \u0275fac=function(r){return new(r||e)};static \u0275prov=_({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function ko(e,n){let t=e.indexOf(n);t>-1&&e.splice(t,1)}function Ye(e,n,t,r){let i=x(),o=Un();if(bt(i,o,n)){let s=me(),a=No();SS(a,i,e,n,t,r)}return Ye}var ly=new w("",{factory:()=>!1});var Jb=!1,uy=typeof document<"u"&&typeof document?.documentElement?.getAnimations=="function";function ew(e){return e[at].get(ly,Jb)}function tw(e,n,t){let r=jo.get(e);if(r){for(let i of n)r.classList.push(i);for(let i of t)r.cleanupFns.push(i)}else jo.set(e,{classList:n,cleanupFns:t})}function dy(e){let n=jo.get(e);if(n){for(let t of n.cleanupFns)t();jo.delete(e)}pc.delete(e)}var jo=new WeakMap,pc=new WeakMap,nw=new WeakMap;function rw(e,n){let t=nw.get(e)?.shift(),r=n[yn];if(r){let o=sc(e.index,r)?.previousSibling;t&&o&&t===o&&t.dispatchEvent(new CustomEvent("animationend",{detail:{cancel:!0}}))}}function mm(e){let n=e[Vn]??={};return n.enter??=new Map}function iw(e){let n=typeof e=="function"?e():e,t=Array.isArray(n)?n:null;return typeof n=="string"&&(t=n.trim().split(/\s+/).filter(r=>r)),t}function ow(e,n){let t=pc.get(n);return t===void 0?!0:n===e.target&&(t.animationName!==void 0&&e.animationName===t.animationName||t.propertyName!==void 0&&e.propertyName===t.propertyName)}function sw(e,n,t){let r=e.get(n.index)??{animateFns:[]};r.animateFns.push(t),e.set(n.index,r)}function bi(e){if(Ht("NgAnimateEnter"),!uy)return bi;let n=x();if(ew(n))return bi;let t=Te();rw(t,n);let r=n[at].get(ne);return sw(mm(n),t,()=>aw(n,t,e,r)),nS(n[at]),Dv(n[at],mm(n)),bi}function aw(e,n,t,r){let i=Et(n,e),o=e[ae],s=iw(t),a=[],c=u=>{if(u.target!==i)return;let f=u instanceof AnimationEvent?"animationend":"transitionend";r.runOutsideAngular(()=>{o.listen(i,f,l)})},l=u=>{u.target===i&&cw(u,i,o)};if(s&&s.length>0){r.runOutsideAngular(()=>{a.push(o.listen(i,"animationstart",c)),a.push(o.listen(i,"transitionstart",c))}),tw(i,s,a);for(let u of s)o.addClass(i,u);r.runOutsideAngular(()=>{requestAnimationFrame(()=>{if(ZI(i,pc,uy),!pc.has(i)){for(let u of s)o.removeClass(i,u);dy(i)}})})}}function cw(e,n,t){let r=jo.get(n);if(!(e.target!==n||!r)&&ow(e,n)){e.stopImmediatePropagation();for(let i of r.classList)t.removeClass(n,i);dy(n)}}var lf=class{destroy(n){}updateValue(n,t){}swap(n,t){let r=Math.min(n,t),i=Math.max(n,t),o=this.detach(i);if(i-r>1){let s=this.detach(r);this.attach(r,o),this.attach(i,s)}else this.attach(r,o)}move(n,t){this.attach(t,this.detach(n))}};function xd(e,n,t,r,i){return e===t&&Object.is(n,r)?1:Object.is(i(e,n),i(t,r))?-1:0}function lw(e,n,t,r){let i,o,s=0,a=e.length-1,c=void 0;if(Array.isArray(n)){O(r);let l=n.length-1;for(O(null);s<=a&&s<=l;){let u=e.at(s),f=n[s],p=xd(s,u,s,f,t);if(p!==0){p<0&&e.updateValue(s,f),s++;continue}let h=e.at(a),m=n[l],E=xd(a,h,l,m,t);if(E!==0){E<0&&e.updateValue(a,m),a--,l--;continue}let I=t(s,u),T=t(a,h),X=t(s,f);if(Object.is(X,T)){let ei=t(l,m);Object.is(ei,I)?(e.swap(s,a),e.updateValue(a,m),l--,a--):e.move(a,s),e.updateValue(s,f),s++;continue}if(i??=new gc,o??=ym(e,s,a,t),uf(e,i,s,X))e.updateValue(s,f),s++,a++;else if(o.has(X))i.set(I,e.detach(s)),a--;else{let ei=e.create(s,n[s]);e.attach(s,ei),s++,a++}}for(;s<=l;)vm(e,i,t,s,n[s]),s++}else if(n!=null){O(r);let l=n[Symbol.iterator]();O(null);let u=l.next();for(;!u.done&&s<=a;){let f=e.at(s),p=u.value,h=xd(s,f,s,p,t);if(h!==0)h<0&&e.updateValue(s,p),s++,u=l.next();else{i??=new gc,o??=ym(e,s,a,t);let m=t(s,p);if(uf(e,i,s,m))e.updateValue(s,p),s++,a++,u=l.next();else if(!o.has(m))e.attach(s,e.create(s,p)),s++,a++,u=l.next();else{let E=t(s,f);i.set(E,e.detach(s)),a--}}}for(;!u.done;)vm(e,i,t,e.length,u.value),u=l.next()}for(;s<=a;)e.destroy(e.detach(a--));i?.forEach(l=>{e.destroy(l)})}function uf(e,n,t,r){return n!==void 0&&n.has(r)?(e.attach(t,n.get(r)),n.delete(r),!0):!1}function vm(e,n,t,r,i){if(uf(e,n,r,t(r,i)))e.updateValue(r,i);else{let o=e.create(r,i);e.attach(r,o)}}function ym(e,n,t,r){let i=new Set;for(let o=n;o<=t;o++)i.add(r(o,e.at(o)));return i}var gc=class{kvMap=new Map;_vMap=void 0;has(n){return this.kvMap.has(n)}delete(n){if(!this.has(n))return!1;let t=this.kvMap.get(n);return this._vMap!==void 0&&this._vMap.has(t)?(this.kvMap.set(n,this._vMap.get(t)),this._vMap.delete(t)):this.kvMap.delete(n),!0}get(n){return this.kvMap.get(n)}set(n,t){if(this.kvMap.has(n)){let r=this.kvMap.get(n);this._vMap===void 0&&(this._vMap=new Map);let i=this._vMap;for(;i.has(r);)r=i.get(r);i.set(r,t)}else this.kvMap.set(n,t)}forEach(n){for(let[t,r]of this.kvMap)if(n(r,t),this._vMap!==void 0){let i=this._vMap;for(;i.has(r);)r=i.get(r),n(r,t)}}};function W(e,n,t,r,i,o,s,a){Ht("NgControlFlow");let c=x(),l=me(),u=tn(l.consts,o);return Vo(c,l,e,n,t,r,i,u,256,s,a),Xf}function Xf(e,n,t,r,i,o,s,a){Ht("NgControlFlow");let c=x(),l=me(),u=tn(l.consts,o);return Vo(c,l,e,n,t,r,i,u,512,s,a),Xf}function G(e,n){Ht("NgControlFlow");let t=x(),r=Un(),i=t[r]!==He?t[r]:-1,o=i!==-1?mc(t,Ee+i):void 0,s=0;if(bt(t,r,e)){let a=O(null);try{if(o!==void 0&&$v(o,s),e!==-1){let c=Ee+e,l=mc(t,c),u=pf(t[N],c),f=Gv(l,u,t),p=Qo(t,u,n,{dehydratedView:f});Zo(l,p,s,Mi(u,f))}}finally{O(a)}}else if(o!==void 0){let a=Uv(o,s);a!==void 0&&(a[Se]=n)}}var df=class{lContainer;$implicit;$index;constructor(n,t,r){this.lContainer=n,this.$implicit=t,this.$index=r}get $count(){return this.lContainer.length-_e}};function ut(e){return e}var ff=class{hasEmptyBlock;trackByFn;liveCollection;constructor(n,t,r){this.hasEmptyBlock=n,this.trackByFn=t,this.liveCollection=r}};function dt(e,n,t,r,i,o,s,a,c,l,u,f,p){Ht("NgControlFlow");let h=x(),m=me(),E=c!==void 0,I=x(),T=a?s.bind(I[Qe][Se]):s,X=new ff(E,T);I[Ee+e]=X,Vo(h,m,e+1,n,t,r,i,tn(m.consts,o),256),E&&Vo(h,m,e+2,c,l,u,f,tn(m.consts,p),512)}var hf=class extends lf{lContainer;hostLView;templateTNode;operationsCounter=void 0;needsIndexUpdate=!1;constructor(n,t,r){super(),this.lContainer=n,this.hostLView=t,this.templateTNode=r}get length(){return this.lContainer.length-_e}at(n){return this.getLView(n)[Se].$implicit}attach(n,t){let r=t[br];this.needsIndexUpdate||=n!==this.length,Zo(this.lContainer,t,n,Mi(this.templateTNode,r)),uw(this.lContainer,n)}detach(n){return this.needsIndexUpdate||=n!==this.length-1,dw(this.lContainer,n),fw(this.lContainer,n)}create(n,t){let r=ac(this.lContainer,this.templateTNode.tView.ssrId);return Qo(this.hostLView,this.templateTNode,new df(this.lContainer,t,n),{dehydratedView:r})}destroy(n){Mc(n[N],n)}updateValue(n,t){this.getLView(n)[Se].$implicit=t}reset(){this.needsIndexUpdate=!1}updateIndexes(){if(this.needsIndexUpdate)for(let n=0;n<this.length;n++)this.getLView(n)[Se].$index=n}getLView(n){return hw(this.lContainer,n)}};function ft(e){let n=O(null),t=Dt();try{let r=x(),i=r[N],o=r[t],s=t+1,a=mc(r,s);if(o.liveCollection===void 0){let l=pf(i,s);o.liveCollection=new hf(a,r,l)}else o.liveCollection.reset();let c=o.liveCollection;if(lw(c,e,o.trackByFn,n),c.updateIndexes(),o.hasEmptyBlock){let l=Un(),u=c.length===0;if(bt(r,l,u)){let f=t+2,p=mc(r,f);if(u){let h=pf(i,f),m=Gv(p,h,r),E=Qo(r,h,void 0,{dehydratedView:m});Zo(p,E,0,Mi(h,m))}else i.firstUpdatePass&&KS(p),$v(p,0)}}}finally{O(n)}}function mc(e,n){return e[n]}function uw(e,n){if(e.length<=_e)return;let t=_e+n,r=e[t],i=r?r[Vn]:void 0;if(r&&i&&i.detachedLeaveAnimationFns&&i.detachedLeaveAnimationFns.length>0){let o=r[at];eS(o,i),kr.delete(r[Cn]),i.detachedLeaveAnimationFns=void 0}}function dw(e,n){if(e.length<=_e)return;let t=_e+n,r=e[t],i=r?r[Vn]:void 0;i&&i.leave&&i.leave.size>0&&(i.detachedLeaveAnimationFns=[])}function fw(e,n){return Lo(e,n)}function hw(e,n){return Uv(e,n)}function pf(e,n){return To(e,n)}function be(e,n,t){let r=x(),i=Un();if(bt(r,i,n)){let o=me(),s=No();Av(s,r,e,n,r[ae],t)}return be}function gf(e,n,t,r,i){Hf(n,e,t,i?"class":"style",r)}function M(e,n,t,r){let i=x(),o=i[N],s=e+Ee,a=o.firstCreatePass?Gf(s,i,2,n,Rv,ad(),t,r):o.data[s];if(Nc(a,i,e,n,fy),wo(a)){let c=i[N];jf(c,i,a),Df(c,a,i)}return r!=null&&Ko(i,a),M}function A(){let e=me(),n=Te(),t=Rc(n);return e.firstCreatePass&&qf(e,t),ld(t)&&ud(),sd(),t.classesWithoutHost!=null&&OD(t)&&gf(e,t,x(),t.classesWithoutHost,!0),t.stylesWithoutHost!=null&&kD(t)&&gf(e,t,x(),t.stylesWithoutHost,!1),A}function ue(e,n,t,r){return M(e,n,t,r),A(),ue}function U(e,n,t,r){let i=x(),o=i[N],s=e+Ee,a=o.firstCreatePass?Qv(s,o,2,n,t,r):o.data[s];return Nc(a,i,e,n,fy),r!=null&&Ko(i,a),U}function q(){let e=Te(),n=Rc(e);return ld(n)&&ud(),sd(),q}function Xe(e,n,t,r){return U(e,n,t,r),q(),Xe}var fy=(e,n,t,r,i)=>(xo(!0),sv(n[ae],r,Lg()));function Jo(e,n,t){let r=x(),i=r[N],o=e+Ee,s=i.firstCreatePass?Gf(o,r,8,"ng-container",Rv,ad(),n,t):i.data[o];if(Nc(s,r,e,"ng-container",hy),wo(s)){let a=r[N];jf(a,r,s),Df(a,s,r)}return t!=null&&Ko(r,s),Jo}function ki(){let e=me(),n=Te(),t=Rc(n);return e.firstCreatePass&&qf(e,t),ki}function es(e,n,t){let r=x(),i=r[N],o=e+Ee,s=i.firstCreatePass?Qv(o,i,8,"ng-container",n,t):i.data[o];return Nc(s,r,e,"ng-container",hy),t!=null&&Ko(r,s),es}function Fc(){let e=Te(),n=Rc(e);return ki}var hy=(e,n,t,r,i)=>(xo(!0),bI(n[ae],""));function ht(){return x()}function tt(e,n,t){let r=x(),i=Un();if(bt(r,i,n)){let o=me(),s=No();Nv(s,r,e,n,r[ae],t)}return tt}var ts="en-US";var pw=ts;function py(e){typeof e=="string"&&(pw=e.toLowerCase().replace(/_/g,"-"))}function K(e,n,t){let r=x(),i=me(),o=Te();return gy(i,r,r[ae],o,e,n,t),K}function Tt(e,n,t){let r=x(),i=me(),o=Te();return(o.type&3||t)&&Zv(o,i,r,t,r[ae],e,n,Ya(o,r,n)),Tt}function gy(e,n,t,r,i,o,s){let a=!0,c=null;if((r.type&3||s)&&(c??=Ya(r,n,o),Zv(r,e,n,s,t,i,o,c)&&(a=!1)),a){let l=r.outputs?.[i],u=r.hostDirectiveOutputs?.[i];if(u&&u.length)for(let f=0;f<u.length;f+=2){let p=u[f],h=u[f+1];c??=Ya(r,n,o),fm(r,n,p,h,i,c)}if(l&&l.length)for(let f of l)c??=Ya(r,n,o),fm(r,n,f,i,i,c)}}function D(e=1){return Fg(e)}function gw(e,n){let t=null,r=FI(e);for(let i=0;i<n.length;i++){let o=n[i];if(o==="*"){t=i;continue}if(r===null?hv(e,o,!0):VI(r,o))return i}return t}function Jf(e){let n=x()[Qe][Ke];if(!n.projection){let t=e?e.length:1,r=n.projection=cg(t,null),i=r.slice(),o=n.child;for(;o!==null;){if(o.type!==128){let s=e?gw(o,e):0;s!==null&&(i[s]?i[s].projectionNext=o:r[s]=o,i[s]=o)}o=o.next}}}function eh(e,n=0,t,r,i,o){let s=x(),a=me(),c=r?e+1:null;c!==null&&Vo(s,a,c,r,i,o,null,t);let l=Oi(a,Ee+e,16,null,t||null);l.projection===null&&(l.projection=n),hd();let f=!s[br]||cd();s[Qe][Ke].projection[l.projection]===null&&c!==null?mw(s,a,c):f&&!Dc(l)&&hS(a,s,l)}function mw(e,n,t){let r=Ee+t,i=n.data[r],o=e[r],s=ac(o,i.tView.ssrId),a=Qo(e,i,void 0,{dehydratedView:s});Zo(o,a,0,Mi(i,s))}function Pi(e,n,t){return kb(e,n,t),Pi}function Fi(e){let n=x(),t=me(),r=vd();Pa(r+1);let i=Kf(t,r);if(e.dirty&&Cg(n)===((i.metadata.flags&2)===2)){if(i.matches===null)e.reset([]);else{let o=Lb(n,r);e.reset(o,zD),e.notifyOnChanges()}return!0}return!1}function Li(){return xb(x(),vd())}function qa(e,n){return e<<17|n<<2}function Lr(e){return e>>17&32767}function vw(e){return(e&2)==2}function yw(e,n){return e&131071|n<<17}function mf(e){return e|2}function Ni(e){return(e&131068)>>2}function Od(e,n){return e&-131069|n<<2}function Cw(e){return(e&1)===1}function vf(e){return e|1}function Ew(e,n,t,r,i,o){let s=o?n.classBindings:n.styleBindings,a=Lr(s),c=Ni(s);e[r]=t;let l=!1,u;if(Array.isArray(t)){let f=t;u=f[1],(u===null||gi(f,u)>0)&&(l=!0)}else u=t;if(i)if(c!==0){let p=Lr(e[a+1]);e[r+1]=qa(p,a),p!==0&&(e[p+1]=Od(e[p+1],r)),e[a+1]=yw(e[a+1],r)}else e[r+1]=qa(a,0),a!==0&&(e[a+1]=Od(e[a+1],r)),a=r;else e[r+1]=qa(c,0),a===0?a=r:e[c+1]=Od(e[c+1],r),c=r;l&&(e[r+1]=mf(e[r+1])),Cm(e,u,r,!0),Cm(e,u,r,!1),_w(n,u,e,r,o),s=qa(a,c),o?n.classBindings=s:n.styleBindings=s}function _w(e,n,t,r,i){let o=i?e.residualClasses:e.residualStyles;o!=null&&typeof n=="string"&&gi(o,n)>=0&&(t[r+1]=vf(t[r+1]))}function Cm(e,n,t,r){let i=e[t+1],o=n===null,s=r?Lr(i):Ni(i),a=!1;for(;s!==0&&(a===!1||o);){let c=e[s],l=e[s+1];Dw(c,n)&&(a=!0,e[s+1]=r?vf(l):mf(l)),s=r?Lr(l):Ni(l)}a&&(e[t+1]=r?mf(i):vf(i))}function Dw(e,n){return e===null||n==null||(Array.isArray(e)?e[1]:e)===n?!0:Array.isArray(e)&&typeof n=="string"?gi(e,n)>=0:!1}var Ne={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function my(e){return e.substring(Ne.key,Ne.keyEnd)}function Iw(e){return e.substring(Ne.value,Ne.valueEnd)}function Sw(e){return Cy(e),vy(e,Ri(e,0,Ne.textEnd))}function vy(e,n){let t=Ne.textEnd;return t===n?-1:(n=Ne.keyEnd=ww(e,Ne.key=n,t),Ri(e,n,t))}function bw(e){return Cy(e),yy(e,Ri(e,0,Ne.textEnd))}function yy(e,n){let t=Ne.textEnd,r=Ne.key=Ri(e,n,t);return t===r?-1:(r=Ne.keyEnd=Tw(e,r,t),r=Em(e,r,t,58),r=Ne.value=Ri(e,r,t),r=Ne.valueEnd=Mw(e,r,t),Em(e,r,t,59))}function Cy(e){Ne.key=0,Ne.keyEnd=0,Ne.value=0,Ne.valueEnd=0,Ne.textEnd=e.length}function Ri(e,n,t){for(;n<t&&e.charCodeAt(n)<=32;)n++;return n}function ww(e,n,t){for(;n<t&&e.charCodeAt(n)>32;)n++;return n}function Tw(e,n,t){let r;for(;n<t&&((r=e.charCodeAt(n))===45||r===95||(r&-33)>=65&&(r&-33)<=90||r>=48&&r<=57);)n++;return n}function Em(e,n,t,r){return n=Ri(e,n,t),n<t&&n++,n}function Mw(e,n,t){let r=-1,i=-1,o=-1,s=n,a=s;for(;s<t;){let c=e.charCodeAt(s++);if(c===59)return a;c===34||c===39?a=s=_m(e,c,s,t):n===s-4&&o===85&&i===82&&r===76&&c===40?a=s=_m(e,41,s,t):c>32&&(a=s),o=i,i=r,r=c&-33}return a}function _m(e,n,t,r){let i=-1,o=t;for(;o<r;){let s=e.charCodeAt(o++);if(s==n&&i!==92)return o;s==92&&i===92?i=0:i=s}throw new Error}function an(e,n,t){return Ey(e,n,t,!1),an}function jr(e,n){return Ey(e,n,null,!0),jr}function zn(e){_y(Sy,Aw,e,!1)}function Aw(e,n){for(let t=bw(n);t>=0;t=yy(n,t))Sy(e,my(n),Iw(n))}function Fe(e){_y(Fw,Nw,e,!0)}function Nw(e,n){for(let t=Sw(n);t>=0;t=vy(n,t))Do(e,my(n),!0)}function Ey(e,n,t,r){let i=x(),o=me(),s=Ao(2);if(o.firstUpdatePass&&Iy(o,e,s,r),n!==He&&bt(i,s,n)){let a=o.data[Dt()];by(o,a,i,i[ae],e,i[s+1]=Bw(n,t),r,s)}}function _y(e,n,t,r){let i=me(),o=Ao(2);i.firstUpdatePass&&Iy(i,null,o,r);let s=x();if(t!==He&&bt(s,o,t)){let a=i.data[Dt()];if(wy(a,r)&&!Dy(i,o)){let c=r?a.classesWithoutHost:a.stylesWithoutHost;c!==null&&(t=Ia(c,t||"")),gf(i,a,s,t,r)}else Lw(i,a,s,s[ae],s[o+1],s[o+1]=Pw(e,n,t),r,o)}}function Dy(e,n){return n>=e.expandoStartIndex}function Iy(e,n,t,r){let i=e.data;if(i[t+1]===null){let o=i[Dt()],s=Dy(e,t);wy(o,r)&&n===null&&!s&&(n=!1),n=Rw(i,o,n,r),Ew(i,o,n,t,s,r)}}function Rw(e,n,t,r){let i=xg(e),o=r?n.residualClasses:n.residualStyles;if(i===null)(r?n.classBindings:n.styleBindings)===0&&(t=kd(null,e,n,t,r),t=Ho(t,n.attrs,r),o=null);else{let s=n.directiveStylingLast;if(s===-1||e[s]!==i)if(t=kd(i,e,n,t,r),o===null){let c=xw(e,n,r);c!==void 0&&Array.isArray(c)&&(c=kd(null,e,n,c[1],r),c=Ho(c,n.attrs,r),Ow(e,n,r,c))}else o=kw(e,n,r)}return o!==void 0&&(r?n.residualClasses=o:n.residualStyles=o),t}function xw(e,n,t){let r=t?n.classBindings:n.styleBindings;if(Ni(r)!==0)return e[Lr(r)]}function Ow(e,n,t,r){let i=t?n.classBindings:n.styleBindings;e[Lr(i)]=r}function kw(e,n,t){let r,i=n.directiveEnd;for(let o=1+n.directiveStylingLast;o<i;o++){let s=e[o].hostAttrs;r=Ho(r,s,t)}return Ho(r,n.attrs,t)}function kd(e,n,t,r,i){let o=null,s=t.directiveEnd,a=t.directiveStylingLast;for(a===-1?a=t.directiveStart:a++;a<s&&(o=n[a],r=Ho(r,o.hostAttrs,i),o!==e);)a++;return e!==null&&(t.directiveStylingLast=a),r}function Ho(e,n,t){let r=t?1:2,i=-1;if(n!==null)for(let o=0;o<n.length;o++){let s=n[o];typeof s=="number"?i=s:i===r&&(Array.isArray(e)||(e=e===void 0?[]:["",e]),Do(e,s,t?!0:n[++o]))}return e===void 0?null:e}function Pw(e,n,t){if(t==null||t==="")return ze;let r=[],i=lt(t);if(Array.isArray(i))for(let o=0;o<i.length;o++)e(r,i[o],!0);else if(i instanceof Set)for(let o of i)e(r,o,!0);else if(typeof i=="object")for(let o in i)i.hasOwnProperty(o)&&e(r,o,i[o]);else typeof i=="string"&&n(r,i);return r}function Sy(e,n,t){Do(e,n,lt(t))}function Fw(e,n,t){let r=String(n);r!==""&&!r.includes(" ")&&Do(e,r,t)}function Lw(e,n,t,r,i,o,s,a){i===He&&(i=ze);let c=0,l=0,u=0<i.length?i[0]:null,f=0<o.length?o[0]:null;for(;u!==null||f!==null;){let p=c<i.length?i[c+1]:void 0,h=l<o.length?o[l+1]:void 0,m=null,E;u===f?(c+=2,l+=2,p!==h&&(m=f,E=h)):f===null||u!==null&&u<f?(c+=2,m=u):(l+=2,m=f,E=h),m!==null&&by(e,n,t,r,m,E,s,a),u=c<i.length?i[c]:null,f=l<o.length?o[l]:null}}function by(e,n,t,r,i,o,s,a){if(!(n.type&3))return;let c=e.data,l=c[a+1],u=Cw(l)?Dm(c,n,t,i,Ni(l),s):void 0;if(!vc(u)){vc(o)||vw(l)&&(o=Dm(c,null,t,i,a,s));let f=ed(Dt(),t);gS(r,s,f,i,o)}}function Dm(e,n,t,r,i,o){let s=n===null,a;for(;i>0;){let c=e[i],l=Array.isArray(c),u=l?c[1]:c,f=u===null,p=t[i+1];p===He&&(p=f?ze:void 0);let h=f?Ma(p,r):u===r?p:void 0;if(l&&!vc(h)&&(h=Ma(c,r)),vc(h)&&(a=h,s))return a;let m=e[i+1];i=s?Lr(m):Ni(m)}if(n!==null){let c=o?n.residualClasses:n.residualStyles;c!=null&&(a=Ma(c,r))}return a}function vc(e){return e!==void 0}function Bw(e,n){return e==null||e===""||(typeof n=="string"?e=e+n:typeof e=="object"&&(e=mn(lt(e)))),e}function wy(e,n){return(e.flags&(n?8:16))!==0}function S(e,n=""){let t=x(),r=me(),i=e+Ee,o=r.firstCreatePass?Oi(r,i,1,n,null):r.data[i],s=Vw(r,t,o,n);t[i]=s,Va()&&Bf(r,t,s,o),Rr(o,!1)}var Vw=(e,n,t,r)=>(xo(!0),II(n[ae],r));function jw(e,n,t,r=""){return bt(e,Un(),t)?n+Pt(t)+r:He}function Hw(e,n,t,r,i,o=""){let s=md(),a=lc(e,s,t,i);return Ao(2),a?n+Pt(t)+r+Pt(i)+o:He}function Uw(e,n,t,r,i,o,s,a,c,l=""){let u=md(),f=ub(e,u,t,i,s,c);return Ao(4),f?n+Pt(t)+r+Pt(i)+o+Pt(s)+a+Pt(c)+l:He}function bn(e){return pe("",e),bn}function pe(e,n,t){let r=x(),i=jw(r,e,n,t);return i!==He&&th(r,Dt(),i),pe}function wn(e,n,t,r,i){let o=x(),s=Hw(o,e,n,t,r,i);return s!==He&&th(o,Dt(),s),wn}function Lc(e,n,t,r,i,o,s,a,c){let l=x(),u=Uw(l,e,n,t,r,i,o,s,a,c);return u!==He&&th(l,Dt(),u),Lc}function th(e,n,t){let r=ed(n,e);SI(e[ae],r,t)}function Kn(e,n,t){Qf(n)&&(n=n());let r=x(),i=Un();if(bt(r,i,n)){let o=me(),s=No();Av(s,r,e,n,r[ae],t)}return Kn}function Hr(e,n){let t=Qf(e);return t&&e.set(n),t}function Qn(e,n){let t=x(),r=me(),i=Te();return gy(r,t,t[ae],i,e,n),Qn}var Ty={};function ns(e){Ht("NgLet");let n=me(),t=x(),r=e+Ee,i=Oi(n,r,128,null,null);return Rr(i,!1),Na(n,t,r,Ty),ns}function Bc(e){let n=me(),t=x(),r=Dt();return Na(n,t,r,e),e}function cn(e){let n=Tg(),t=yg(n,Ee+e);if(t===Ty)throw new b(314,!1);return t}function Im(e,n,t){let r=me();r.firstCreatePass&&My(n,r.data,r.blueprint,en(e),t)}function My(e,n,t,r,i){if(e=Ve(e),Array.isArray(e))for(let o=0;o<e.length;o++)My(e[o],n,t,r,i);else{let o=me(),s=x(),a=Te(),c=_r(e)?e:Ve(e.provide),l=Ku(e),u=a.providerIndexes&1048575,f=a.directiveStart,p=a.providerIndexes>>20;if(_r(e)||!e.multi){let h=new Or(l,i,k,null),m=Fd(c,n,i?u:u+p,f);m===-1?(Bd(tc(a,s),o,c),Pd(o,e,n.length),n.push(c),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),t.push(h),s.push(h)):(t[m]=h,s[m]=h)}else{let h=Fd(c,n,u+p,f),m=Fd(c,n,u,u+p),E=h>=0&&t[h],I=m>=0&&t[m];if(i&&!I||!i&&!E){Bd(tc(a,s),o,c);let T=Gw(i?Ww:$w,t.length,i,r,l,e);!i&&I&&(t[m].providerFactory=T),Pd(o,e,n.length,0),n.push(c),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),t.push(T),s.push(T)}else{let T=Ay(t[i?m:h],l,!i&&r);Pd(o,e,h>-1?h:m,T)}!i&&r&&I&&t[m].componentProviders++}}}function Pd(e,n,t,r){let i=_r(n),o=pg(n);if(i||o){let c=(o?Ve(n.useClass):n).prototype.ngOnDestroy;if(c){let l=e.destroyHooks||(e.destroyHooks=[]);if(!i&&n.multi){let u=l.indexOf(t);u===-1?l.push(t,[r,c]):l[u+1].push(r,c)}else l.push(t,c)}}}function Ay(e,n,t){return t&&e.componentProviders++,e.multi.push(n)-1}function Fd(e,n,t,r){for(let i=t;i<r;i++)if(n[i]===e)return i;return-1}function $w(e,n,t,r,i){return yf(this.multi,[])}function Ww(e,n,t,r,i){let o=this.multi,s;if(this.providerFactory){let a=this.providerFactory.componentProviders,c=Po(r,r[N],this.providerFactory.index,i);s=c.slice(0,a),yf(o,s);for(let l=a;l<c.length;l++)s.push(c[l])}else s=[],yf(o,s);return s}function yf(e,n){for(let t=0;t<e.length;t++){let r=e[t];n.push(r())}return n}function Gw(e,n,t,r,i,o){let s=new Or(e,t,k,null);return s.multi=[],s.index=n,s.componentProviders=0,Ay(s,i,r&&!t),s}function Ur(e,n){return t=>{t.providersResolver=(r,i)=>Im(r,i?i(e):e,!1),n&&(t.viewProvidersResolver=(r,i)=>Im(r,i?i(n):n,!0))}}function nh(e,n){let t=Oa()+e,r=x();return r[t]===He?zf(r,t,n()):lb(r,t)}function Zn(e,n,t){return qw(x(),Oa(),e,n,t)}function Bi(e,n,t,r){return zw(x(),Oa(),e,n,t,r)}function Ny(e,n){let t=e[n];return t===He?void 0:t}function qw(e,n,t,r,i,o){let s=n+t;return bt(e,s,i)?zf(e,s+1,o?r.call(o,i):r(i)):Ny(e,s+1)}function zw(e,n,t,r,i,o,s){let a=n+t;return lc(e,a,i,o)?zf(e,a+2,s?r.call(s,i,o):r(i,o)):Ny(e,a+2)}var yc=class{ngModuleFactory;componentFactories;constructor(n,t){this.ngModuleFactory=n,this.componentFactories=t}},rh=(()=>{class e{compileModuleSync(t){return new hc(t)}compileModuleAsync(t){return Promise.resolve(this.compileModuleSync(t))}compileModuleAndAllComponentsSync(t){let r=this.compileModuleSync(t),i=Vu(t),o=dv(i.declarations).reduce((s,a)=>{let c=vn(a);return c&&s.push(new Fr(c)),s},[]);return new yc(r,o)}compileModuleAndAllComponentsAsync(t){return Promise.resolve(this.compileModuleAndAllComponentsSync(t))}clearCache(){}clearCacheFor(t){}getModuleId(t){}static \u0275fac=function(r){return new(r||e)};static \u0275prov=_({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();var Ry=(()=>{class e{applicationErrorHandler=g(St);appRef=g(We);taskService=g(En);ngZone=g(ne);zonelessEnabled=g(_i);tracing=g(Br,{optional:!0});zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run;schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}];subscriptions=new De;angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(yo):null;scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(g(Ua,{optional:!0})??!1);cancelScheduledCallback=null;useMicrotaskScheduler=!1;runningTick=!1;pendingRenderTaskId=null;constructor(){this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{let t=this.taskService.add();if(!this.runningTick&&(this.cleanup(),!this.zonelessEnabled||this.appRef.includeAllTestViews)){this.taskService.remove(t);return}this.switchToMicrotaskScheduler(),this.taskService.remove(t)})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()}))}switchToMicrotaskScheduler(){this.ngZone.runOutsideAngular(()=>{let t=this.taskService.add();this.useMicrotaskScheduler=!0,queueMicrotask(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(t)})})}notify(t){if(!this.zonelessEnabled&&t===5)return;switch(t){case 0:{this.appRef.dirtyFlags|=2;break}case 3:case 2:case 4:case 5:case 1:{this.appRef.dirtyFlags|=4;break}case 6:{this.appRef.dirtyFlags|=2;break}case 12:{this.appRef.dirtyFlags|=16;break}case 13:{this.appRef.dirtyFlags|=2;break}case 11:break;default:this.appRef.dirtyFlags|=8}if(this.appRef.tracingSnapshot=this.tracing?.snapshot(this.appRef.tracingSnapshot)??null,!this.shouldScheduleTick())return;let r=this.useMicrotaskScheduler?jg:Dd;this.pendingRenderTaskId=this.taskService.add(),this.scheduleInRootZone?this.cancelScheduledCallback=Zone.root.run(()=>r(()=>this.tick())):this.cancelScheduledCallback=this.ngZone.runOutsideAngular(()=>r(()=>this.tick()))}shouldScheduleTick(){return!(this.appRef.destroyed||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(yo+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;if(this.appRef.dirtyFlags===0){this.cleanup();return}!this.zonelessEnabled&&this.appRef.dirtyFlags&7&&(this.appRef.dirtyFlags|=1);let t=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(r){this.applicationErrorHandler(r)}finally{this.taskService.remove(t),this.cleanup()}}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let t=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(t)}}static \u0275fac=function(r){return new(r||e)};static \u0275prov=_({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function xy(){return[{provide:Fn,useExisting:Ry},{provide:ne,useClass:Co},{provide:_i,useValue:!0}]}function Kw(){return typeof $localize<"u"&&$localize.locale||ts}var ih=new w("",{factory:()=>g(ih,{optional:!0,skipSelf:!0})||Kw()});function Mt(e,n){return Hs(e,n?.equal)}var Zw=e=>e;function oh(e,n){if(typeof e=="function"){let t=vu(e,Zw,n?.equal);return Oy(t,n?.debugName)}else{let t=vu(e.source,e.computation,e.equal);return Oy(t,e.debugName)}}function Oy(e,n){let t=e[Oe],r=e;return r.set=i=>Qp(t,i),r.update=i=>Zp(t,i),r.asReadonly=ja.bind(e),r}var Ly=Symbol("InputSignalNode#UNSET"),l0=P(y({},$s),{transformFn:void 0,applyValueToInputSignal(e,n){dr(e,n)}});function By(e,n){let t=Object.create(l0);t.value=e,t.transformFn=n?.transform;function r(){if(cr(t),t.value===Ly){let i=null;throw new b(-950,i)}return t.value}return r[Oe]=t,r}var jc=class{attributeName;constructor(n){this.attributeName=n}__NG_ELEMENT_ID__=()=>$o(this.attributeName);toString(){return`HostAttributeToken ${this.attributeName}`}};function ky(e,n){return By(e,n)}function u0(e){return By(Ly,e)}var Vy=(ky.required=u0,ky);var d0=(()=>{class e{zone=g(ne);changeDetectionScheduler=g(Fn);applicationRef=g(We);applicationErrorHandler=g(St);_onMicrotaskEmptySubscription;initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{try{this.applicationRef.dirtyFlags|=1,this.applicationRef._tick()}catch(t){this.applicationErrorHandler(t)}})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static \u0275fac=function(r){return new(r||e)};static \u0275prov=_({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),f0=new w("",{factory:()=>!1});function h0({ngZoneFactory:e,scheduleInRootZone:n}){return e??=()=>new ne(P(y({},Hy()),{scheduleInRootZone:n})),[{provide:_i,useValue:!1},{provide:ne,useFactory:e},{provide:Qt,multi:!0,useFactory:()=>{let t=g(d0,{optional:!0});return()=>t.initialize()}},{provide:Qt,multi:!0,useFactory:()=>{let t=g(p0);return()=>{t.initialize()}}},{provide:Ua,useValue:n??_d}]}function jy(e){let n=e?.scheduleInRootZone,t=h0({ngZoneFactory:()=>{let r=Hy(e);return r.scheduleInRootZone=n,r.shouldCoalesceEventChangeDetection&&Ht("NgZone_CoalesceEvent"),new ne(r)},scheduleInRootZone:n});return Zt([{provide:f0,useValue:!0},t])}function Hy(e){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:e?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:e?.runCoalescing??!1}}var p0=(()=>{class e{subscription=new De;initialized=!1;zone=g(ne);pendingTasks=g(En);initialize(){if(this.initialized)return;this.initialized=!0;let t=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(t=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{ne.assertNotInAngularZone(),queueMicrotask(()=>{t!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(t),t=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{ne.assertInAngularZone(),t??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static \u0275fac=function(r){return new(r||e)};static \u0275prov=_({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();var sh=new w(""),g0=new w("");function rs(e){return!e.moduleRef}function m0(e){let n=rs(e)?e.r3Injector:e.moduleRef.injector,t=n.get(ne);return t.run(()=>{rs(e)?e.r3Injector.resolveInjectorInitializers():e.moduleRef.resolveInjectorInitializers();let r=n.get(St),i;if(t.runOutsideAngular(()=>{i=t.onError.subscribe({next:r})}),rs(e)){let o=()=>n.destroy(),s=e.platformInjector.get(sh);s.add(o),n.onDestroy(()=>{i.unsubscribe(),s.delete(o)})}else{let o=()=>e.moduleRef.destroy(),s=e.platformInjector.get(sh);s.add(o),e.moduleRef.onDestroy(()=>{ko(e.allPlatformModules,e.moduleRef),i.unsubscribe(),s.delete(o)})}return y0(r,t,()=>{let o=n.get(En),s=o.add(),a=n.get(Yf);return a.runInitializers(),a.donePromise.then(()=>{let c=n.get(ih,ts);if(py(c||ts),!n.get(g0,!0))return rs(e)?n.get(We):(e.allPlatformModules.push(e.moduleRef),e.moduleRef);if(rs(e)){let u=n.get(We);return e.rootComponent!==void 0&&u.bootstrap(e.rootComponent),u}else return v0?.(e.moduleRef,e.allPlatformModules),e.moduleRef}).finally(()=>{o.remove(s)})})})}var v0;function y0(e,n,t){try{let r=t();return Vr(r)?r.catch(i=>{throw n.runOutsideAngular(()=>e(i)),i}):r}catch(r){throw n.runOutsideAngular(()=>e(r)),r}}var Vc=null;function C0(e=[],n){return ge.create({name:n,providers:[{provide:Io,useValue:"platform"},{provide:sh,useValue:new Set([()=>Vc=null])},...e]})}function E0(e=[]){if(Vc)return Vc;let n=C0(e);return Vc=n,ay(),_0(n),n}function _0(e){let n=e.get(Ec,null);$e(e,()=>{n?.forEach(t=>t())})}var D0=1e4;var v2=D0-1e3;var un=(()=>{class e{static __NG_ELEMENT_ID__=I0}return e})();function I0(e){return S0(Te(),x(),(e&16)===16)}function S0(e,n,t){if(Hn(e)&&!t){let r=_t(e.index,n);return new Wn(r,r)}else if(e.type&175){let r=n[Qe];return new Wn(r,n)}return null}function Uy(e){let{rootComponent:n,appProviders:t,platformProviders:r,platformRef:i}=e;oe(Y.BootstrapApplicationStart);try{let o=i?.injector??E0(r),s=[xy(),Ug,...t||[]],a=new Bo({providers:s,parent:o,debugName:"",runEnvironmentInitializers:!1});return m0({r3Injector:a.injector,platformInjector:o,rootComponent:n})}catch(o){return Promise.reject(o)}finally{oe(Y.BootstrapApplicationEnd)}}function Vi(e){return typeof e=="boolean"?e:e!=null&&e!=="false"}function ji(e,n){let t=vn(e),r=n.elementInjector||mi();return new Fr(t).create(r,n.projectableNodes,n.hostElement,n.environmentInjector,n.directives,n.bindings)}var $y=null;function At(){return $y}function ah(e){$y??=e}var is=class{},Hc=(()=>{class e{historyGo(t){throw new Error("")}static \u0275fac=function(r){return new(r||e)};static \u0275prov=_({token:e,factory:()=>g(Wy),providedIn:"platform"})}return e})();var Wy=(()=>{class e extends Hc{_location;_history;_doc=g(le);constructor(){super(),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return At().getBaseHref(this._doc)}onPopState(t){let r=At().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){let r=At().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(t){this._location.pathname=t}pushState(t,r,i){this._history.pushState(t,r,i)}replaceState(t,r,i){this._history.replaceState(t,r,i)}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}static \u0275fac=function(r){return new(r||e)};static \u0275prov=_({token:e,factory:()=>new e,providedIn:"platform"})}return e})();function zy(e,n){return e?n?e.endsWith("/")?n.startsWith("/")?e+n.slice(1):e+n:n.startsWith("/")?e+n:`${e}/${n}`:e:n}function Gy(e){let n=e.search(/#|\?|$/);return e[n-1]==="/"?e.slice(0,n-1)+e.slice(n):e}function Yn(e){return e&&e[0]!=="?"?`?${e}`:e}var Hi=(()=>{class e{historyGo(t){throw new Error("")}static \u0275fac=function(r){return new(r||e)};static \u0275prov=_({token:e,factory:()=>g(w0),providedIn:"root"})}return e})(),b0=new w(""),w0=(()=>{class e extends Hi{_platformLocation;_baseHref;_removeListenerFns=[];constructor(t,r){super(),this._platformLocation=t,this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??g(le).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return zy(this._baseHref,t)}path(t=!1){let r=this._platformLocation.pathname+Yn(this._platformLocation.search),i=this._platformLocation.hash;return i&&t?`${r}${i}`:r}pushState(t,r,i,o){let s=this.prepareExternalUrl(i+Yn(o));this._platformLocation.pushState(t,r,s)}replaceState(t,r,i,o){let s=this.prepareExternalUrl(i+Yn(o));this._platformLocation.replaceState(t,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static \u0275fac=function(r){return new(r||e)(V(Hc),V(b0,8))};static \u0275prov=_({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),Ui=(()=>{class e{_subject=new $;_basePath;_locationStrategy;_urlChangeListeners=[];_urlChangeSubscription=null;constructor(t){this._locationStrategy=t;let r=this._locationStrategy.getBaseHref();this._basePath=A0(Gy(qy(r))),this._locationStrategy.onPopState(i=>{this._subject.next({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+Yn(r))}normalize(t){return e.stripTrailingSlash(M0(this._basePath,qy(t)))}prepareExternalUrl(t){return t&&t[0]!=="/"&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,r="",i=null){this._locationStrategy.pushState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Yn(r)),i)}replaceState(t,r="",i=null){this._locationStrategy.replaceState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Yn(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription??=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}),()=>{let r=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(r,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(i=>i(t,r))}subscribe(t,r,i){return this._subject.subscribe({next:t,error:r??void 0,complete:i??void 0})}static normalizeQueryParams=Yn;static joinWithSlash=zy;static stripTrailingSlash=Gy;static \u0275fac=function(r){return new(r||e)(V(Hi))};static \u0275prov=_({token:e,factory:()=>T0(),providedIn:"root"})}return e})();function T0(){return new Ui(V(Hi))}function M0(e,n){if(!e||!n.startsWith(e))return n;let t=n.substring(e.length);return t===""||["/",";","?","#"].includes(t[0])?t:n}function qy(e){return e.replace(/\/index.html$/,"")}function A0(e){if(new RegExp("^(https?:)?//").test(e)){let[,t]=e.split(/\/\/[^\/]+/);return t}return e}var ch=/\s+/,Ky=[],os=(()=>{class e{_ngEl;_renderer;initialClasses=Ky;rawClass;stateMap=new Map;constructor(t,r){this._ngEl=t,this._renderer=r}set klass(t){this.initialClasses=t!=null?t.trim().split(ch):Ky}set ngClass(t){this.rawClass=typeof t=="string"?t.trim().split(ch):t}ngDoCheck(){for(let r of this.initialClasses)this._updateState(r,!0);let t=this.rawClass;if(Array.isArray(t)||t instanceof Set)for(let r of t)this._updateState(r,!0);else if(t!=null)for(let r of Object.keys(t))this._updateState(r,!!t[r]);this._applyStateDiff()}_updateState(t,r){let i=this.stateMap.get(t);i!==void 0?(i.enabled!==r&&(i.changed=!0,i.enabled=r),i.touched=!0):this.stateMap.set(t,{enabled:r,changed:!0,touched:!0})}_applyStateDiff(){for(let t of this.stateMap){let r=t[0],i=t[1];i.changed?(this._toggleClass(r,i.enabled),i.changed=!1):i.touched||(i.enabled&&this._toggleClass(r,!1),this.stateMap.delete(r)),i.touched=!1}}_toggleClass(t,r){t=t.trim(),t.length>0&&t.split(ch).forEach(i=>{r?this._renderer.addClass(this._ngEl.nativeElement,i):this._renderer.removeClass(this._ngEl.nativeElement,i)})}static \u0275fac=function(r){return new(r||e)(k(Re),k(sn))};static \u0275dir=xe({type:e,selectors:[["","ngClass",""]],inputs:{klass:[0,"class","klass"],ngClass:"ngClass"}})}return e})();var $i=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275mod=Ut({type:e});static \u0275inj=vt({})}return e})();function lh(e,n){n=encodeURIComponent(n);for(let t of e.split(";")){let r=t.indexOf("="),[i,o]=r==-1?[t,""]:[t.slice(0,r),t.slice(r+1)];if(i.trim()===n)return decodeURIComponent(o)}return null}var ss=class{};var Qy="browser";var as=class{_doc;constructor(n){this._doc=n}manager},Uc=(()=>{class e extends as{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,i,o){return t.addEventListener(r,i,o),()=>this.removeEventListener(t,r,i,o)}removeEventListener(t,r,i,o){return t.removeEventListener(r,i,o)}static \u0275fac=function(r){return new(r||e)(V(le))};static \u0275prov=_({token:e,factory:e.\u0275fac})}return e})(),Gc=new w(""),ph=(()=>{class e{_zone;_plugins;_eventNameToPlugin=new Map;constructor(t,r){this._zone=r,t.forEach(s=>{s.manager=this});let i=t.filter(s=>!(s instanceof Uc));this._plugins=i.slice().reverse();let o=t.find(s=>s instanceof Uc);o&&this._plugins.push(o)}addEventListener(t,r,i,o){return this._findPluginFor(r).addEventListener(t,r,i,o)}getZone(){return this._zone}_findPluginFor(t){let r=this._eventNameToPlugin.get(t);if(r)return r;if(r=this._plugins.find(o=>o.supports(t)),!r)throw new b(5101,!1);return this._eventNameToPlugin.set(t,r),r}static \u0275fac=function(r){return new(r||e)(V(Gc),V(ne))};static \u0275prov=_({token:e,factory:e.\u0275fac})}return e})(),dh="ng-app-id";function Zy(e){for(let n of e)n.remove()}function Yy(e,n){let t=n.createElement("style");return t.textContent=e,t}function R0(e,n,t,r){let i=e.head?.querySelectorAll(`style[${dh}="${n}"],link[${dh}="${n}"]`);if(i)for(let o of i)o.removeAttribute(dh),o instanceof HTMLLinkElement?r.set(o.href.slice(o.href.lastIndexOf("/")+1),{usage:0,elements:[o]}):o.textContent&&t.set(o.textContent,{usage:0,elements:[o]})}function hh(e,n){let t=n.createElement("link");return t.setAttribute("rel","stylesheet"),t.setAttribute("href",e),t}var gh=(()=>{class e{doc;appId;nonce;inline=new Map;external=new Map;hosts=new Set;constructor(t,r,i,o={}){this.doc=t,this.appId=r,this.nonce=i,R0(t,r,this.inline,this.external),this.hosts.add(t.head)}addStyles(t,r){for(let i of t)this.addUsage(i,this.inline,Yy);r?.forEach(i=>this.addUsage(i,this.external,hh))}removeStyles(t,r){for(let i of t)this.removeUsage(i,this.inline);r?.forEach(i=>this.removeUsage(i,this.external))}addUsage(t,r,i){let o=r.get(t);o?o.usage++:r.set(t,{usage:1,elements:[...this.hosts].map(s=>this.addElement(s,i(t,this.doc)))})}removeUsage(t,r){let i=r.get(t);i&&(i.usage--,i.usage<=0&&(Zy(i.elements),r.delete(t)))}ngOnDestroy(){for(let[,{elements:t}]of[...this.inline,...this.external])Zy(t);this.hosts.clear()}addHost(t){this.hosts.add(t);for(let[r,{elements:i}]of this.inline)i.push(this.addElement(t,Yy(r,this.doc)));for(let[r,{elements:i}]of this.external)i.push(this.addElement(t,hh(r,this.doc)))}removeHost(t){this.hosts.delete(t)}addElement(t,r){return this.nonce&&r.setAttribute("nonce",this.nonce),t.appendChild(r)}static \u0275fac=function(r){return new(r||e)(V(le),V(Cc),V(_c,8),V(Wo))};static \u0275prov=_({token:e,factory:e.\u0275fac})}return e})(),fh={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},mh=/%COMP%/g;var Jy="%COMP%",x0=`_nghost-${Jy}`,O0=`_ngcontent-${Jy}`,k0=!0,P0=new w("",{factory:()=>k0});function F0(e){return O0.replace(mh,e)}function L0(e){return x0.replace(mh,e)}function eC(e,n){return n.map(t=>t.replace(mh,e))}var vh=(()=>{class e{eventManager;sharedStylesHost;appId;removeStylesOnCompDestroy;doc;ngZone;nonce;tracingService;rendererByCompId=new Map;defaultRenderer;constructor(t,r,i,o,s,a,c=null,l=null){this.eventManager=t,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestroy=o,this.doc=s,this.ngZone=a,this.nonce=c,this.tracingService=l,this.defaultRenderer=new cs(t,s,a,this.tracingService)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;let i=this.getOrCreateRenderer(t,r);return i instanceof Wc?i.applyToHost(t):i instanceof ls&&i.applyStyles(),i}getOrCreateRenderer(t,r){let i=this.rendererByCompId,o=i.get(r.id);if(!o){let s=this.doc,a=this.ngZone,c=this.eventManager,l=this.sharedStylesHost,u=this.removeStylesOnCompDestroy,f=this.tracingService;switch(r.encapsulation){case Vt.Emulated:o=new Wc(c,l,r,this.appId,u,s,a,f);break;case Vt.ShadowDom:return new $c(c,t,r,s,a,this.nonce,f,l);case Vt.ExperimentalIsolatedShadowDom:return new $c(c,t,r,s,a,this.nonce,f);default:o=new ls(c,l,r,u,s,a,f);break}i.set(r.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}componentReplaced(t){this.rendererByCompId.delete(t)}static \u0275fac=function(r){return new(r||e)(V(ph),V(gh),V(Cc),V(P0),V(le),V(ne),V(_c),V(Br,8))};static \u0275prov=_({token:e,factory:e.\u0275fac})}return e})(),cs=class{eventManager;doc;ngZone;tracingService;data=Object.create(null);throwOnSyntheticProps=!0;constructor(n,t,r,i){this.eventManager=n,this.doc=t,this.ngZone=r,this.tracingService=i}destroy(){}destroyNode=null;createElement(n,t){return t?this.doc.createElementNS(fh[t]||t,n):this.doc.createElement(n)}createComment(n){return this.doc.createComment(n)}createText(n){return this.doc.createTextNode(n)}appendChild(n,t){(Xy(n)?n.content:n).appendChild(t)}insertBefore(n,t,r){n&&(Xy(n)?n.content:n).insertBefore(t,r)}removeChild(n,t){t.remove()}selectRootElement(n,t){let r=typeof n=="string"?this.doc.querySelector(n):n;if(!r)throw new b(-5104,!1);return t||(r.textContent=""),r}parentNode(n){return n.parentNode}nextSibling(n){return n.nextSibling}setAttribute(n,t,r,i){if(i){t=i+":"+t;let o=fh[i];o?n.setAttributeNS(o,t,r):n.setAttribute(t,r)}else n.setAttribute(t,r)}removeAttribute(n,t,r){if(r){let i=fh[r];i?n.removeAttributeNS(i,t):n.removeAttribute(`${r}:${t}`)}else n.removeAttribute(t)}addClass(n,t){n.classList.add(t)}removeClass(n,t){n.classList.remove(t)}setStyle(n,t,r,i){i&(Dn.DashCase|Dn.Important)?n.style.setProperty(t,r,i&Dn.Important?"important":""):n.style[t]=r}removeStyle(n,t,r){r&Dn.DashCase?n.style.removeProperty(t):n.style[t]=""}setProperty(n,t,r){n!=null&&(n[t]=r)}setValue(n,t){n.nodeValue=t}listen(n,t,r,i){if(typeof n=="string"&&(n=At().getGlobalEventTarget(this.doc,n),!n))throw new b(5102,!1);let o=this.decoratePreventDefault(r);return this.tracingService?.wrapEventListener&&(o=this.tracingService.wrapEventListener(n,t,o)),this.eventManager.addEventListener(n,t,o,i)}decoratePreventDefault(n){return t=>{if(t==="__ngUnwrap__")return n;n(t)===!1&&t.preventDefault()}}};function Xy(e){return e.tagName==="TEMPLATE"&&e.content!==void 0}var $c=class extends cs{hostEl;sharedStylesHost;shadowRoot;constructor(n,t,r,i,o,s,a,c){super(n,i,o,a),this.hostEl=t,this.sharedStylesHost=c,this.shadowRoot=t.attachShadow({mode:"open"}),this.sharedStylesHost&&this.sharedStylesHost.addHost(this.shadowRoot);let l=r.styles;l=eC(r.id,l);for(let f of l){let p=document.createElement("style");s&&p.setAttribute("nonce",s),p.textContent=f,this.shadowRoot.appendChild(p)}let u=r.getExternalStyles?.();if(u)for(let f of u){let p=hh(f,i);s&&p.setAttribute("nonce",s),this.shadowRoot.appendChild(p)}}nodeOrShadowRoot(n){return n===this.hostEl?this.shadowRoot:n}appendChild(n,t){return super.appendChild(this.nodeOrShadowRoot(n),t)}insertBefore(n,t,r){return super.insertBefore(this.nodeOrShadowRoot(n),t,r)}removeChild(n,t){return super.removeChild(null,t)}parentNode(n){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(n)))}destroy(){this.sharedStylesHost&&this.sharedStylesHost.removeHost(this.shadowRoot)}},ls=class extends cs{sharedStylesHost;removeStylesOnCompDestroy;styles;styleUrls;constructor(n,t,r,i,o,s,a,c){super(n,o,s,a),this.sharedStylesHost=t,this.removeStylesOnCompDestroy=i;let l=r.styles;this.styles=c?eC(c,l):l,this.styleUrls=r.getExternalStyles?.(c)}applyStyles(){this.sharedStylesHost.addStyles(this.styles,this.styleUrls)}destroy(){this.removeStylesOnCompDestroy&&kr.size===0&&this.sharedStylesHost.removeStyles(this.styles,this.styleUrls)}},Wc=class extends ls{contentAttr;hostAttr;constructor(n,t,r,i,o,s,a,c){let l=i+"-"+r.id;super(n,t,r,o,s,a,c,l),this.contentAttr=F0(l),this.hostAttr=L0(l)}applyToHost(n){this.applyStyles(),this.setAttribute(n,this.hostAttr,"")}createElement(n,t){let r=super.createElement(n,t);return super.setAttribute(r,this.contentAttr,""),r}};var qc=class e extends is{supportsDOMEvents=!0;static makeCurrent(){ah(new e)}onAndCancel(n,t,r,i){return n.addEventListener(t,r,i),()=>{n.removeEventListener(t,r,i)}}dispatchEvent(n,t){n.dispatchEvent(t)}remove(n){n.remove()}createElement(n,t){return t=t||this.getDefaultDocument(),t.createElement(n)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(n){return n.nodeType===Node.ELEMENT_NODE}isShadowRoot(n){return n instanceof DocumentFragment}getGlobalEventTarget(n,t){return t==="window"?window:t==="document"?n:t==="body"?n.body:null}getBaseHref(n){let t=B0();return t==null?null:V0(t)}resetBaseElement(){us=null}getUserAgent(){return window.navigator.userAgent}getCookie(n){return lh(document.cookie,n)}},us=null;function B0(){return us=us||document.head.querySelector("base"),us?us.getAttribute("href"):null}function V0(e){return new URL(e,document.baseURI).pathname}var j0=(()=>{class e{build(){return new XMLHttpRequest}static \u0275fac=function(r){return new(r||e)};static \u0275prov=_({token:e,factory:e.\u0275fac})}return e})(),tC=["alt","control","meta","shift"],H0={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},U0={alt:e=>e.altKey,control:e=>e.ctrlKey,meta:e=>e.metaKey,shift:e=>e.shiftKey},nC=(()=>{class e extends as{constructor(t){super(t)}supports(t){return e.parseEventName(t)!=null}addEventListener(t,r,i,o){let s=e.parseEventName(r),a=e.eventCallback(s.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>At().onAndCancel(t,s.domEventName,a,o))}static parseEventName(t){let r=t.toLowerCase().split("."),i=r.shift();if(r.length===0||!(i==="keydown"||i==="keyup"))return null;let o=e._normalizeKey(r.pop()),s="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),s="code."),tC.forEach(l=>{let u=r.indexOf(l);u>-1&&(r.splice(u,1),s+=l+".")}),s+=o,r.length!=0||o.length===0)return null;let c={};return c.domEventName=i,c.fullKey=s,c}static matchEventFullKeyCode(t,r){let i=H0[t.key]||t.key,o="";return r.indexOf("code.")>-1&&(i=t.code,o="code."),i==null||!i?!1:(i=i.toLowerCase(),i===" "?i="space":i==="."&&(i="dot"),tC.forEach(s=>{if(s!==i){let a=U0[s];a(t)&&(o+=s+".")}}),o+=i,o===r)}static eventCallback(t,r,i){return o=>{e.matchEventFullKeyCode(o,t)&&i.runGuarded(()=>r(o))}}static _normalizeKey(t){return t==="esc"?"escape":t}static \u0275fac=function(r){return new(r||e)(V(le))};static \u0275prov=_({token:e,factory:e.\u0275fac})}return e})();function yh(e,n,t){return Z(this,null,function*(){let r=y({rootComponent:e},$0(n,t));return Uy(r)})}function $0(e,n){return{platformRef:n?.platformRef,appProviders:[...K0,...e?.providers??[]],platformProviders:z0}}function W0(){qc.makeCurrent()}function G0(){return new kt}function q0(){return _f(document),document}var z0=[{provide:Wo,useValue:Qy},{provide:Ec,useValue:W0,multi:!0},{provide:le,useFactory:q0}];var K0=[{provide:Io,useValue:"root"},{provide:kt,useFactory:G0},{provide:Gc,useClass:Uc,multi:!0},{provide:Gc,useClass:nC,multi:!0},vh,gh,ph,{provide:Pr,useExisting:vh},{provide:ss,useClass:j0},[]];var rC=(()=>{class e{_doc;constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}static \u0275fac=function(r){return new(r||e)(V(le))};static \u0275prov=_({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();var Ch=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275prov=_({token:e,factory:function(r){let i=null;return r?i=new(r||e):i=V(Q0),i},providedIn:"root"})}return e})(),Q0=(()=>{class e extends Ch{_doc;constructor(t){super(),this._doc=t}sanitize(t,r){if(r==null)return null;switch(t){case et.NONE:return r;case et.HTML:return rn(r,"HTML")?lt(r):Sc(this._doc,String(r)).toString();case et.STYLE:return rn(r,"Style")?lt(r):r;case et.SCRIPT:if(rn(r,"Script"))return lt(r);throw new b(5200,!1);case et.URL:return rn(r,"URL")?lt(r):Go(String(r));case et.RESOURCE_URL:if(rn(r,"ResourceURL"))return lt(r);throw new b(5201,!1);default:throw new b(5202,!1)}}bypassSecurityTrustHtml(t){return If(t)}bypassSecurityTrustStyle(t){return Sf(t)}bypassSecurityTrustScript(t){return bf(t)}bypassSecurityTrustUrl(t){return wf(t)}bypassSecurityTrustResourceUrl(t){return Tf(t)}static \u0275fac=function(r){return new(r||e)(V(le))};static \u0275prov=_({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();var L="primary",Ds=Symbol("RouteTitle"),Sh=class{params;constructor(n){this.params=n||{}}has(n){return Object.prototype.hasOwnProperty.call(this.params,n)}get(n){if(this.has(n)){let t=this.params[n];return Array.isArray(t)?t[0]:t}return null}getAll(n){if(this.has(n)){let t=this.params[n];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}};function Gr(e){return new Sh(e)}function Eh(e,n,t){for(let r=0;r<e.length;r++){let i=e[r],o=n[r];if(i[0]===":")t[i.substring(1)]=o;else if(i!==o.path)return!1}return!0}function hC(e,n,t){let r=t.path.split("/"),i=r.indexOf("**");if(i===-1){if(r.length>e.length||t.pathMatch==="full"&&(n.hasChildren()||r.length<e.length))return null;let c={},l=e.slice(0,r.length);return Eh(r,l,c)?{consumed:l,posParams:c}:null}if(i!==r.lastIndexOf("**"))return null;let o=r.slice(0,i),s=r.slice(i+1);if(o.length+s.length>e.length||t.pathMatch==="full"&&n.hasChildren()&&t.path!=="**")return null;let a={};return!Eh(o,e.slice(0,o.length),a)||!Eh(s,e.slice(e.length-s.length),a)?null:{consumed:e,posParams:a}}function Xc(e){return new Promise((n,t)=>{e.pipe(pn()).subscribe({next:r=>n(r),error:r=>t(r)})})}function Y0(e,n){if(e.length!==n.length)return!1;for(let t=0;t<e.length;++t)if(!dn(e[t],n[t]))return!1;return!0}function dn(e,n){let t=e?bh(e):void 0,r=n?bh(n):void 0;if(!t||!r||t.length!=r.length)return!1;let i;for(let o=0;o<t.length;o++)if(i=t[o],!pC(e[i],n[i]))return!1;return!0}function bh(e){return[...Object.keys(e),...Object.getOwnPropertySymbols(e)]}function pC(e,n){if(Array.isArray(e)&&Array.isArray(n)){if(e.length!==n.length)return!1;let t=[...e].sort(),r=[...n].sort();return t.every((i,o)=>r[o]===i)}else return e===n}function X0(e){return e.length>0?e[e.length-1]:null}function Kr(e){return ua(e)?e:Vr(e)?we(Promise.resolve(e)):H(e)}function gC(e){return ua(e)?Xc(e):Promise.resolve(e)}var J0={exact:vC,subset:yC},mC={exact:eT,subset:tT,ignored:()=>!0};function iC(e,n,t){return J0[t.paths](e.root,n.root,t.matrixParams)&&mC[t.queryParams](e.queryParams,n.queryParams)&&!(t.fragment==="exact"&&e.fragment!==n.fragment)}function eT(e,n){return dn(e,n)}function vC(e,n,t){if(!$r(e.segments,n.segments)||!Qc(e.segments,n.segments,t)||e.numberOfChildren!==n.numberOfChildren)return!1;for(let r in n.children)if(!e.children[r]||!vC(e.children[r],n.children[r],t))return!1;return!0}function tT(e,n){return Object.keys(n).length<=Object.keys(e).length&&Object.keys(n).every(t=>pC(e[t],n[t]))}function yC(e,n,t){return CC(e,n,n.segments,t)}function CC(e,n,t,r){if(e.segments.length>t.length){let i=e.segments.slice(0,t.length);return!(!$r(i,t)||n.hasChildren()||!Qc(i,t,r))}else if(e.segments.length===t.length){if(!$r(e.segments,t)||!Qc(e.segments,t,r))return!1;for(let i in n.children)if(!e.children[i]||!yC(e.children[i],n.children[i],r))return!1;return!0}else{let i=t.slice(0,e.segments.length),o=t.slice(e.segments.length);return!$r(e.segments,i)||!Qc(e.segments,i,r)||!e.children[L]?!1:CC(e.children[L],n,o,r)}}function Qc(e,n,t){return n.every((r,i)=>mC[t](e[i].parameters,r.parameters))}var Wt=class{root;queryParams;fragment;_queryParamMap;constructor(n=new ee([],{}),t={},r=null){this.root=n,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap??=Gr(this.queryParams),this._queryParamMap}toString(){return iT.serialize(this)}},ee=class{segments;children;parent=null;constructor(n,t){this.segments=n,this.children=t,Object.values(t).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Zc(this)}},Xn=class{path;parameters;_parameterMap;constructor(n,t){this.path=n,this.parameters=t}get parameterMap(){return this._parameterMap??=Gr(this.parameters),this._parameterMap}toString(){return _C(this)}};function nT(e,n){return $r(e,n)&&e.every((t,r)=>dn(t.parameters,n[r].parameters))}function $r(e,n){return e.length!==n.length?!1:e.every((t,r)=>t.path===n[r].path)}function rT(e,n){let t=[];return Object.entries(e.children).forEach(([r,i])=>{r===L&&(t=t.concat(n(i,r)))}),Object.entries(e.children).forEach(([r,i])=>{r!==L&&(t=t.concat(n(i,r)))}),t}var Is=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275prov=_({token:e,factory:()=>new Jn,providedIn:"root"})}return e})(),Jn=class{parse(n){let t=new Th(n);return new Wt(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(n){let t=`/${ds(n.root,!0)}`,r=aT(n.queryParams),i=typeof n.fragment=="string"?`#${oT(n.fragment)}`:"";return`${t}${r}${i}`}},iT=new Jn;function Zc(e){return e.segments.map(n=>_C(n)).join("/")}function ds(e,n){if(!e.hasChildren())return Zc(e);if(n){let t=e.children[L]?ds(e.children[L],!1):"",r=[];return Object.entries(e.children).forEach(([i,o])=>{i!==L&&r.push(`${i}:${ds(o,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}else{let t=rT(e,(r,i)=>i===L?[ds(e.children[L],!1)]:[`${i}:${ds(r,!1)}`]);return Object.keys(e.children).length===1&&e.children[L]!=null?`${Zc(e)}/${t[0]}`:`${Zc(e)}/(${t.join("//")})`}}function EC(e){return encodeURIComponent(e).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function zc(e){return EC(e).replace(/%3B/gi,";")}function oT(e){return encodeURI(e)}function wh(e){return EC(e).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Yc(e){return decodeURIComponent(e)}function oC(e){return Yc(e.replace(/\+/g,"%20"))}function _C(e){return`${wh(e.path)}${sT(e.parameters)}`}function sT(e){return Object.entries(e).map(([n,t])=>`;${wh(n)}=${wh(t)}`).join("")}function aT(e){let n=Object.entries(e).map(([t,r])=>Array.isArray(r)?r.map(i=>`${zc(t)}=${zc(i)}`).join("&"):`${zc(t)}=${zc(r)}`).filter(t=>t);return n.length?`?${n.join("&")}`:""}var cT=/^[^\/()?;#]+/;function _h(e){let n=e.match(cT);return n?n[0]:""}var lT=/^[^\/()?;=#]+/;function uT(e){let n=e.match(lT);return n?n[0]:""}var dT=/^[^=?&#]+/;function fT(e){let n=e.match(dT);return n?n[0]:""}var hT=/^[^&#]+/;function pT(e){let n=e.match(hT);return n?n[0]:""}var Th=class{url;remaining;constructor(n){this.url=n,this.remaining=n}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new ee([],{}):new ee([],this.parseChildren())}parseQueryParams(){let n={};if(this.consumeOptional("?"))do this.parseQueryParam(n);while(this.consumeOptional("&"));return n}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(n=0){if(n>50)throw new b(4010,!1);if(this.remaining==="")return{};this.consumeOptional("/");let t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let r={};this.peekStartsWith("/(")&&(this.capture("/"),r=this.parseParens(!0,n));let i={};return this.peekStartsWith("(")&&(i=this.parseParens(!1,n)),(t.length>0||Object.keys(r).length>0)&&(i[L]=new ee(t,r)),i}parseSegment(){let n=_h(this.remaining);if(n===""&&this.peekStartsWith(";"))throw new b(4009,!1);return this.capture(n),new Xn(Yc(n),this.parseMatrixParams())}parseMatrixParams(){let n={};for(;this.consumeOptional(";");)this.parseParam(n);return n}parseParam(n){let t=uT(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){let i=_h(this.remaining);i&&(r=i,this.capture(r))}n[Yc(t)]=Yc(r)}parseQueryParam(n){let t=fT(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){let s=pT(this.remaining);s&&(r=s,this.capture(r))}let i=oC(t),o=oC(r);if(n.hasOwnProperty(i)){let s=n[i];Array.isArray(s)||(s=[s],n[i]=s),s.push(o)}else n[i]=o}parseParens(n,t){let r={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let i=_h(this.remaining),o=this.remaining[i.length];if(o!=="/"&&o!==")"&&o!==";")throw new b(4010,!1);let s;i.indexOf(":")>-1?(s=i.slice(0,i.indexOf(":")),this.capture(s),this.capture(":")):n&&(s=L);let a=this.parseChildren(t+1);r[s??L]=Object.keys(a).length===1&&a[L]?a[L]:new ee([],a),this.consumeOptional("//")}return r}peekStartsWith(n){return this.remaining.startsWith(n)}consumeOptional(n){return this.peekStartsWith(n)?(this.remaining=this.remaining.substring(n.length),!0):!1}capture(n){if(!this.consumeOptional(n))throw new b(4011,!1)}};function DC(e){return e.segments.length>0?new ee([],{[L]:e}):e}function IC(e){let n={};for(let[r,i]of Object.entries(e.children)){let o=IC(i);if(r===L&&o.segments.length===0&&o.hasChildren())for(let[s,a]of Object.entries(o.children))n[s]=a;else(o.segments.length>0||o.hasChildren())&&(n[r]=o)}let t=new ee(e.segments,n);return gT(t)}function gT(e){if(e.numberOfChildren===1&&e.children[L]){let n=e.children[L];return new ee(e.segments.concat(n.segments),n.children)}return e}function er(e){return e instanceof Wt}function SC(e,n,t=null,r=null,i=new Jn){let o=bC(e);return wC(o,n,t,r,i)}function bC(e){let n;function t(o){let s={};for(let c of o.children){let l=t(c);s[c.outlet]=l}let a=new ee(o.url,s);return o===e&&(n=a),a}let r=t(e.root),i=DC(r);return n??i}function wC(e,n,t,r,i){let o=e;for(;o.parent;)o=o.parent;if(n.length===0)return Dh(o,o,o,t,r,i);let s=mT(n);if(s.toRoot())return Dh(o,o,new ee([],{}),t,r,i);let a=vT(s,o,e),c=a.processChildren?hs(a.segmentGroup,a.index,s.commands):MC(a.segmentGroup,a.index,s.commands);return Dh(o,a.segmentGroup,c,t,r,i)}function Jc(e){return typeof e=="object"&&e!=null&&!e.outlets&&!e.segmentPath}function ms(e){return typeof e=="object"&&e!=null&&e.outlets}function sC(e,n,t){e||="\u0275";let r=new Wt;return r.queryParams={[e]:n},t.parse(t.serialize(r)).queryParams[e]}function Dh(e,n,t,r,i,o){let s={};for(let[l,u]of Object.entries(r??{}))s[l]=Array.isArray(u)?u.map(f=>sC(l,f,o)):sC(l,u,o);let a;e===n?a=t:a=TC(e,n,t);let c=DC(IC(a));return new Wt(c,s,i)}function TC(e,n,t){let r={};return Object.entries(e.children).forEach(([i,o])=>{o===n?r[i]=t:r[i]=TC(o,n,t)}),new ee(e.segments,r)}var el=class{isAbsolute;numberOfDoubleDots;commands;constructor(n,t,r){if(this.isAbsolute=n,this.numberOfDoubleDots=t,this.commands=r,n&&r.length>0&&Jc(r[0]))throw new b(4003,!1);let i=r.find(ms);if(i&&i!==X0(r))throw new b(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function mT(e){if(typeof e[0]=="string"&&e.length===1&&e[0]==="/")return new el(!0,0,e);let n=0,t=!1,r=e.reduce((i,o,s)=>{if(typeof o=="object"&&o!=null){if(o.outlets){let a={};return Object.entries(o.outlets).forEach(([c,l])=>{a[c]=typeof l=="string"?l.split("/"):l}),[...i,{outlets:a}]}if(o.segmentPath)return[...i,o.segmentPath]}return typeof o!="string"?[...i,o]:s===0?(o.split("/").forEach((a,c)=>{c==0&&a==="."||(c==0&&a===""?t=!0:a===".."?n++:a!=""&&i.push(a))}),i):[...i,o]},[]);return new el(t,n,r)}var Gi=class{segmentGroup;processChildren;index;constructor(n,t,r){this.segmentGroup=n,this.processChildren=t,this.index=r}};function vT(e,n,t){if(e.isAbsolute)return new Gi(n,!0,0);if(!t)return new Gi(n,!1,NaN);if(t.parent===null)return new Gi(t,!0,0);let r=Jc(e.commands[0])?0:1,i=t.segments.length-1+r;return yT(t,i,e.numberOfDoubleDots)}function yT(e,n,t){let r=e,i=n,o=t;for(;o>i;){if(o-=i,r=r.parent,!r)throw new b(4005,!1);i=r.segments.length}return new Gi(r,!1,i-o)}function CT(e){return ms(e[0])?e[0].outlets:{[L]:e}}function MC(e,n,t){if(e??=new ee([],{}),e.segments.length===0&&e.hasChildren())return hs(e,n,t);let r=ET(e,n,t),i=t.slice(r.commandIndex);if(r.match&&r.pathIndex<e.segments.length){let o=new ee(e.segments.slice(0,r.pathIndex),{});return o.children[L]=new ee(e.segments.slice(r.pathIndex),e.children),hs(o,0,i)}else return r.match&&i.length===0?new ee(e.segments,{}):r.match&&!e.hasChildren()?Mh(e,n,t):r.match?hs(e,0,i):Mh(e,n,t)}function hs(e,n,t){if(t.length===0)return new ee(e.segments,{});{let r=CT(t),i={};if(Object.keys(r).some(o=>o!==L)&&e.children[L]&&e.numberOfChildren===1&&e.children[L].segments.length===0){let o=hs(e.children[L],n,t);return new ee(e.segments,o.children)}return Object.entries(r).forEach(([o,s])=>{typeof s=="string"&&(s=[s]),s!==null&&(i[o]=MC(e.children[o],n,s))}),Object.entries(e.children).forEach(([o,s])=>{r[o]===void 0&&(i[o]=s)}),new ee(e.segments,i)}}function ET(e,n,t){let r=0,i=n,o={match:!1,pathIndex:0,commandIndex:0};for(;i<e.segments.length;){if(r>=t.length)return o;let s=e.segments[i],a=t[r];if(ms(a))break;let c=`${a}`,l=r<t.length-1?t[r+1]:null;if(i>0&&c===void 0)break;if(c&&l&&typeof l=="object"&&l.outlets===void 0){if(!cC(c,l,s))return o;r+=2}else{if(!cC(c,{},s))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}function Mh(e,n,t){let r=e.segments.slice(0,n),i=0;for(;i<t.length;){let o=t[i];if(ms(o)){let c=_T(o.outlets);return new ee(r,c)}if(i===0&&Jc(t[0])){let c=e.segments[n];r.push(new Xn(c.path,aC(t[0]))),i++;continue}let s=ms(o)?o.outlets[L]:`${o}`,a=i<t.length-1?t[i+1]:null;s&&a&&Jc(a)?(r.push(new Xn(s,aC(a))),i+=2):(r.push(new Xn(s,{})),i++)}return new ee(r,{})}function _T(e){let n={};return Object.entries(e).forEach(([t,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(n[t]=Mh(new ee([],{}),0,r))}),n}function aC(e){let n={};return Object.entries(e).forEach(([t,r])=>n[t]=`${r}`),n}function cC(e,n,t){return e==t.path&&dn(n,t.parameters)}var ps="imperative",Le=(function(e){return e[e.NavigationStart=0]="NavigationStart",e[e.NavigationEnd=1]="NavigationEnd",e[e.NavigationCancel=2]="NavigationCancel",e[e.NavigationError=3]="NavigationError",e[e.RoutesRecognized=4]="RoutesRecognized",e[e.ResolveStart=5]="ResolveStart",e[e.ResolveEnd=6]="ResolveEnd",e[e.GuardsCheckStart=7]="GuardsCheckStart",e[e.GuardsCheckEnd=8]="GuardsCheckEnd",e[e.RouteConfigLoadStart=9]="RouteConfigLoadStart",e[e.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",e[e.ChildActivationStart=11]="ChildActivationStart",e[e.ChildActivationEnd=12]="ChildActivationEnd",e[e.ActivationStart=13]="ActivationStart",e[e.ActivationEnd=14]="ActivationEnd",e[e.Scroll=15]="Scroll",e[e.NavigationSkipped=16]="NavigationSkipped",e})(Le||{}),gt=class{id;url;constructor(n,t){this.id=n,this.url=t}},qr=class extends gt{type=Le.NavigationStart;navigationTrigger;restoredState;constructor(n,t,r="imperative",i=null){super(n,t),this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},fn=class extends gt{urlAfterRedirects;type=Le.NavigationEnd;constructor(n,t,r){super(n,t),this.urlAfterRedirects=r}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},Ge=(function(e){return e[e.Redirect=0]="Redirect",e[e.SupersededByNewNavigation=1]="SupersededByNewNavigation",e[e.NoDataFromResolver=2]="NoDataFromResolver",e[e.GuardRejected=3]="GuardRejected",e[e.Aborted=4]="Aborted",e})(Ge||{}),vs=(function(e){return e[e.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",e[e.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",e})(vs||{}),Nt=class extends gt{reason;code;type=Le.NavigationCancel;constructor(n,t,r,i){super(n,t),this.reason=r,this.code=i}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}};function AC(e){return e instanceof Nt&&(e.code===Ge.Redirect||e.code===Ge.SupersededByNewNavigation)}var Mn=class extends gt{reason;code;type=Le.NavigationSkipped;constructor(n,t,r,i){super(n,t),this.reason=r,this.code=i}},zr=class extends gt{error;target;type=Le.NavigationError;constructor(n,t,r,i){super(n,t),this.error=r,this.target=i}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},zi=class extends gt{urlAfterRedirects;state;type=Le.RoutesRecognized;constructor(n,t,r,i){super(n,t),this.urlAfterRedirects=r,this.state=i}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},tl=class extends gt{urlAfterRedirects;state;type=Le.GuardsCheckStart;constructor(n,t,r,i){super(n,t),this.urlAfterRedirects=r,this.state=i}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},nl=class extends gt{urlAfterRedirects;state;shouldActivate;type=Le.GuardsCheckEnd;constructor(n,t,r,i,o){super(n,t),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=o}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},rl=class extends gt{urlAfterRedirects;state;type=Le.ResolveStart;constructor(n,t,r,i){super(n,t),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},il=class extends gt{urlAfterRedirects;state;type=Le.ResolveEnd;constructor(n,t,r,i){super(n,t),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},ol=class{route;type=Le.RouteConfigLoadStart;constructor(n){this.route=n}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},sl=class{route;type=Le.RouteConfigLoadEnd;constructor(n){this.route=n}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},al=class{snapshot;type=Le.ChildActivationStart;constructor(n){this.snapshot=n}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},cl=class{snapshot;type=Le.ChildActivationEnd;constructor(n){this.snapshot=n}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},ll=class{snapshot;type=Le.ActivationStart;constructor(n){this.snapshot=n}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},ul=class{snapshot;type=Le.ActivationEnd;constructor(n){this.snapshot=n}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}};var Ki=class{},Qi=class{url;navigationBehaviorOptions;constructor(n,t){this.url=n,this.navigationBehaviorOptions=t}};function DT(e){return!(e instanceof Ki)&&!(e instanceof Qi)}var dl=class{rootInjector;outlet=null;route=null;children;attachRef=null;get injector(){return this.route?.snapshot._environmentInjector??this.rootInjector}constructor(n){this.rootInjector=n,this.children=new Xi(this.rootInjector)}},Xi=(()=>{class e{rootInjector;contexts=new Map;constructor(t){this.rootInjector=t}onChildOutletCreated(t,r){let i=this.getOrCreateContext(t);i.outlet=r,this.contexts.set(t,i)}onChildOutletDestroyed(t){let r=this.getContext(t);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){let t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let r=this.getContext(t);return r||(r=new dl(this.rootInjector),this.contexts.set(t,r)),r}getContext(t){return this.contexts.get(t)||null}static \u0275fac=function(r){return new(r||e)(V(Ce))};static \u0275prov=_({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),fl=class{_root;constructor(n){this._root=n}get root(){return this._root.value}parent(n){let t=this.pathFromRoot(n);return t.length>1?t[t.length-2]:null}children(n){let t=Ah(n,this._root);return t?t.children.map(r=>r.value):[]}firstChild(n){let t=Ah(n,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(n){let t=Nh(n,this._root);return t.length<2?[]:t[t.length-2].children.map(i=>i.value).filter(i=>i!==n)}pathFromRoot(n){return Nh(n,this._root).map(t=>t.value)}};function Ah(e,n){if(e===n.value)return n;for(let t of n.children){let r=Ah(e,t);if(r)return r}return null}function Nh(e,n){if(e===n.value)return[n];for(let t of n.children){let r=Nh(e,t);if(r.length)return r.unshift(n),r}return[]}var pt=class{value;children;constructor(n,t){this.value=n,this.children=t}toString(){return`TreeNode(${this.value})`}};function Wi(e){let n={};return e&&e.children.forEach(t=>n[t.value.outlet]=t),n}var ys=class extends fl{snapshot;constructor(n,t){super(n),this.snapshot=t,Bh(this,n)}toString(){return this.snapshot.toString()}};function NC(e,n){let t=IT(e,n),r=new Be([new Xn("",{})]),i=new Be({}),o=new Be({}),s=new Be({}),a=new Be(""),c=new Gt(r,i,s,a,o,L,e,t.root);return c.snapshot=t.root,new ys(new pt(c,[]),t)}function IT(e,n){let t={},r={},i={},s=new Wr([],t,i,"",r,L,e,null,{},n);return new Cs("",new pt(s,[]))}var Gt=class{urlSubject;paramsSubject;queryParamsSubject;fragmentSubject;dataSubject;outlet;component;snapshot;_futureSnapshot;_routerState;_paramMap;_queryParamMap;title;url;params;queryParams;fragment;data;constructor(n,t,r,i,o,s,a,c){this.urlSubject=n,this.paramsSubject=t,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=o,this.outlet=s,this.component=a,this._futureSnapshot=c,this.title=this.dataSubject?.pipe(de(l=>l[Ds]))??H(void 0),this.url=n,this.params=t,this.queryParams=r,this.fragment=i,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(de(n=>Gr(n))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(de(n=>Gr(n))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function hl(e,n,t="emptyOnly"){let r,{routeConfig:i}=e;return n!==null&&(t==="always"||i?.path===""||!n.component&&!n.routeConfig?.loadComponent)?r={params:y(y({},n.params),e.params),data:y(y({},n.data),e.data),resolve:y(y(y(y({},e.data),n.data),i?.data),e._resolvedData)}:r={params:y({},e.params),data:y({},e.data),resolve:y(y({},e.data),e._resolvedData??{})},i&&xC(i)&&(r.resolve[Ds]=i.title),r}var Wr=class{url;params;queryParams;fragment;data;outlet;component;routeConfig;_resolve;_resolvedData;_routerState;_paramMap;_queryParamMap;_environmentInjector;get title(){return this.data?.[Ds]}constructor(n,t,r,i,o,s,a,c,l,u){this.url=n,this.params=t,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=s,this.component=a,this.routeConfig=c,this._resolve=l,this._environmentInjector=u}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=Gr(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=Gr(this.queryParams),this._queryParamMap}toString(){let n=this.url.map(r=>r.toString()).join("/"),t=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${n}', path:'${t}')`}},Cs=class extends fl{url;constructor(n,t){super(t),this.url=n,Bh(this,t)}toString(){return RC(this._root)}};function Bh(e,n){n.value._routerState=e,n.children.forEach(t=>Bh(e,t))}function RC(e){let n=e.children.length>0?` { ${e.children.map(RC).join(", ")} } `:"";return`${e.value}${n}`}function Ih(e){if(e.snapshot){let n=e.snapshot,t=e._futureSnapshot;e.snapshot=t,dn(n.queryParams,t.queryParams)||e.queryParamsSubject.next(t.queryParams),n.fragment!==t.fragment&&e.fragmentSubject.next(t.fragment),dn(n.params,t.params)||e.paramsSubject.next(t.params),Y0(n.url,t.url)||e.urlSubject.next(t.url),dn(n.data,t.data)||e.dataSubject.next(t.data)}else e.snapshot=e._futureSnapshot,e.dataSubject.next(e._futureSnapshot.data)}function Rh(e,n){let t=dn(e.params,n.params)&&nT(e.url,n.url),r=!e.parent!=!n.parent;return t&&!r&&(!e.parent||Rh(e.parent,n.parent))}function xC(e){return typeof e.title=="string"||e.title===null}var OC=new w(""),Ss=(()=>{class e{activated=null;get activatedComponentRef(){return this.activated}_activatedRoute=null;name=L;activateEvents=new fe;deactivateEvents=new fe;attachEvents=new fe;detachEvents=new fe;routerOutletData=Vy();parentContexts=g(Xi);location=g(qn);changeDetector=g(un);inputBinder=g(vl,{optional:!0});supportsBindingToComponentInputs=!0;ngOnChanges(t){if(t.name){let{firstChange:r,previousValue:i}=t.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(t){return this.parentContexts.getContext(t)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let t=this.parentContexts.getContext(this.name);t?.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new b(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new b(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new b(4012,!1);this.location.detach();let t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){let t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new b(4013,!1);this._activatedRoute=t;let i=this.location,s=t.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,c=new xh(t,a,i.injector,this.routerOutletData);this.activated=i.createComponent(s,{index:i.length,injector:c,environmentInjector:r}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static \u0275fac=function(r){return new(r||e)};static \u0275dir=xe({type:e,selectors:[["router-outlet"]],inputs:{name:"name",routerOutletData:[1,"routerOutletData"]},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],features:[Gn]})}return e})(),xh=class{route;childContexts;parent;outletData;constructor(n,t,r,i){this.route=n,this.childContexts=t,this.parent=r,this.outletData=i}get(n,t){return n===Gt?this.route:n===Xi?this.childContexts:n===OC?this.outletData:this.parent.get(n,t)}},vl=new w("");var Vh=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275cmp=ce({type:e,selectors:[["ng-component"]],exportAs:["emptyRouterOutlet"],decls:1,vars:0,template:function(r,i){r&1&&ue(0,"router-outlet")},dependencies:[Ss],encapsulation:2})}return e})();function jh(e){let n=e.children&&e.children.map(jh),t=n?P(y({},e),{children:n}):y({},e);return!t.component&&!t.loadComponent&&(n||t.loadChildren)&&t.outlet&&t.outlet!==L&&(t.component=Vh),t}function ST(e,n,t){let r=Es(e,n._root,t?t._root:void 0);return new ys(r,n)}function Es(e,n,t){if(t&&e.shouldReuseRoute(n.value,t.value.snapshot)){let r=t.value;r._futureSnapshot=n.value;let i=bT(e,n,t);return new pt(r,i)}else{if(e.shouldAttach(n.value)){let o=e.retrieve(n.value);if(o!==null){let s=o.route;return s.value._futureSnapshot=n.value,s.children=n.children.map(a=>Es(e,a)),s}}let r=wT(n.value),i=n.children.map(o=>Es(e,o));return new pt(r,i)}}function bT(e,n,t){return n.children.map(r=>{for(let i of t.children)if(e.shouldReuseRoute(r.value,i.value.snapshot))return Es(e,r,i);return Es(e,r)})}function wT(e){return new Gt(new Be(e.url),new Be(e.params),new Be(e.queryParams),new Be(e.fragment),new Be(e.data),e.outlet,e.component,e)}var Zi=class{redirectTo;navigationBehaviorOptions;constructor(n,t){this.redirectTo=n,this.navigationBehaviorOptions=t}},kC="ngNavigationCancelingError";function pl(e,n){let{redirectTo:t,navigationBehaviorOptions:r}=er(n)?{redirectTo:n,navigationBehaviorOptions:void 0}:n,i=PC(!1,Ge.Redirect);return i.url=t,i.navigationBehaviorOptions=r,i}function PC(e,n){let t=new Error(`NavigationCancelingError: ${e||""}`);return t[kC]=!0,t.cancellationCode=n,t}function TT(e){return FC(e)&&er(e.url)}function FC(e){return!!e&&e[kC]}var Oh=class{routeReuseStrategy;futureState;currState;forwardEvent;inputBindingEnabled;constructor(n,t,r,i,o){this.routeReuseStrategy=n,this.futureState=t,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=o}activate(n){let t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,n),Ih(this.futureState.root),this.activateChildRoutes(t,r,n)}deactivateChildRoutes(n,t,r){let i=Wi(t);n.children.forEach(o=>{let s=o.value.outlet;this.deactivateRoutes(o,i[s],r),delete i[s]}),Object.values(i).forEach(o=>{this.deactivateRouteAndItsChildren(o,r)})}deactivateRoutes(n,t,r){let i=n.value,o=t?t.value:null;if(i===o)if(i.component){let s=r.getContext(i.outlet);s&&this.deactivateChildRoutes(n,t,s.children)}else this.deactivateChildRoutes(n,t,r);else o&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(n,t){n.value.component&&this.routeReuseStrategy.shouldDetach(n.value.snapshot)?this.detachAndStoreRouteSubtree(n,t):this.deactivateRouteAndOutlet(n,t)}detachAndStoreRouteSubtree(n,t){let r=t.getContext(n.value.outlet),i=r&&n.value.component?r.children:t,o=Wi(n);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);if(r&&r.outlet){let s=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(n.value.snapshot,{componentRef:s,route:n,contexts:a})}}deactivateRouteAndOutlet(n,t){let r=t.getContext(n.value.outlet),i=r&&n.value.component?r.children:t,o=Wi(n);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(n,t,r){let i=Wi(t);n.children.forEach(o=>{this.activateRoutes(o,i[o.value.outlet],r),this.forwardEvent(new ul(o.value.snapshot))}),n.children.length&&this.forwardEvent(new cl(n.value.snapshot))}activateRoutes(n,t,r){let i=n.value,o=t?t.value:null;if(Ih(i),i===o)if(i.component){let s=r.getOrCreateContext(i.outlet);this.activateChildRoutes(n,t,s.children)}else this.activateChildRoutes(n,t,r);else if(i.component){let s=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),Ih(a.route.value),this.activateChildRoutes(n,null,s.children)}else s.attachRef=null,s.route=i,s.outlet&&s.outlet.activateWith(i,s.injector),this.activateChildRoutes(n,null,s.children)}else this.activateChildRoutes(n,null,r)}},gl=class{path;route;constructor(n){this.path=n,this.route=this.path[this.path.length-1]}},qi=class{component;route;constructor(n,t){this.component=n,this.route=t}};function MT(e,n,t){let r=e._root,i=n?n._root:null;return fs(r,i,t,[r.value])}function AT(e){let n=e.routeConfig?e.routeConfig.canActivateChild:null;return!n||n.length===0?null:{node:e,guards:n}}function Ji(e,n){let t=Symbol(),r=n.get(e,t);return r===t?typeof e=="function"&&!Ou(e)?e:n.get(e):r}function fs(e,n,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=Wi(n);return e.children.forEach(s=>{NT(s,o[s.value.outlet],t,r.concat([s.value]),i),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,a])=>gs(a,t.getContext(s),i)),i}function NT(e,n,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=e.value,s=n?n.value:null,a=t?t.getContext(e.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){let c=RT(s,o,o.routeConfig.runGuardsAndResolvers);c?i.canActivateChecks.push(new gl(r)):(o.data=s.data,o._resolvedData=s._resolvedData),o.component?fs(e,n,a?a.children:null,r,i):fs(e,n,t,r,i),c&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new qi(a.outlet.component,s))}else s&&gs(n,a,i),i.canActivateChecks.push(new gl(r)),o.component?fs(e,null,a?a.children:null,r,i):fs(e,null,t,r,i);return i}function RT(e,n,t){if(typeof t=="function")return $e(n._environmentInjector,()=>t(e,n));switch(t){case"pathParamsChange":return!$r(e.url,n.url);case"pathParamsOrQueryParamsChange":return!$r(e.url,n.url)||!dn(e.queryParams,n.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Rh(e,n)||!dn(e.queryParams,n.queryParams);default:return!Rh(e,n)}}function gs(e,n,t){let r=Wi(e),i=e.value;Object.entries(r).forEach(([o,s])=>{i.component?n?gs(s,n.children.getContext(o),t):gs(s,null,t):gs(s,n,t)}),i.component?n&&n.outlet&&n.outlet.isActivated?t.canDeactivateChecks.push(new qi(n.outlet.component,i)):t.canDeactivateChecks.push(new qi(null,i)):t.canDeactivateChecks.push(new qi(null,i))}function bs(e){return typeof e=="function"}function xT(e){return typeof e=="boolean"}function OT(e){return e&&bs(e.canLoad)}function kT(e){return e&&bs(e.canActivate)}function PT(e){return e&&bs(e.canActivateChild)}function FT(e){return e&&bs(e.canDeactivate)}function LT(e){return e&&bs(e.canMatch)}function LC(e){return e instanceof vr||e?.name==="EmptyError"}var Kc=Symbol("INITIAL_VALUE");function Yi(){return Ot(e=>lu(e.map(n=>n.pipe(mt(1),gu(Kc)))).pipe(de(n=>{for(let t of n)if(t!==!0){if(t===Kc)return Kc;if(t===!1||BT(t))return t}return!0}),qe(n=>n!==Kc),mt(1)))}function BT(e){return er(e)||e instanceof Zi}function BC(e){return e.aborted?H(void 0).pipe(mt(1)):new B(n=>{let t=()=>{n.next(),n.complete()};return e.addEventListener("abort",t),()=>e.removeEventListener("abort",t)})}function VC(e){return Me(BC(e))}function VT(e){return ke(n=>{let{targetSnapshot:t,currentSnapshot:r,guards:{canActivateChecks:i,canDeactivateChecks:o}}=n;return o.length===0&&i.length===0?H(P(y({},n),{guardsResult:!0})):jT(o,t,r).pipe(ke(s=>s&&xT(s)?HT(t,i,e):H(s)),de(s=>P(y({},n),{guardsResult:s})))})}function jT(e,n,t){return we(e).pipe(ke(r=>qT(r.component,r.route,t,n)),pn(r=>r!==!0,!0))}function HT(e,n,t){return we(n).pipe(pa(r=>kn($T(r.route.parent,t),UT(r.route,t),GT(e,r.path),WT(e,r.route))),pn(r=>r!==!0,!0))}function UT(e,n){return e!==null&&n&&n(new ll(e)),H(!0)}function $T(e,n){return e!==null&&n&&n(new al(e)),H(!0)}function WT(e,n){let t=n.routeConfig?n.routeConfig.canActivate:null;if(!t||t.length===0)return H(!0);let r=t.map(i=>fo(()=>{let o=n._environmentInjector,s=Ji(i,o),a=kT(s)?s.canActivate(n,e):$e(o,()=>s(n,e));return Kr(a).pipe(pn())}));return H(r).pipe(Yi())}function GT(e,n){let t=n[n.length-1],i=n.slice(0,n.length-1).reverse().map(o=>AT(o)).filter(o=>o!==null).map(o=>fo(()=>{let s=o.guards.map(a=>{let c=o.node._environmentInjector,l=Ji(a,c),u=PT(l)?l.canActivateChild(t,e):$e(c,()=>l(t,e));return Kr(u).pipe(pn())});return H(s).pipe(Yi())}));return H(i).pipe(Yi())}function qT(e,n,t,r){let i=n&&n.routeConfig?n.routeConfig.canDeactivate:null;if(!i||i.length===0)return H(!0);let o=i.map(s=>{let a=n._environmentInjector,c=Ji(s,a),l=FT(c)?c.canDeactivate(e,n,t,r):$e(a,()=>c(e,n,t,r));return Kr(l).pipe(pn())});return H(o).pipe(Yi())}function zT(e,n,t,r,i){let o=n.canLoad;if(o===void 0||o.length===0)return H(!0);let s=o.map(a=>{let c=Ji(a,e),l=OT(c)?c.canLoad(n,t):$e(e,()=>c(n,t)),u=Kr(l);return i?u.pipe(VC(i)):u});return H(s).pipe(Yi(),jC(r))}function jC(e){return iu(ot(n=>{if(typeof n!="boolean")throw pl(e,n)}),de(n=>n===!0))}function KT(e,n,t,r,i){let o=n.canMatch;if(!o||o.length===0)return H(!0);let s=o.map(a=>{let c=Ji(a,e),l=LT(c)?c.canMatch(n,t):$e(e,()=>c(n,t));return Kr(l).pipe(VC(i))});return H(s).pipe(Yi(),jC(r))}var Tn=class e extends Error{segmentGroup;constructor(n){super(),this.segmentGroup=n||null,Object.setPrototypeOf(this,e.prototype)}},_s=class e extends Error{urlTree;constructor(n){super(),this.urlTree=n,Object.setPrototypeOf(this,e.prototype)}};function QT(e){throw new b(4e3,!1)}function ZT(e){throw PC(!1,Ge.GuardRejected)}var kh=class{urlSerializer;urlTree;constructor(n,t){this.urlSerializer=n,this.urlTree=t}lineralizeSegments(n,t){return Z(this,null,function*(){let r=[],i=t.root;for(;;){if(r=r.concat(i.segments),i.numberOfChildren===0)return r;if(i.numberOfChildren>1||!i.children[L])throw QT(`${n.redirectTo}`);i=i.children[L]}})}applyRedirectCommands(n,t,r,i,o){return Z(this,null,function*(){let s=yield YT(t,i,o);if(s instanceof Wt)throw new _s(s);let a=this.applyRedirectCreateUrlTree(s,this.urlSerializer.parse(s),n,r);if(s[0]==="/")throw new _s(a);return a})}applyRedirectCreateUrlTree(n,t,r,i){let o=this.createSegmentGroup(n,t.root,r,i);return new Wt(o,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(n,t){let r={};return Object.entries(n).forEach(([i,o])=>{if(typeof o=="string"&&o[0]===":"){let a=o.substring(1);r[i]=t[a]}else r[i]=o}),r}createSegmentGroup(n,t,r,i){let o=this.createSegments(n,t.segments,r,i),s={};return Object.entries(t.children).forEach(([a,c])=>{s[a]=this.createSegmentGroup(n,c,r,i)}),new ee(o,s)}createSegments(n,t,r,i){return t.map(o=>o.path[0]===":"?this.findPosParam(n,o,i):this.findOrReturn(o,r))}findPosParam(n,t,r){let i=r[t.path.substring(1)];if(!i)throw new b(4001,!1);return i}findOrReturn(n,t){let r=0;for(let i of t){if(i.path===n.path)return t.splice(r),i;r++}return n}};function YT(e,n,t){if(typeof e=="string")return Promise.resolve(e);let r=e,{queryParams:i,fragment:o,routeConfig:s,url:a,outlet:c,params:l,data:u,title:f,paramMap:p,queryParamMap:h}=n;return Xc(Kr($e(t,()=>r({params:l,data:u,queryParams:i,fragment:o,routeConfig:s,url:a,outlet:c,title:f,paramMap:p,queryParamMap:h}))))}function XT(e,n){return e.providers&&!e._injector&&(e._injector=Xo(e.providers,n,`Route: ${e.path}`)),e._injector??n}function $t(e){return e.outlet||L}function JT(e,n){let t=e.filter(r=>$t(r)===n);return t.push(...e.filter(r=>$t(r)!==n)),t}var Ph={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function eM(e,n,t,r,i,o){let s=HC(e,n,t);return s.matched?(r=XT(n,r),KT(r,n,t,i,o).pipe(de(a=>a===!0?s:y({},Ph)))):H(s)}function HC(e,n,t){if(n.path==="")return n.pathMatch==="full"&&(e.hasChildren()||t.length>0)?y({},Ph):{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};let i=(n.matcher||hC)(t,e,n);if(!i)return y({},Ph);let o={};Object.entries(i.posParams??{}).forEach(([a,c])=>{o[a]=c.path});let s=i.consumed.length>0?y(y({},o),i.consumed[i.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:i.consumed,remainingSegments:t.slice(i.consumed.length),parameters:s,positionalParamSegments:i.posParams??{}}}function lC(e,n,t,r){return t.length>0&&rM(e,t,r)?{segmentGroup:new ee(n,nM(r,new ee(t,e.children))),slicedSegments:[]}:t.length===0&&iM(e,t,r)?{segmentGroup:new ee(e.segments,tM(e,t,r,e.children)),slicedSegments:t}:{segmentGroup:new ee(e.segments,e.children),slicedSegments:t}}function tM(e,n,t,r){let i={};for(let o of t)if(yl(e,n,o)&&!r[$t(o)]){let s=new ee([],{});i[$t(o)]=s}return y(y({},r),i)}function nM(e,n){let t={};t[L]=n;for(let r of e)if(r.path===""&&$t(r)!==L){let i=new ee([],{});t[$t(r)]=i}return t}function rM(e,n,t){return t.some(r=>yl(e,n,r)&&$t(r)!==L)}function iM(e,n,t){return t.some(r=>yl(e,n,r))}function yl(e,n,t){return(e.hasChildren()||n.length>0)&&t.pathMatch==="full"?!1:t.path===""}function oM(e,n,t){return n.length===0&&!e.children[t]}var Fh=class{};function sM(e,n,t,r,i,o,s="emptyOnly",a){return Z(this,null,function*(){return new Lh(e,n,t,r,i,s,o,a).recognize()})}var aM=31,Lh=class{injector;configLoader;rootComponentType;config;urlTree;paramsInheritanceStrategy;urlSerializer;abortSignal;applyRedirects;absoluteRedirectCount=0;allowRedirects=!0;constructor(n,t,r,i,o,s,a,c){this.injector=n,this.configLoader=t,this.rootComponentType=r,this.config=i,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.abortSignal=c,this.applyRedirects=new kh(this.urlSerializer,this.urlTree)}noMatchError(n){return new b(4002,`'${n.segmentGroup}'`)}recognize(){return Z(this,null,function*(){let n=lC(this.urlTree.root,[],[],this.config).segmentGroup,{children:t,rootSnapshot:r}=yield this.match(n),i=new pt(r,t),o=new Cs("",i),s=SC(r,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),{state:o,tree:s}})}match(n){return Z(this,null,function*(){let t=new Wr([],Object.freeze({}),Object.freeze(y({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),L,this.rootComponentType,null,{},this.injector);try{return{children:yield this.processSegmentGroup(this.injector,this.config,n,L,t),rootSnapshot:t}}catch(r){if(r instanceof _s)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof Tn?this.noMatchError(r):r}})}processSegmentGroup(n,t,r,i,o){return Z(this,null,function*(){if(r.segments.length===0&&r.hasChildren())return this.processChildren(n,t,r,o);let s=yield this.processSegment(n,t,r,r.segments,i,!0,o);return s instanceof pt?[s]:[]})}processChildren(n,t,r,i){return Z(this,null,function*(){let o=[];for(let c of Object.keys(r.children))c==="primary"?o.unshift(c):o.push(c);let s=[];for(let c of o){let l=r.children[c],u=JT(t,c),f=yield this.processSegmentGroup(n,u,l,c,i);s.push(...f)}let a=UC(s);return cM(a),a})}processSegment(n,t,r,i,o,s,a){return Z(this,null,function*(){for(let c of t)try{return yield this.processSegmentAgainstRoute(c._injector??n,t,c,r,i,o,s,a)}catch(l){if(l instanceof Tn||LC(l))continue;throw l}if(oM(r,i,o))return new Fh;throw new Tn(r)})}processSegmentAgainstRoute(n,t,r,i,o,s,a,c){return Z(this,null,function*(){if($t(r)!==s&&(s===L||!yl(i,o,r)))throw new Tn(i);if(r.redirectTo===void 0)return this.matchSegmentAgainstRoute(n,i,r,o,s,c);if(this.allowRedirects&&a)return this.expandSegmentAgainstRouteUsingRedirect(n,i,t,r,o,s,c);throw new Tn(i)})}expandSegmentAgainstRouteUsingRedirect(n,t,r,i,o,s,a){return Z(this,null,function*(){let{matched:c,parameters:l,consumedSegments:u,positionalParamSegments:f,remainingSegments:p}=HC(t,i,o);if(!c)throw new Tn(t);typeof i.redirectTo=="string"&&i.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>aM&&(this.allowRedirects=!1));let h=new Wr(o,l,Object.freeze(y({},this.urlTree.queryParams)),this.urlTree.fragment,uC(i),$t(i),i.component??i._loadedComponent??null,i,dC(i),n),m=hl(h,a,this.paramsInheritanceStrategy);if(h.params=Object.freeze(m.params),h.data=Object.freeze(m.data),this.abortSignal.aborted)throw new Error(this.abortSignal.reason);let E=yield this.applyRedirects.applyRedirectCommands(u,i.redirectTo,f,h,n),I=yield this.applyRedirects.lineralizeSegments(i,E);return this.processSegment(n,r,t,I.concat(p),s,!1,a)})}matchSegmentAgainstRoute(n,t,r,i,o,s){return Z(this,null,function*(){if(this.abortSignal.aborted)throw new Error(this.abortSignal.reason);let a=yield Xc(eM(t,r,i,n,this.urlSerializer,this.abortSignal));if(r.path==="**"&&(t.children={}),!a?.matched)throw new Tn(t);n=r._injector??n;let{routes:c}=yield this.getChildConfig(n,r,i),l=r._loadedInjector??n,{parameters:u,consumedSegments:f,remainingSegments:p}=a,h=new Wr(f,u,Object.freeze(y({},this.urlTree.queryParams)),this.urlTree.fragment,uC(r),$t(r),r.component??r._loadedComponent??null,r,dC(r),n),m=hl(h,s,this.paramsInheritanceStrategy);h.params=Object.freeze(m.params),h.data=Object.freeze(m.data);let{segmentGroup:E,slicedSegments:I}=lC(t,f,p,c);if(I.length===0&&E.hasChildren()){let ei=yield this.processChildren(l,c,E,h);return new pt(h,ei)}if(c.length===0&&I.length===0)return new pt(h,[]);let T=$t(r)===o,X=yield this.processSegment(l,c,E,I,T?L:o,!0,h);return new pt(h,X instanceof pt?[X]:[])})}getChildConfig(n,t,r){return Z(this,null,function*(){if(t.children)return{routes:t.children,injector:n};if(t.loadChildren){if(t._loadedRoutes!==void 0){let o=t._loadedNgModuleFactory;return o&&!t._loadedInjector&&(t._loadedInjector=o.create(n).injector),{routes:t._loadedRoutes,injector:t._loadedInjector}}if(this.abortSignal.aborted)throw new Error(this.abortSignal.reason);if(yield Xc(zT(n,t,r,this.urlSerializer,this.abortSignal))){let o=yield this.configLoader.loadChildren(n,t);return t._loadedRoutes=o.routes,t._loadedInjector=o.injector,t._loadedNgModuleFactory=o.factory,o}throw ZT(t)}return{routes:[],injector:n}})}};function cM(e){e.sort((n,t)=>n.value.outlet===L?-1:t.value.outlet===L?1:n.value.outlet.localeCompare(t.value.outlet))}function lM(e){let n=e.value.routeConfig;return n&&n.path===""}function UC(e){let n=[],t=new Set;for(let r of e){if(!lM(r)){n.push(r);continue}let i=n.find(o=>r.value.routeConfig===o.value.routeConfig);i!==void 0?(i.children.push(...r.children),t.add(i)):n.push(r)}for(let r of t){let i=UC(r.children);n.push(new pt(r.value,i))}return n.filter(r=>!t.has(r))}function uC(e){return e.data||{}}function dC(e){return e.resolve||{}}function uM(e,n,t,r,i,o,s){return ke(a=>Z(null,null,function*(){let{state:c,tree:l}=yield sM(e,n,t,r,a.extractedUrl,i,o,s);return P(y({},a),{targetSnapshot:c,urlAfterRedirects:l})}))}function dM(e){return ke(n=>{let{targetSnapshot:t,guards:{canActivateChecks:r}}=n;if(!r.length)return H(n);let i=new Set(r.map(a=>a.route)),o=new Set;for(let a of i)if(!o.has(a))for(let c of $C(a))o.add(c);let s=0;return we(o).pipe(pa(a=>i.has(a)?fM(a,t,e):(a.data=hl(a,a.parent,e).resolve,H(void 0))),ot(()=>s++),ga(1),ke(a=>s===o.size?H(n):Ie))})}function $C(e){let n=e.children.map(t=>$C(t)).flat();return[e,...n]}function fM(e,n,t){let r=e.routeConfig,i=e._resolve;return r?.title!==void 0&&!xC(r)&&(i[Ds]=r.title),fo(()=>(e.data=hl(e,e.parent,t).resolve,hM(i,e,n).pipe(de(o=>(e._resolvedData=o,e.data=y(y({},e.data),o),null)))))}function hM(e,n,t){let r=bh(e);if(r.length===0)return H({});let i={};return we(r).pipe(ke(o=>pM(e[o],n,t).pipe(pn(),ot(s=>{if(s instanceof Zi)throw pl(new Jn,s);i[o]=s}))),ga(1),de(()=>i),po(o=>LC(o)?Ie:cu(o)))}function pM(e,n,t){let r=n._environmentInjector,i=Ji(e,r),o=i.resolve?i.resolve(n,t):$e(r,()=>i(n,t));return Kr(o)}function fC(e){return Ot(n=>{let t=e(n);return t?we(t).pipe(de(()=>n)):H(n)})}var Hh=(()=>{class e{buildTitle(t){let r,i=t.root;for(;i!==void 0;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(o=>o.outlet===L);return r}getResolvedTitleForRoute(t){return t.data[Ds]}static \u0275fac=function(r){return new(r||e)};static \u0275prov=_({token:e,factory:()=>g(WC),providedIn:"root"})}return e})(),WC=(()=>{class e extends Hh{title;constructor(t){super(),this.title=t}updateTitle(t){let r=this.buildTitle(t);r!==void 0&&this.title.setTitle(r)}static \u0275fac=function(r){return new(r||e)(V(rC))};static \u0275prov=_({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),eo=new w("",{factory:()=>({})}),ws=new w(""),GC=(()=>{class e{componentLoaders=new WeakMap;childrenLoaders=new WeakMap;onLoadStartListener;onLoadEndListener;compiler=g(rh);loadComponent(t,r){return Z(this,null,function*(){if(this.componentLoaders.get(r))return this.componentLoaders.get(r);if(r._loadedComponent)return Promise.resolve(r._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(r);let i=Z(this,null,function*(){try{let o=yield gC($e(t,()=>r.loadComponent())),s=yield KC(zC(o));return this.onLoadEndListener&&this.onLoadEndListener(r),r._loadedComponent=s,s}finally{this.componentLoaders.delete(r)}});return this.componentLoaders.set(r,i),i})}loadChildren(t,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return Promise.resolve({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);let i=Z(this,null,function*(){try{let o=yield qC(r,this.compiler,t,this.onLoadEndListener);return r._loadedRoutes=o.routes,r._loadedInjector=o.injector,r._loadedNgModuleFactory=o.factory,o}finally{this.childrenLoaders.delete(r)}});return this.childrenLoaders.set(r,i),i}static \u0275fac=function(r){return new(r||e)};static \u0275prov=_({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function qC(e,n,t,r){return Z(this,null,function*(){let i=yield gC($e(t,()=>e.loadChildren())),o=yield KC(zC(i)),s;o instanceof Oc||Array.isArray(o)?s=o:s=yield n.compileModuleAsync(o),r&&r(e);let a,c,l=!1,u;return Array.isArray(s)?(c=s,l=!0):(a=s.create(t).injector,u=s,c=a.get(ws,[],{optional:!0,self:!0}).flat()),{routes:c.map(jh),injector:a,factory:u}})}function gM(e){return e&&typeof e=="object"&&"default"in e}function zC(e){return gM(e)?e.default:e}function KC(e){return Z(this,null,function*(){return e})}var Cl=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275prov=_({token:e,factory:()=>g(mM),providedIn:"root"})}return e})(),mM=(()=>{class e{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,r){return t}static \u0275fac=function(r){return new(r||e)};static \u0275prov=_({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),QC=new w("");var vM=()=>{},ZC=new w(""),YC=(()=>{class e{currentNavigation=je(null,{equal:()=>!1});currentTransition=null;lastSuccessfulNavigation=je(null);events=new $;transitionAbortWithErrorSubject=new $;configLoader=g(GC);environmentInjector=g(Ce);destroyRef=g(It);urlSerializer=g(Is);rootContexts=g(Xi);location=g(Ui);inputBindingEnabled=g(vl,{optional:!0})!==null;titleStrategy=g(Hh);options=g(eo,{optional:!0})||{};paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly";urlHandlingStrategy=g(Cl);createViewTransition=g(QC,{optional:!0});navigationErrorHandler=g(ZC,{optional:!0});navigationId=0;get hasRequestedNavigation(){return this.navigationId!==0}transitions;afterPreactivation=()=>H(void 0);rootComponentType=null;destroyed=!1;constructor(){let t=i=>this.events.next(new ol(i)),r=i=>this.events.next(new sl(i));this.configLoader.onLoadEndListener=r,this.configLoader.onLoadStartListener=t,this.destroyRef.onDestroy(()=>{this.destroyed=!0})}complete(){this.transitions?.complete()}handleNavigationRequest(t){let r=++this.navigationId;Pe(()=>{this.transitions?.next(P(y({},t),{extractedUrl:this.urlHandlingStrategy.extract(t.rawUrl),targetSnapshot:null,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null,id:r}))})}setupNavigations(t){return this.transitions=new Be(null),this.transitions.pipe(qe(r=>r!==null),Ot(r=>{let i=!1,o=new AbortController,s=()=>!i&&this.currentTransition?.id===r.id;return H(r).pipe(Ot(a=>{if(this.navigationId>r.id)return this.cancelNavigationTransition(r,"",Ge.SupersededByNewNavigation),Ie;this.currentTransition=r;let c=this.lastSuccessfulNavigation();this.currentNavigation.set({id:a.id,initialUrl:a.rawUrl,extractedUrl:a.extractedUrl,targetBrowserUrl:typeof a.extras.browserUrl=="string"?this.urlSerializer.parse(a.extras.browserUrl):a.extras.browserUrl,trigger:a.source,extras:a.extras,previousNavigation:c?P(y({},c),{previousNavigation:null}):null,abort:()=>o.abort()});let l=!t.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),u=a.extras.onSameUrlNavigation??t.onSameUrlNavigation;if(!l&&u!=="reload")return this.events.next(new Mn(a.id,this.urlSerializer.serialize(a.rawUrl),"",vs.IgnoredSameUrlNavigation)),a.resolve(!1),Ie;if(this.urlHandlingStrategy.shouldProcessUrl(a.rawUrl))return H(a).pipe(Ot(f=>(this.events.next(new qr(f.id,this.urlSerializer.serialize(f.extractedUrl),f.source,f.restoredState)),f.id!==this.navigationId?Ie:Promise.resolve(f))),uM(this.environmentInjector,this.configLoader,this.rootComponentType,t.config,this.urlSerializer,this.paramsInheritanceStrategy,o.signal),ot(f=>{r.targetSnapshot=f.targetSnapshot,r.urlAfterRedirects=f.urlAfterRedirects,this.currentNavigation.update(h=>(h.finalUrl=f.urlAfterRedirects,h));let p=new zi(f.id,this.urlSerializer.serialize(f.extractedUrl),this.urlSerializer.serialize(f.urlAfterRedirects),f.targetSnapshot);this.events.next(p)}));if(l&&this.urlHandlingStrategy.shouldProcessUrl(a.currentRawUrl)){let{id:f,extractedUrl:p,source:h,restoredState:m,extras:E}=a,I=new qr(f,this.urlSerializer.serialize(p),h,m);this.events.next(I);let T=NC(this.rootComponentType,this.environmentInjector).snapshot;return this.currentTransition=r=P(y({},a),{targetSnapshot:T,urlAfterRedirects:p,extras:P(y({},E),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.update(X=>(X.finalUrl=p,X)),H(r)}else return this.events.next(new Mn(a.id,this.urlSerializer.serialize(a.extractedUrl),"",vs.IgnoredByUrlHandlingStrategy)),a.resolve(!1),Ie}),de(a=>{let c=new tl(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);return this.events.next(c),this.currentTransition=r=P(y({},a),{guards:MT(a.targetSnapshot,a.currentSnapshot,this.rootContexts)}),r}),VT(a=>this.events.next(a)),Ot(a=>{if(r.guardsResult=a.guardsResult,a.guardsResult&&typeof a.guardsResult!="boolean")throw pl(this.urlSerializer,a.guardsResult);let c=new nl(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot,!!a.guardsResult);if(this.events.next(c),!s())return Ie;if(!a.guardsResult)return this.cancelNavigationTransition(a,"",Ge.GuardRejected),Ie;if(a.guards.canActivateChecks.length===0)return H(a);let l=new rl(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);if(this.events.next(l),!s())return Ie;let u=!1;return H(a).pipe(dM(this.paramsInheritanceStrategy),ot({next:()=>{u=!0;let f=new il(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);this.events.next(f)},complete:()=>{u||this.cancelNavigationTransition(a,"",Ge.NoDataFromResolver)}}))}),fC(a=>{let c=u=>{let f=[];if(u.routeConfig?._loadedComponent)u.component=u.routeConfig?._loadedComponent;else if(u.routeConfig?.loadComponent){let p=u._environmentInjector;f.push(this.configLoader.loadComponent(p,u.routeConfig).then(h=>{u.component=h}))}for(let p of u.children)f.push(...c(p));return f},l=c(a.targetSnapshot.root);return l.length===0?H(a):we(Promise.all(l).then(()=>a))}),fC(()=>this.afterPreactivation()),Ot(()=>{let{currentSnapshot:a,targetSnapshot:c}=r,l=this.createViewTransition?.(this.environmentInjector,a.root,c.root);return l?we(l).pipe(de(()=>r)):H(r)}),mt(1),de(a=>{let c=ST(t.routeReuseStrategy,a.targetSnapshot,a.currentRouterState);this.currentTransition=r=a=P(y({},a),{targetRouterState:c}),this.currentNavigation.update(l=>(l.targetRouterState=c,l)),this.events.next(new Ki),s()&&(new Oh(t.routeReuseStrategy,r.targetRouterState,r.currentRouterState,l=>this.events.next(l),this.inputBindingEnabled).activate(this.rootContexts),s()&&(i=!0,this.currentNavigation.update(l=>(l.abort=vM,l)),this.lastSuccessfulNavigation.set(Pe(this.currentNavigation)),this.events.next(new fn(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects))),this.titleStrategy?.updateTitle(a.targetRouterState.snapshot),a.resolve(!0)))}),Me(BC(o.signal).pipe(qe(()=>!i&&!r.targetRouterState),ot(()=>{this.cancelNavigationTransition(r,o.signal.reason+"",Ge.Aborted)}))),ot({complete:()=>{i=!0}}),Me(this.transitionAbortWithErrorSubject.pipe(ot(a=>{throw a}))),pu(()=>{o.abort(),i||this.cancelNavigationTransition(r,"",Ge.SupersededByNewNavigation),this.currentTransition?.id===r.id&&(this.currentNavigation.set(null),this.currentTransition=null)}),po(a=>{if(i=!0,this.destroyed)return r.resolve(!1),Ie;if(FC(a))this.events.next(new Nt(r.id,this.urlSerializer.serialize(r.extractedUrl),a.message,a.cancellationCode)),TT(a)?this.events.next(new Qi(a.url,a.navigationBehaviorOptions)):r.resolve(!1);else{let c=new zr(r.id,this.urlSerializer.serialize(r.extractedUrl),a,r.targetSnapshot??void 0);try{let l=$e(this.environmentInjector,()=>this.navigationErrorHandler?.(c));if(l instanceof Zi){let{message:u,cancellationCode:f}=pl(this.urlSerializer,l);this.events.next(new Nt(r.id,this.urlSerializer.serialize(r.extractedUrl),u,f)),this.events.next(new Qi(l.redirectTo,l.navigationBehaviorOptions))}else throw this.events.next(c),a}catch(l){this.options.resolveNavigationPromiseOnError?r.resolve(!1):r.reject(l)}}return Ie}))}))}cancelNavigationTransition(t,r,i){let o=new Nt(t.id,this.urlSerializer.serialize(t.extractedUrl),r,i);this.events.next(o),t.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let t=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),r=Pe(this.currentNavigation),i=r?.targetBrowserUrl??r?.extractedUrl;return t.toString()!==i?.toString()&&!r?.extras.skipLocationChange}static \u0275fac=function(r){return new(r||e)};static \u0275prov=_({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function yM(e){return e!==ps}var XC=new w("");var JC=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275prov=_({token:e,factory:()=>g(CM),providedIn:"root"})}return e})(),ml=class{shouldDetach(n){return!1}store(n,t){}shouldAttach(n){return!1}retrieve(n){return null}shouldReuseRoute(n,t){return n.routeConfig===t.routeConfig}shouldDestroyInjector(n){return!0}},CM=(()=>{class e extends ml{static \u0275fac=(()=>{let t;return function(i){return(t||(t=jt(e)))(i||e)}})();static \u0275prov=_({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),Uh=(()=>{class e{urlSerializer=g(Is);options=g(eo,{optional:!0})||{};canceledNavigationResolution=this.options.canceledNavigationResolution||"replace";location=g(Ui);urlHandlingStrategy=g(Cl);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";currentUrlTree=new Wt;getCurrentUrlTree(){return this.currentUrlTree}rawUrlTree=this.currentUrlTree;getRawUrlTree(){return this.rawUrlTree}createBrowserPath({finalUrl:t,initialUrl:r,targetBrowserUrl:i}){let o=t!==void 0?this.urlHandlingStrategy.merge(t,r):r,s=i??o;return s instanceof Wt?this.urlSerializer.serialize(s):s}commitTransition({targetRouterState:t,finalUrl:r,initialUrl:i}){r&&t?(this.currentUrlTree=r,this.rawUrlTree=this.urlHandlingStrategy.merge(r,i),this.routerState=t):this.rawUrlTree=i}routerState=NC(null,g(Ce));getRouterState(){return this.routerState}_stateMemento=this.createStateMemento();get stateMemento(){return this._stateMemento}updateStateMemento(){this._stateMemento=this.createStateMemento()}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}restoredState(){return this.location.getState()}static \u0275fac=function(r){return new(r||e)};static \u0275prov=_({token:e,factory:()=>g(EM),providedIn:"root"})}return e})(),EM=(()=>{class e extends Uh{currentPageId=0;lastSuccessfulId=-1;get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}registerNonRouterCurrentEntryChangeListener(t){return this.location.subscribe(r=>{r.type==="popstate"&&setTimeout(()=>{t(r.url,r.state,"popstate")})})}handleRouterEvent(t,r){t instanceof qr?this.updateStateMemento():t instanceof Mn?this.commitTransition(r):t instanceof zi?this.urlUpdateStrategy==="eager"&&(r.extras.skipLocationChange||this.setBrowserUrl(this.createBrowserPath(r),r)):t instanceof Ki?(this.commitTransition(r),this.urlUpdateStrategy==="deferred"&&!r.extras.skipLocationChange&&this.setBrowserUrl(this.createBrowserPath(r),r)):t instanceof Nt&&!AC(t)?this.restoreHistory(r):t instanceof zr?this.restoreHistory(r,!0):t instanceof fn&&(this.lastSuccessfulId=t.id,this.currentPageId=this.browserPageId)}setBrowserUrl(t,{extras:r,id:i}){let{replaceUrl:o,state:s}=r;if(this.location.isCurrentPathEqualTo(t)||o){let a=this.browserPageId,c=y(y({},s),this.generateNgRouterState(i,a));this.location.replaceState(t,"",c)}else{let a=y(y({},s),this.generateNgRouterState(i,this.browserPageId+1));this.location.go(t,"",a)}}restoreHistory(t,r=!1){if(this.canceledNavigationResolution==="computed"){let i=this.browserPageId,o=this.currentPageId-i;o!==0?this.location.historyGo(o):this.getCurrentUrlTree()===t.finalUrl&&o===0&&(this.resetInternalState(t),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(r&&this.resetInternalState(t),this.resetUrlToCurrentUrlTree())}resetInternalState({finalUrl:t}){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.getRawUrlTree()),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(t,r){return this.canceledNavigationResolution==="computed"?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}static \u0275fac=(()=>{let t;return function(i){return(t||(t=jt(e)))(i||e)}})();static \u0275prov=_({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function $h(e,n){e.events.pipe(qe(t=>t instanceof fn||t instanceof Nt||t instanceof zr||t instanceof Mn),de(t=>t instanceof fn||t instanceof Mn?0:(t instanceof Nt?t.code===Ge.Redirect||t.code===Ge.SupersededByNewNavigation:!1)?2:1),qe(t=>t!==2),mt(1)).subscribe(()=>{n()})}var eE={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},tE={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},Qr=(()=>{class e{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}disposed=!1;nonRouterCurrentEntryChangeSubscription;console=g(kc);stateManager=g(Uh);options=g(eo,{optional:!0})||{};pendingTasks=g(En);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";navigationTransitions=g(YC);urlSerializer=g(Is);location=g(Ui);urlHandlingStrategy=g(Cl);injector=g(Ce);_events=new $;get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}navigated=!1;routeReuseStrategy=g(JC);injectorCleanup=g(XC,{optional:!0});onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore";config=g(ws,{optional:!0})?.flat()??[];componentInputBindingEnabled=!!g(vl,{optional:!0});currentNavigation=this.navigationTransitions.currentNavigation.asReadonly();constructor(){this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this).subscribe({error:t=>{}}),this.subscribeToNavigationEvents()}eventsSubscription=new De;subscribeToNavigationEvents(){let t=this.navigationTransitions.events.subscribe(r=>{try{let i=this.navigationTransitions.currentTransition,o=Pe(this.navigationTransitions.currentNavigation);if(i!==null&&o!==null){if(this.stateManager.handleRouterEvent(r,o),r instanceof Nt&&r.code!==Ge.Redirect&&r.code!==Ge.SupersededByNewNavigation)this.navigated=!0;else if(r instanceof fn)this.navigated=!0,this.injectorCleanup?.(this.routeReuseStrategy,this.routerState,this.config);else if(r instanceof Qi){let s=r.navigationBehaviorOptions,a=this.urlHandlingStrategy.merge(r.url,i.currentRawUrl),c=y({scroll:i.extras.scroll,browserUrl:i.extras.browserUrl,info:i.extras.info,skipLocationChange:i.extras.skipLocationChange,replaceUrl:i.extras.replaceUrl||this.urlUpdateStrategy==="eager"||yM(i.source)},s);this.scheduleNavigation(a,ps,null,c,{resolve:i.resolve,reject:i.reject,promise:i.promise})}}DT(r)&&this._events.next(r)}catch(i){this.navigationTransitions.transitionAbortWithErrorSubject.next(i)}});this.eventsSubscription.add(t)}resetRootComponentType(t){this.routerState.root.component=t,this.navigationTransitions.rootComponentType=t}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),ps,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((t,r,i)=>{this.navigateToSyncWithBrowser(t,i,r)})}navigateToSyncWithBrowser(t,r,i){let o={replaceUrl:!0},s=i?.navigationId?i:null;if(i){let c=y({},i);delete c.navigationId,delete c.\u0275routerPageId,Object.keys(c).length!==0&&(o.state=c)}let a=this.parseUrl(t);this.scheduleNavigation(a,r,s,o).catch(c=>{this.disposed||this.injector.get(St)(c)})}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return Pe(this.navigationTransitions.currentNavigation)}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(t){this.config=t.map(jh),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this._events.unsubscribe(),this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription?.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0,this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(t,r={}){let{relativeTo:i,queryParams:o,fragment:s,queryParamsHandling:a,preserveFragment:c}=r,l=c?this.currentUrlTree.fragment:s,u=null;switch(a??this.options.defaultQueryParamsHandling){case"merge":u=y(y({},this.currentUrlTree.queryParams),o);break;case"preserve":u=this.currentUrlTree.queryParams;break;default:u=o||null}u!==null&&(u=this.removeEmptyProps(u));let f;try{let p=i?i.snapshot:this.routerState.snapshot.root;f=bC(p)}catch(p){(typeof t[0]!="string"||t[0][0]!=="/")&&(t=[]),f=this.currentUrlTree.root}return wC(f,t,u,l??null,this.urlSerializer)}navigateByUrl(t,r={skipLocationChange:!1}){let i=er(t)?t:this.parseUrl(t),o=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(o,ps,null,r)}navigate(t,r={skipLocationChange:!1}){return _M(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){try{return this.urlSerializer.parse(t)}catch(r){return this.console.warn(Ir(4018,!1)),this.urlSerializer.parse("/")}}isActive(t,r){let i;if(r===!0?i=y({},eE):r===!1?i=y({},tE):i=r,er(t))return iC(this.currentUrlTree,t,i);let o=this.parseUrl(t);return iC(this.currentUrlTree,o,i)}removeEmptyProps(t){return Object.entries(t).reduce((r,[i,o])=>(o!=null&&(r[i]=o),r),{})}scheduleNavigation(t,r,i,o,s){if(this.disposed)return Promise.resolve(!1);let a,c,l;s?(a=s.resolve,c=s.reject,l=s.promise):l=new Promise((f,p)=>{a=f,c=p});let u=this.pendingTasks.add();return $h(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(u))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:t,extras:o,resolve:a,reject:c,promise:l,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),l.catch(Promise.reject.bind(Promise))}static \u0275fac=function(r){return new(r||e)};static \u0275prov=_({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function _M(e){for(let n=0;n<e.length;n++)if(e[n]==null)throw new b(4008,!1)}var El=(()=>{class e{router;route;tabIndexAttribute;renderer;el;locationStrategy;reactiveHref=je(null);get href(){return Pe(this.reactiveHref)}set href(t){this.reactiveHref.set(t)}target;queryParams;fragment;queryParamsHandling;state;info;relativeTo;isAnchorElement;subscription;onChanges=new $;applicationErrorHandler=g(St);options=g(eo,{optional:!0});constructor(t,r,i,o,s,a){this.router=t,this.route=r,this.tabIndexAttribute=i,this.renderer=o,this.el=s,this.locationStrategy=a,this.reactiveHref.set(g(new jc("href"),{optional:!0}));let c=s.nativeElement.tagName?.toLowerCase();this.isAnchorElement=c==="a"||c==="area"||!!(typeof customElements=="object"&&customElements.get(c)?.observedAttributes?.includes?.("href")),this.isAnchorElement&&(this.setTabIndexIfNotOnNativeEl("0"),this.subscribeToNavigationEventsIfNecessary())}subscribeToNavigationEventsIfNecessary(){this.subscription===void 0&&(this.subscription=this.router.events.subscribe(t=>{t instanceof fn&&this.updateHref()}))}preserveFragment=!1;skipLocationChange=!1;replaceUrl=!1;setTabIndexIfNotOnNativeEl(t){this.tabIndexAttribute!=null||this.isAnchorElement||this.applyAttributeValue("tabindex",t)}ngOnChanges(t){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}routerLinkInput=null;set routerLink(t){t==null?(this.routerLinkInput=null,this.setTabIndexIfNotOnNativeEl(null)):(er(t)?this.routerLinkInput=t:this.routerLinkInput=Array.isArray(t)?t:[t],this.setTabIndexIfNotOnNativeEl("0"))}onClick(t,r,i,o,s){let a=this.urlTree;if(a===null||this.isAnchorElement&&(t!==0||r||i||o||s||typeof this.target=="string"&&this.target!="_self"))return!0;let c={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info};return this.router.navigateByUrl(a,c)?.catch(l=>{this.applicationErrorHandler(l)}),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){let t=this.urlTree;this.reactiveHref.set(t!==null&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(t))??"":null)}applyAttributeValue(t,r){let i=this.renderer,o=this.el.nativeElement;r!==null?i.setAttribute(o,t,r):i.removeAttribute(o,t)}get urlTree(){return this.routerLinkInput===null?null:er(this.routerLinkInput)?this.routerLinkInput:this.router.createUrlTree(this.routerLinkInput,{relativeTo:this.relativeTo!==void 0?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static \u0275fac=function(r){return new(r||e)(k(Qr),k(Gt),$o("tabindex"),k(sn),k(Re),k(Hi))};static \u0275dir=xe({type:e,selectors:[["","routerLink",""]],hostVars:2,hostBindings:function(r,i){r&1&&K("click",function(s){return i.onClick(s.button,s.ctrlKey,s.shiftKey,s.altKey,s.metaKey)}),r&2&&Ye("href",i.reactiveHref(),Mf)("target",i.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[2,"preserveFragment","preserveFragment",Vi],skipLocationChange:[2,"skipLocationChange","skipLocationChange",Vi],replaceUrl:[2,"replaceUrl","replaceUrl",Vi],routerLink:"routerLink"},features:[Gn]})}return e})();var SM=new w("");function Wh(e,...n){return Zt([{provide:ws,multi:!0,useValue:e},[],{provide:Gt,useFactory:bM},{provide:Pc,multi:!0,useFactory:wM},n.map(t=>t.\u0275providers)])}function bM(){return g(Qr).routerState.root}function wM(){let e=g(ge);return n=>{let t=e.get(We);if(n!==t.components[0])return;let r=e.get(Qr),i=e.get(TM);e.get(MM)===1&&r.initialNavigation(),e.get(AM,null,{optional:!0})?.setUpPreloading(),e.get(SM,null,{optional:!0})?.init(),r.resetRootComponentType(t.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}var TM=new w("",{factory:()=>new $}),MM=new w("",{factory:()=>1});var AM=new w("");var d=class{static WHITE_PAWN="wP";static WHITE_ROOK="wR";static WHITE_KNIGHT="wN";static WHITE_BISHOP="wB";static WHITE_QUEEN="wQ";static WHITE_KING="wK";static BLACK_PAWN="bP";static BLACK_ROOK="bR";static BLACK_KNIGHT="bN";static BLACK_BISHOP="bB";static BLACK_QUEEN="bQ";static BLACK_KING="bK";static PAWN="P";static ROOK="R";static KNIGHT="N";static BISHOP="B";static QUEEN="Q";static KING="K";static NONE=""};var RM=(e,n)=>({"background-color":e,"box-shadow":n}),nE=e=>({color:e});function xM(e,n){if(e&1&&(U(0,"p",6),S(1),q()),e&2){let t=D();zn(Zn(3,nE,t.getReverseColor())),v(),bn(t.coordinate[0])}}function OM(e,n){if(e&1&&(U(0,"p",7),S(1),q()),e&2){let t=D();zn(Zn(3,nE,t.getReverseColor())),v(),bn(t.coordinate[1])}}function kM(e,n){if(e&1&&Xe(0,"img",3),e&2){let t=D();tt("src",`piece/merida/${t.piece}.svg`,Ze)}}function PM(e,n){e&1&&Xe(0,"div",4)}function FM(e,n){e&1&&Xe(0,"div",5)}var _l=class e{coordinate="";piece=d.NONE;isDark=!1;showRank=!1;showFile=!0;isLegalMove=!1;showPiece=!0;isFlipped=!1;isInCheck=!1;isCheckmate=!1;isDraw=!1;isWinner=!1;isClicked=!1;mouseDown=new fe;mouseUp=new fe;leftClick=new fe;rightClick=new fe;lightColor="white";darkColor="rgb(85,150,242)";lightPressedColor="pink";darkPressedColor="hotpink";constructor(){}getColor(){return this.isClicked?this.isDark?this.darkPressedColor:this.lightPressedColor:this.isDark?this.darkColor:this.lightColor}getReverseColor(){return this.isDark?this.lightColor:this.darkColor}handleMouseDown(n){this.mouseDown.emit({coordinate:this.coordinate,piece:this.piece,mouse:n})}handleMouseUp(n){this.mouseUp.emit({coordinate:this.coordinate,mouse:n})}handleRightClick(n){n.preventDefault()}handleLeftClick(n){n.button==0&&this.leftClick.emit()}static \u0275fac=function(t){return new(t||e)};static \u0275cmp=ce({type:e,selectors:[["app-square"]],inputs:{coordinate:"coordinate",piece:"piece",isDark:"isDark",showRank:"showRank",showFile:"showFile",isLegalMove:"isLegalMove",showPiece:"showPiece",isFlipped:"isFlipped",isInCheck:"isInCheck",isCheckmate:"isCheckmate",isDraw:"isDraw",isWinner:"isWinner",isClicked:"isClicked"},outputs:{mouseDown:"mouseDown",mouseUp:"mouseUp",leftClick:"leftClick",rightClick:"rightClick"},decls:6,vars:12,consts:[[1,"squareContainer",3,"pointerdown","pointerup","click","contextmenu"],[1,"fileLabel",3,"style"],[1,"rankLabel",3,"style"],["draggable","false",1,"pieceImage",3,"src"],[1,"legalMoveCircle"],[1,"legalMoveCaptureCircle"],[1,"fileLabel"],[1,"rankLabel"]],template:function(t,r){t&1&&(U(0,"div",0),Tt("pointerdown",function(o){return r.handleMouseDown(o)})("pointerup",function(o){return r.handleMouseUp(o)})("click",function(o){return r.handleLeftClick(o)})("contextmenu",function(o){return r.handleRightClick(o)}),W(1,xM,2,5,"p",1),W(2,OM,2,5,"p",2),W(3,kM,1,1,"img",3),W(4,PM,1,0,"div",4),W(5,FM,1,0,"div",5),q()),t&2&&(zn(Bi(9,RM,r.getColor(),r.isInCheck?"0 4px 0 0 red inset":"")),Fe(r.isFlipped?"squareFlipped":""),v(),G(r.showFile&&r.coordinate!=""?1:-1),v(),G(r.showRank&&r.coordinate!=""?2:-1),v(),G(r.piece!=""&&r.showPiece?3:-1),v(),G(r.isLegalMove&&r.piece==""?4:-1),v(),G(r.isLegalMove&&r.piece!=""?5:-1))},styles:[".squareContainer[_ngcontent-%COMP%]{width:100%;height:100%;padding:0;margin:0;box-sizing:border-box;position:relative;display:flex;justify-content:center;align-items:center}.squareFlipped[_ngcontent-%COMP%]{transform:rotate(180deg)}.rankLabel[_ngcontent-%COMP%]{position:absolute;margin:0;top:2px;left:2px}.fileLabel[_ngcontent-%COMP%]{position:absolute;bottom:2px;right:5px;margin:0}.legalMoveCircle[_ngcontent-%COMP%]{position:absolute;width:4vh;height:4vh;border-radius:50%;background-color:#00000040;top:50%;left:50%;transform:translate(-50%,-50%);pointer-events:none}.legalMoveCaptureCircle[_ngcontent-%COMP%]{position:absolute;width:10vh;height:10vh;border-radius:50%;border:8px solid rgba(0,0,0,.25);background-color:transparent;top:50%;left:50%;transform:translate(-50%,-50%);pointer-events:none}.pieceImage[_ngcontent-%COMP%]{width:95%;height:95%}@media screen and (max-width:800px){.legalMoveCircle[_ngcontent-%COMP%]{width:1vh;height:1vh}.legalMoveCaptureCircle[_ngcontent-%COMP%]{width:4vh;height:4vh}}"]})};var C=class e{static BLACK="b";static WHITE="w";static getOpposite(n){return n==e.WHITE?e.BLACK:n==e.BLACK?e.WHITE:""}};var LM=()=>[];function BM(e,n){if(e&1&&Xe(0,"img",6),e&2){let t=D().$implicit;tt("src",`piece/merida/${t}.svg`,Ze)}}function VM(e,n){if(e&1&&(U(0,"div",3),dt(1,BM,1,1,"img",6,ut),q()),e&2){let t=n.$implicit,r=D();v(),ft(nh(0,LM).constructor(r.getDisplayMap().get(t)))}}function jM(e,n){if(e&1&&(U(0,"p",4),S(1),q()),e&2){let t=D();v(),pe("+",t.getAbsoluteAdvantage())}}function HM(e,n){if(e&1&&(U(0,"p",5),S(1),q()),e&2){let t=D();v(),bn(t.clock)}}var Dl=class e{for="";capturedPieces=[];advantage=0;playerName="Player";playerElo="";clock="";getAbsoluteAdvantage(){return this.for==C.WHITE&&this.advantage>0?this.advantage:this.for==C.BLACK&&this.advantage<0?-this.advantage:0}getDisplayMap(){let n=new Map;for(let t of this.capturedPieces){let r=n.get(t);r?n.set(t,r+1):n.set(t,1)}return n}static \u0275fac=function(t){return new(t||e)};static \u0275cmp=ce({type:e,selectors:[["app-board-player-info"]],inputs:{for:"for",capturedPieces:"capturedPieces",advantage:"advantage",playerName:"playerName",playerElo:"playerElo",clock:"clock"},decls:10,vars:4,consts:[[1,"boardPlayerInfoContainer","d-flex","align-items-center"],[1,"m-1"],[1,"pieceGroupContainer"],[1,"piece-group"],[1,"text-primary","m-0"],[1,"badge","text-bg-secondary"],["alt","piece",1,"capturedPieceImg",3,"src"]],template:function(t,r){t&1&&(U(0,"div",0)(1,"p"),S(2),q(),Xe(3,"div",1),U(4,"div",2),dt(5,VM,3,1,"div",3,ut),q(),W(7,jM,2,1,"p",4),Xe(8,"div",1),W(9,HM,2,1,"p",5),q()),t&2&&(v(2),wn("",r.playerName," ",r.playerElo?`(${r.playerElo})`:""),v(3),ft(r.getDisplayMap().keys()),v(2),G(r.getAbsoluteAdvantage()>0?7:-1),v(2),G(r.clock?9:-1))},styles:[".boardPlayerInfoContainer[_ngcontent-%COMP%]{height:7vmin}.piece-group[_ngcontent-%COMP%]{margin-right:3vmin}.capturedPieceImg[_ngcontent-%COMP%]{width:5vmin;margin-right:-3vmin}.pieceGroupContainer[_ngcontent-%COMP%]{display:flex}@media screen and (max-width:800px){.boardPlayerInfoContainer[_ngcontent-%COMP%]{height:30vmin;flex-direction:column}.piece-group[_ngcontent-%COMP%]{margin-right:3vmin}.capturedPieceImg[_ngcontent-%COMP%]{width:5vmin;margin-right:-3vmin}}"]})};var rE=(()=>{class e{constructor(){this.animation=!0}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=_({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();function Gh(e){return typeof e=="string"}function Sl(e){return e!=null}function iE(e){return e&&e.then}function qh(e){return(e||document.body).getBoundingClientRect()}function UM(e){return n=>new B(t=>{let r=s=>e.run(()=>t.next(s)),i=s=>e.run(()=>t.error(s)),o=()=>e.run(()=>t.complete());return n.subscribe({next:r,error:i,complete:o})})}function $M(e){let{transitionDelay:n,transitionDuration:t}=window.getComputedStyle(e),r=parseFloat(n),i=parseFloat(t);return(r+i)*1e3}var WM=()=>{},GM={getTransitionTimerDelayMs:()=>5},Il=new Map,tr=(e,n,t,r)=>{let i=r.context||{},o=Il.get(n);if(o)switch(r.runningTransition){case"continue":return Ie;case"stop":e.run(()=>o.transition$.complete()),i=Object.assign(o.context,i),Il.delete(n)}let s=t(n,r.animation,i)||WM;if(!r.animation||window.getComputedStyle(n).transitionProperty==="none")return e.run(()=>s()),H(void 0).pipe(UM(e));let a=new $,c=new $,l=a.pipe(hu(!0));Il.set(n,{transition$:a,complete:()=>{c.next(),c.complete()},context:i});let u=$M(n);return e.runOutsideAngular(()=>{let f=it(n,"transitionend").pipe(Me(l),qe(({target:h})=>h===n)),p=du(u+GM.getTransitionTimerDelayMs()).pipe(Me(l));fu(p,f,c).pipe(Me(l)).subscribe(()=>{Il.delete(n),e.run(()=>{s(),a.next(),a.complete()})})}),a.asObservable()};var JG=(()=>{let e=()=>/iPad|iPhone|iPod/.test(navigator.userAgent)||/Macintosh/.test(navigator.userAgent)&&navigator.maxTouchPoints&&navigator.maxTouchPoints>2,n=()=>/Android/.test(navigator.userAgent);return typeof navigator<"u"?!!navigator.userAgent&&(e()||n()):!1})();var qM=["a[href]","button:not([disabled])",'input:not([disabled]):not([type="hidden"])',"select:not([disabled])","textarea:not([disabled])","[contenteditable]",'[tabindex]:not([tabindex="-1"])'].join(", ");function zh(e){let n=Array.from(e.querySelectorAll(qM)).filter(t=>t.tabIndex!==-1);return[n[0],n[n.length-1]]}var oE=(e,n,t,r=!1)=>{e.runOutsideAngular(()=>{let i=it(n,"focusin").pipe(Me(t),de(o=>o.target));it(n,"keydown").pipe(Me(t),qe(o=>o.key==="Tab"),ma(i)).subscribe(([o,s])=>{let[a,c]=zh(n);(s===a||s===n)&&o.shiftKey&&(c.focus(),o.preventDefault()),s===c&&!o.shiftKey&&(a.focus(),o.preventDefault())}),r&&it(n,"click").pipe(Me(t),ma(i),de(o=>o[1])).subscribe(o=>o.focus())})};var Zr=class{constructor(n,t,r){this.nodes=n,this.viewRef=t,this.componentRef=r}};var sE=(()=>{class e{constructor(){this._document=g(le)}hide(){let t=Math.abs(window.innerWidth-this._document.documentElement.clientWidth),r=this._document.body,i=r.style,{overflow:o,paddingRight:s}=i;if(t>0){let a=parseFloat(window.getComputedStyle(r).paddingRight);i.paddingRight=`${a+t}px`}return i.overflow="hidden",()=>{t>0&&(i.paddingRight=s),i.overflow=o}}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=_({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();var gE=(()=>{class e{_renderer;_elementRef;onChange=t=>{};onTouched=()=>{};constructor(t,r){this._renderer=t,this._elementRef=r}setProperty(t,r){this._renderer.setProperty(this._elementRef.nativeElement,t,r)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}static \u0275fac=function(r){return new(r||e)(k(sn),k(Re))};static \u0275dir=xe({type:e})}return e})(),Al=(()=>{class e extends gE{static \u0275fac=(()=>{let t;return function(i){return(t||(t=jt(e)))(i||e)}})();static \u0275dir=xe({type:e,features:[wt]})}return e})(),xs=new w(""),zM={provide:xs,useExisting:Kt(()=>Jh),multi:!0},Jh=(()=>{class e extends Al{writeValue(t){this.setProperty("checked",t)}static \u0275fac=(()=>{let t;return function(i){return(t||(t=jt(e)))(i||e)}})();static \u0275dir=xe({type:e,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(r,i){r&1&&K("change",function(s){return i.onChange(s.target.checked)})("blur",function(){return i.onTouched()})},standalone:!1,features:[Ur([zM]),wt]})}return e})(),KM={provide:xs,useExisting:Kt(()=>Nl),multi:!0};function QM(){let e=At()?At().getUserAgent():"";return/android (\d+)/.test(e.toLowerCase())}var ZM=new w(""),Nl=(()=>{class e extends gE{_compositionMode;_composing=!1;constructor(t,r,i){super(t,r),this._compositionMode=i,this._compositionMode==null&&(this._compositionMode=!QM())}writeValue(t){let r=t??"";this.setProperty("value",r)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}static \u0275fac=function(r){return new(r||e)(k(sn),k(Re),k(ZM,8))};static \u0275dir=xe({type:e,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,i){r&1&&K("input",function(s){return i._handleInput(s.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(s){return i._compositionEnd(s.target.value)})},standalone:!1,features:[Ur([KM]),wt]})}return e})();var YM=new w(""),XM=new w("");function mE(e){return e!=null}function vE(e){return Vr(e)?we(e):e}function yE(e){let n={};return e.forEach(t=>{n=t!=null?y(y({},n),t):n}),Object.keys(n).length===0?null:n}function CE(e,n){return n.map(t=>t(e))}function JM(e){return!e.validate}function EE(e){return e.map(n=>JM(n)?n:t=>n.validate(t))}function eA(e){if(!e)return null;let n=e.filter(mE);return n.length==0?null:function(t){return yE(CE(t,n))}}function _E(e){return e!=null?eA(EE(e)):null}function tA(e){if(!e)return null;let n=e.filter(mE);return n.length==0?null:function(t){let r=CE(t,n).map(vE);return uu(r).pipe(de(yE))}}function DE(e){return e!=null?tA(EE(e)):null}function aE(e,n){return e===null?[n]:Array.isArray(e)?[...e,n]:[e,n]}function nA(e){return e._rawValidators}function rA(e){return e._rawAsyncValidators}function Kh(e){return e?Array.isArray(e)?e:[e]:[]}function wl(e,n){return Array.isArray(e)?e.includes(n):e===n}function cE(e,n){let t=Kh(n);return Kh(e).forEach(i=>{wl(t,i)||t.push(i)}),t}function lE(e,n){return Kh(n).filter(t=>!wl(e,t))}var Tl=class{get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators=[];_rawAsyncValidators=[];_setValidators(n){this._rawValidators=n||[],this._composedValidatorFn=_E(this._rawValidators)}_setAsyncValidators(n){this._rawAsyncValidators=n||[],this._composedAsyncValidatorFn=DE(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_onDestroyCallbacks=[];_registerOnDestroy(n){this._onDestroyCallbacks.push(n)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(n=>n()),this._onDestroyCallbacks=[]}reset(n=void 0){this.control?.reset(n)}hasError(n,t){return this.control?this.control.hasError(n,t):!1}getError(n,t){return this.control?this.control.getError(n,t):null}},Qh=class extends Tl{name;get formDirective(){return null}get path(){return null}},Rs=class extends Tl{_parent=null;name=null;valueAccessor=null},Zh=class{_cd;constructor(n){this._cd=n}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}};var Rl=(()=>{class e extends Zh{constructor(t){super(t)}static \u0275fac=function(r){return new(r||e)(k(Rs,2))};static \u0275dir=xe({type:e,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,i){r&2&&jr("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},standalone:!1,features:[wt]})}return e})();var Ts="VALID",bl="INVALID",to="PENDING",Ms="DISABLED",Yr=class{},Ml=class extends Yr{value;source;constructor(n,t){super(),this.value=n,this.source=t}},As=class extends Yr{pristine;source;constructor(n,t){super(),this.pristine=n,this.source=t}},Ns=class extends Yr{touched;source;constructor(n,t){super(),this.touched=n,this.source=t}},no=class extends Yr{status;source;constructor(n,t){super(),this.status=n,this.source=t}};var Yh=class extends Yr{source;constructor(n){super(),this.source=n}};function iA(e){return(xl(e)?e.validators:e)||null}function oA(e){return Array.isArray(e)?_E(e):e||null}function sA(e,n){return(xl(n)?n.asyncValidators:e)||null}function aA(e){return Array.isArray(e)?DE(e):e||null}function xl(e){return e!=null&&!Array.isArray(e)&&typeof e=="object"}var Xh=class{_pendingDirty=!1;_hasOwnPendingAsyncValidator=null;_pendingTouched=!1;_onCollectionChange=()=>{};_updateOn;_parent=null;_asyncValidationSubscription;_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators;_rawAsyncValidators;value;constructor(n,t){this._assignValidators(n),this._assignAsyncValidators(t)}get validator(){return this._composedValidatorFn}set validator(n){this._rawValidators=this._composedValidatorFn=n}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(n){this._rawAsyncValidators=this._composedAsyncValidatorFn=n}get parent(){return this._parent}get status(){return Pe(this.statusReactive)}set status(n){Pe(()=>this.statusReactive.set(n))}_status=Mt(()=>this.statusReactive());statusReactive=je(void 0);get valid(){return this.status===Ts}get invalid(){return this.status===bl}get pending(){return this.status==to}get disabled(){return this.status===Ms}get enabled(){return this.status!==Ms}errors;get pristine(){return Pe(this.pristineReactive)}set pristine(n){Pe(()=>this.pristineReactive.set(n))}_pristine=Mt(()=>this.pristineReactive());pristineReactive=je(!0);get dirty(){return!this.pristine}get touched(){return Pe(this.touchedReactive)}set touched(n){Pe(()=>this.touchedReactive.set(n))}_touched=Mt(()=>this.touchedReactive());touchedReactive=je(!1);get untouched(){return!this.touched}_events=new $;events=this._events.asObservable();valueChanges;statusChanges;get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(n){this._assignValidators(n)}setAsyncValidators(n){this._assignAsyncValidators(n)}addValidators(n){this.setValidators(cE(n,this._rawValidators))}addAsyncValidators(n){this.setAsyncValidators(cE(n,this._rawAsyncValidators))}removeValidators(n){this.setValidators(lE(n,this._rawValidators))}removeAsyncValidators(n){this.setAsyncValidators(lE(n,this._rawAsyncValidators))}hasValidator(n){return wl(this._rawValidators,n)}hasAsyncValidator(n){return wl(this._rawAsyncValidators,n)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(n={}){let t=this.touched===!1;this.touched=!0;let r=n.sourceControl??this;n.onlySelf||this._parent?.markAsTouched(P(y({},n),{sourceControl:r})),t&&n.emitEvent!==!1&&this._events.next(new Ns(!0,r))}markAllAsDirty(n={}){this.markAsDirty({onlySelf:!0,emitEvent:n.emitEvent,sourceControl:this}),this._forEachChild(t=>t.markAllAsDirty(n))}markAllAsTouched(n={}){this.markAsTouched({onlySelf:!0,emitEvent:n.emitEvent,sourceControl:this}),this._forEachChild(t=>t.markAllAsTouched(n))}markAsUntouched(n={}){let t=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let r=n.sourceControl??this;this._forEachChild(i=>{i.markAsUntouched({onlySelf:!0,emitEvent:n.emitEvent,sourceControl:r})}),n.onlySelf||this._parent?._updateTouched(n,r),t&&n.emitEvent!==!1&&this._events.next(new Ns(!1,r))}markAsDirty(n={}){let t=this.pristine===!0;this.pristine=!1;let r=n.sourceControl??this;n.onlySelf||this._parent?.markAsDirty(P(y({},n),{sourceControl:r})),t&&n.emitEvent!==!1&&this._events.next(new As(!1,r))}markAsPristine(n={}){let t=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let r=n.sourceControl??this;this._forEachChild(i=>{i.markAsPristine({onlySelf:!0,emitEvent:n.emitEvent})}),n.onlySelf||this._parent?._updatePristine(n,r),t&&n.emitEvent!==!1&&this._events.next(new As(!0,r))}markAsPending(n={}){this.status=to;let t=n.sourceControl??this;n.emitEvent!==!1&&(this._events.next(new no(this.status,t)),this.statusChanges.emit(this.status)),n.onlySelf||this._parent?.markAsPending(P(y({},n),{sourceControl:t}))}disable(n={}){let t=this._parentMarkedDirty(n.onlySelf);this.status=Ms,this.errors=null,this._forEachChild(i=>{i.disable(P(y({},n),{onlySelf:!0}))}),this._updateValue();let r=n.sourceControl??this;n.emitEvent!==!1&&(this._events.next(new Ml(this.value,r)),this._events.next(new no(this.status,r)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(P(y({},n),{skipPristineCheck:t}),this),this._onDisabledChange.forEach(i=>i(!0))}enable(n={}){let t=this._parentMarkedDirty(n.onlySelf);this.status=Ts,this._forEachChild(r=>{r.enable(P(y({},n),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:n.emitEvent}),this._updateAncestors(P(y({},n),{skipPristineCheck:t}),this),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(n,t){n.onlySelf||(this._parent?.updateValueAndValidity(n),n.skipPristineCheck||this._parent?._updatePristine({},t),this._parent?._updateTouched({},t))}setParent(n){this._parent=n}getRawValue(){return this.value}updateValueAndValidity(n={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let r=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Ts||this.status===to)&&this._runAsyncValidator(r,n.emitEvent)}let t=n.sourceControl??this;n.emitEvent!==!1&&(this._events.next(new Ml(this.value,t)),this._events.next(new no(this.status,t)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),n.onlySelf||this._parent?.updateValueAndValidity(P(y({},n),{sourceControl:t}))}_updateTreeValidity(n={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(n)),this.updateValueAndValidity({onlySelf:!0,emitEvent:n.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Ms:Ts}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(n,t){if(this.asyncValidator){this.status=to,this._hasOwnPendingAsyncValidator={emitEvent:t!==!1,shouldHaveEmitted:n!==!1};let r=vE(this.asyncValidator(this));this._asyncValidationSubscription=r.subscribe(i=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(i,{emitEvent:t,shouldHaveEmitted:n})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let n=(this._hasOwnPendingAsyncValidator?.emitEvent||this._hasOwnPendingAsyncValidator?.shouldHaveEmitted)??!1;return this._hasOwnPendingAsyncValidator=null,n}return!1}setErrors(n,t={}){this.errors=n,this._updateControlsErrors(t.emitEvent!==!1,this,t.shouldHaveEmitted)}get(n){let t=n;return t==null||(Array.isArray(t)||(t=t.split(".")),t.length===0)?null:t.reduce((r,i)=>r&&r._find(i),this)}getError(n,t){let r=t?this.get(t):this;return r?.errors?r.errors[n]:null}hasError(n,t){return!!this.getError(n,t)}get root(){let n=this;for(;n._parent;)n=n._parent;return n}_updateControlsErrors(n,t,r){this.status=this._calculateStatus(),n&&this.statusChanges.emit(this.status),(n||r)&&this._events.next(new no(this.status,t)),this._parent&&this._parent._updateControlsErrors(n,t,r)}_initObservables(){this.valueChanges=new fe,this.statusChanges=new fe}_calculateStatus(){return this._allControlsDisabled()?Ms:this.errors?bl:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(to)?to:this._anyControlsHaveStatus(bl)?bl:Ts}_anyControlsHaveStatus(n){return this._anyControls(t=>t.status===n)}_anyControlsDirty(){return this._anyControls(n=>n.dirty)}_anyControlsTouched(){return this._anyControls(n=>n.touched)}_updatePristine(n,t){let r=!this._anyControlsDirty(),i=this.pristine!==r;this.pristine=r,n.onlySelf||this._parent?._updatePristine(n,t),i&&this._events.next(new As(this.pristine,t))}_updateTouched(n={},t){this.touched=this._anyControlsTouched(),this._events.next(new Ns(this.touched,t)),n.onlySelf||this._parent?._updateTouched(n,t)}_onDisabledChange=[];_registerOnCollectionChange(n){this._onCollectionChange=n}_setUpdateStrategy(n){xl(n)&&n.updateOn!=null&&(this._updateOn=n.updateOn)}_parentMarkedDirty(n){return!n&&!!this._parent?.dirty&&!this._parent._anyControlsDirty()}_find(n){return null}_assignValidators(n){this._rawValidators=Array.isArray(n)?n.slice():n,this._composedValidatorFn=oA(this._rawValidators)}_assignAsyncValidators(n){this._rawAsyncValidators=Array.isArray(n)?n.slice():n,this._composedAsyncValidatorFn=aA(this._rawAsyncValidators)}};var IE=new w("",{factory:()=>ep}),ep="always";function cA(e,n){return[...n.path,e]}function lA(e,n,t=ep){dA(e,n),n.valueAccessor.writeValue(e.value),(e.disabled||t==="always")&&n.valueAccessor.setDisabledState?.(e.disabled),fA(e,n),pA(e,n),hA(e,n),uA(e,n)}function uE(e,n){e.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(n)})}function uA(e,n){if(n.valueAccessor.setDisabledState){let t=r=>{n.valueAccessor.setDisabledState(r)};e.registerOnDisabledChange(t),n._registerOnDestroy(()=>{e._unregisterOnDisabledChange(t)})}}function dA(e,n){let t=nA(e);n.validator!==null?e.setValidators(aE(t,n.validator)):typeof t=="function"&&e.setValidators([t]);let r=rA(e);n.asyncValidator!==null?e.setAsyncValidators(aE(r,n.asyncValidator)):typeof r=="function"&&e.setAsyncValidators([r]);let i=()=>e.updateValueAndValidity();uE(n._rawValidators,i),uE(n._rawAsyncValidators,i)}function fA(e,n){n.valueAccessor.registerOnChange(t=>{e._pendingValue=t,e._pendingChange=!0,e._pendingDirty=!0,e.updateOn==="change"&&SE(e,n)})}function hA(e,n){n.valueAccessor.registerOnTouched(()=>{e._pendingTouched=!0,e.updateOn==="blur"&&e._pendingChange&&SE(e,n),e.updateOn!=="submit"&&e.markAsTouched()})}function SE(e,n){e._pendingDirty&&e.markAsDirty(),e.setValue(e._pendingValue,{emitModelToViewChange:!1}),n.viewToModelUpdate(e._pendingValue),e._pendingChange=!1}function pA(e,n){let t=(r,i)=>{n.valueAccessor.writeValue(r),i&&n.viewToModelUpdate(r)};e.registerOnChange(t),n._registerOnDestroy(()=>{e._unregisterOnChange(t)})}function gA(e,n){if(!e.hasOwnProperty("model"))return!1;let t=e.model;return t.isFirstChange()?!0:!Object.is(n,t.currentValue)}function mA(e){return Object.getPrototypeOf(e.constructor)===Al}function vA(e,n){if(!n)return null;Array.isArray(n);let t,r,i;return n.forEach(o=>{o.constructor===Nl?t=o:mA(o)?r=o:i=o}),i||r||t||null}function dE(e,n){let t=e.indexOf(n);t>-1&&e.splice(t,1)}function fE(e){return typeof e=="object"&&e!==null&&Object.keys(e).length===2&&"value"in e&&"disabled"in e}var yA=class extends Xh{defaultValue=null;_onChange=[];_pendingValue;_pendingChange=!1;constructor(n=null,t,r){super(iA(t),sA(r,t)),this._applyFormState(n),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),xl(t)&&(t.nonNullable||t.initialValueIsDefault)&&(fE(n)?this.defaultValue=n.value:this.defaultValue=n)}setValue(n,t={}){this.value=this._pendingValue=n,this._onChange.length&&t.emitModelToViewChange!==!1&&this._onChange.forEach(r=>r(this.value,t.emitViewToModelChange!==!1)),this.updateValueAndValidity(t)}patchValue(n,t={}){this.setValue(n,t)}reset(n=this.defaultValue,t={}){this._applyFormState(n),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),t.overwriteDefaultValue&&(this.defaultValue=this.value),this._pendingChange=!1,t?.emitEvent!==!1&&this._events.next(new Yh(this))}_updateValue(){}_anyControls(n){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(n){this._onChange.push(n)}_unregisterOnChange(n){dE(this._onChange,n)}registerOnDisabledChange(n){this._onDisabledChange.push(n)}_unregisterOnDisabledChange(n){dE(this._onDisabledChange,n)}_forEachChild(n){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(n){fE(n)?(this.value=this._pendingValue=n.value,n.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=n}};var CA={provide:Rs,useExisting:Kt(()=>Os)},hE=Promise.resolve(),Os=(()=>{class e extends Rs{_changeDetectorRef;callSetDisabledState;control=new yA;static ngAcceptInputType_isDisabled;_registered=!1;viewModel;name="";isDisabled;model;options;update=new fe;constructor(t,r,i,o,s,a){super(),this._changeDetectorRef=s,this.callSetDisabledState=a,this._parent=t,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=vA(this,o)}ngOnChanges(t){if(this._checkForErrors(),!this._registered||"name"in t){if(this._registered&&(this._checkName(),this.formDirective)){let r=t.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in t&&this._updateDisabled(t),gA(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective?.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){lA(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._checkName()}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(t){hE.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(t){let r=t.isDisabled.currentValue,i=r!==0&&Vi(r);hE.then(()=>{i&&!this.control.disabled?this.control.disable():!i&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(t){return this._parent?cA(t,this._parent):[t]}static \u0275fac=function(r){return new(r||e)(k(Qh,9),k(YM,10),k(XM,10),k(xs,10),k(un,8),k(IE,8))};static \u0275dir=xe({type:e,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],standalone:!1,features:[Ur([CA]),wt,Gn]})}return e})();var EA={provide:xs,useExisting:Kt(()=>Ol),multi:!0};function bE(e,n){return e==null?`${n}`:(n&&typeof n=="object"&&(n="Object"),`${e}: ${n}`.slice(0,50))}function _A(e){return e.split(":")[0]}var Ol=(()=>{class e extends Al{value;_optionMap=new Map;_idCounter=0;set compareWith(t){this._compareWith=t}_compareWith=Object.is;appRefInjector=g(We).injector;destroyRef=g(It);cdr=g(un);_queuedWrite=!1;_writeValueAfterRender(){this._queuedWrite||this.appRefInjector.destroyed||(this._queuedWrite=!0,on({write:()=>{this.destroyRef.destroyed||(this._queuedWrite=!1,this.writeValue(this.value))}},{injector:this.appRefInjector}))}writeValue(t){this.cdr.markForCheck(),this.value=t;let r=this._getOptionId(t),i=bE(r,t);this.setProperty("value",i)}registerOnChange(t){this.onChange=r=>{this.value=this._getOptionValue(r),t(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(t){for(let r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r),t))return r;return null}_getOptionValue(t){let r=_A(t);return this._optionMap.has(r)?this._optionMap.get(r):t}static \u0275fac=(()=>{let t;return function(i){return(t||(t=jt(e)))(i||e)}})();static \u0275dir=xe({type:e,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(r,i){r&1&&K("change",function(s){return i.onChange(s.target.value)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},standalone:!1,features:[Ur([EA]),wt]})}return e})(),wE=(()=>{class e{_element;_renderer;_select;id;constructor(t,r,i){this._element=t,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption())}set ngValue(t){this._select!=null&&(this._select._optionMap.set(this.id,t),this._setElementValue(bE(this.id,t)),this._select._writeValueAfterRender())}set value(t){this._setElementValue(t),this._select?._writeValueAfterRender()}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}ngOnDestroy(){this._select?._optionMap.delete(this.id),this._select?._writeValueAfterRender()}static \u0275fac=function(r){return new(r||e)(k(Re),k(sn),k(Ol,9))};static \u0275dir=xe({type:e,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"},standalone:!1})}return e})(),DA={provide:xs,useExisting:Kt(()=>TE),multi:!0};function pE(e,n){return e==null?`${n}`:(typeof n=="string"&&(n=`'${n}'`),n&&typeof n=="object"&&(n="Object"),`${e}: ${n}`.slice(0,50))}function IA(e){return e.split(":")[0]}var TE=(()=>{class e extends Al{value;_optionMap=new Map;_idCounter=0;set compareWith(t){this._compareWith=t}_compareWith=Object.is;writeValue(t){this.value=t;let r;if(Array.isArray(t)){let i=t.map(o=>this._getOptionId(o));r=(o,s)=>{o._setSelected(i.indexOf(s.toString())>-1)}}else r=(i,o)=>{i._setSelected(!1)};this._optionMap.forEach(r)}registerOnChange(t){this.onChange=r=>{let i=[],o=r.selectedOptions;if(o!==void 0){let s=o;for(let a=0;a<s.length;a++){let c=s[a],l=this._getOptionValue(c.value);i.push(l)}}else{let s=r.options;for(let a=0;a<s.length;a++){let c=s[a];if(c.selected){let l=this._getOptionValue(c.value);i.push(l)}}}this.value=i,t(i)}}_registerOption(t){let r=(this._idCounter++).toString();return this._optionMap.set(r,t),r}_getOptionId(t){for(let r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r)._value,t))return r;return null}_getOptionValue(t){let r=IA(t);return this._optionMap.has(r)?this._optionMap.get(r)._value:t}static \u0275fac=(()=>{let t;return function(i){return(t||(t=jt(e)))(i||e)}})();static \u0275dir=xe({type:e,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(r,i){r&1&&K("change",function(s){return i.onChange(s.target)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},standalone:!1,features:[Ur([DA]),wt]})}return e})(),ME=(()=>{class e{_element;_renderer;_select;id;_value;constructor(t,r,i){this._element=t,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption(this))}set ngValue(t){this._select!=null&&(this._value=t,this._setElementValue(pE(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._select?(this._value=t,this._setElementValue(pE(this.id,t)),this._select.writeValue(this._select.value)):this._setElementValue(t)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}_setSelected(t){this._renderer.setProperty(this._element.nativeElement,"selected",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static \u0275fac=function(r){return new(r||e)(k(Re),k(sn),k(TE,9))};static \u0275dir=xe({type:e,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"},standalone:!1})}return e})();var SA=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275mod=Ut({type:e});static \u0275inj=vt({})}return e})();var ro=(()=>{class e{static withConfig(t){return{ngModule:e,providers:[{provide:IE,useValue:t.callSetDisabledState??ep}]}}static \u0275fac=function(r){return new(r||e)};static \u0275mod=Ut({type:e});static \u0275inj=vt({imports:[SA]})}return e})();var bA=["dialog"],wA=["*"],TA=(()=>{class e{constructor(){this._ngbConfig=g(rE),this.backdrop=!0,this.fullscreen=!1,this.keyboard=!0,this.role="dialog"}get animation(){return this._animation??this._ngbConfig.animation}set animation(t){this._animation=t}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=_({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),MA=["animation","backdropClass"],AA=(()=>{class e{constructor(){this._nativeElement=g(Re).nativeElement,this._zone=g(ne),this._injector=g(ge),this._cdRef=g(un)}ngOnInit(){on({mixedReadWrite:()=>tr(this._zone,this._nativeElement,(t,r)=>{r&&qh(t),t.classList.add("show")},{animation:this.animation,runningTransition:"continue"})},{injector:this._injector})}hide(){return tr(this._zone,this._nativeElement,({classList:t})=>t.remove("show"),{animation:this.animation,runningTransition:"stop"})}updateOptions(t){MA.forEach(r=>{Sl(t[r])&&(this[r]=t[r])}),this._cdRef.markForCheck()}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275cmp=ce({type:e,selectors:[["ngb-modal-backdrop"]],hostAttrs:[2,"z-index","1055"],hostVars:6,hostBindings:function(r,i){r&2&&(Fe("modal-backdrop"+(i.backdropClass?" "+i.backdropClass:"")),jr("show",!i.animation)("fade",i.animation))},inputs:{animation:"animation",backdropClass:"backdropClass"},decls:0,vars:0,template:function(r,i){},encapsulation:2})}}return e})(),nr=class{update(n){}close(n){}dismiss(n){}},tp=class{update(n){this._windowCmptRef.instance.updateOptions(n),this._backdropCmptRef&&this._backdropCmptRef.instance&&this._backdropCmptRef.instance.updateOptions(n)}get componentInstance(){if(this._contentRef&&this._contentRef.componentRef)return this._contentRef.componentRef.instance}get closed(){return this._closed.asObservable().pipe(Me(this._hidden))}get dismissed(){return this._dismissed.asObservable().pipe(Me(this._hidden))}get hidden(){return this._hidden.asObservable()}get shown(){return this._windowCmptRef.instance.shown.asObservable()}constructor(n,t,r,i){this._windowCmptRef=n,this._contentRef=t,this._backdropCmptRef=r,this._beforeDismiss=i,this._closed=new $,this._dismissed=new $,this._hidden=new $,n.instance.dismissEvent.subscribe(o=>{this.dismiss(o)}),this.result=new Promise((o,s)=>{this._resolve=o,this._reject=s}),this.result.then(null,()=>{})}close(n){this._windowCmptRef&&(this._closed.next(n),this._resolve(n),this._removeModalElements())}_dismiss(n){this._dismissed.next(n),this._reject(n),this._removeModalElements()}dismiss(n){if(this._windowCmptRef)if(!this._beforeDismiss)this._dismiss(n);else{let t=this._beforeDismiss();iE(t)?t.then(r=>{r!==!1&&this._dismiss(n)},()=>{}):t!==!1&&this._dismiss(n)}}_removeModalElements(){let n=this._windowCmptRef.instance.hide(),t=this._backdropCmptRef?this._backdropCmptRef.instance.hide():H(void 0);n.subscribe(()=>{let{nativeElement:r}=this._windowCmptRef.location;r.parentNode.removeChild(r),this._windowCmptRef.destroy(),this._contentRef?.viewRef?.destroy(),this._windowCmptRef=null,this._contentRef=null}),t.subscribe(()=>{if(this._backdropCmptRef){let{nativeElement:r}=this._backdropCmptRef.location;r.parentNode.removeChild(r),this._backdropCmptRef.destroy(),this._backdropCmptRef=null}}),ho(n,t).subscribe(()=>{this._hidden.next(),this._hidden.complete()})}},np=(function(e){return e[e.BACKDROP_CLICK=0]="BACKDROP_CLICK",e[e.ESC=1]="ESC",e})(np||{}),NA=["animation","ariaLabelledBy","ariaDescribedBy","backdrop","centered","fullscreen","keyboard","role","scrollable","size","windowClass","modalDialogClass"],RA=(()=>{class e{constructor(){this._document=g(le),this._elRef=g(Re),this._zone=g(ne),this._injector=g(ge),this._cdRef=g(un),this._closed$=new $,this._elWithFocus=null,this.backdrop=!0,this.keyboard=!0,this.role="dialog",this.dismissEvent=new fe,this.shown=new $,this.hidden=new $}get fullscreenClass(){return this.fullscreen===!0?" modal-fullscreen":Gh(this.fullscreen)?` modal-fullscreen-${this.fullscreen}-down`:""}dismiss(t){this.dismissEvent.emit(t)}ngOnInit(){this._elWithFocus=this._document.activeElement,on({mixedReadWrite:()=>this._show()},{injector:this._injector})}ngOnDestroy(){this._disableEventHandling()}hide(){let{nativeElement:t}=this._elRef,r={animation:this.animation,runningTransition:"stop"},i=tr(this._zone,t,()=>t.classList.remove("show"),r),o=tr(this._zone,this._dialogEl.nativeElement,()=>{},r),s=ho(i,o);return s.subscribe(()=>{this.hidden.next(),this.hidden.complete()}),this._disableEventHandling(),this._restoreFocus(),s}updateOptions(t){NA.forEach(r=>{Sl(t[r])&&(this[r]=t[r])}),this._cdRef.markForCheck()}_show(){let t={animation:this.animation,runningTransition:"continue"},r=tr(this._zone,this._elRef.nativeElement,(o,s)=>{s&&qh(o),o.classList.add("show")},t),i=tr(this._zone,this._dialogEl.nativeElement,()=>{},t);ho(r,i).subscribe(()=>{this.shown.next(),this.shown.complete()}),this._enableEventHandling(),this._setFocus()}_enableEventHandling(){let{nativeElement:t}=this._elRef;this._zone.runOutsideAngular(()=>{it(t,"keydown").pipe(Me(this._closed$),qe(i=>i.key==="Escape")).subscribe(i=>{this.keyboard?requestAnimationFrame(()=>{i.defaultPrevented||this._zone.run(()=>this.dismiss(np.ESC))}):this.backdrop==="static"&&this._bumpBackdrop()});let r=!1;it(this._dialogEl.nativeElement,"mousedown").pipe(Me(this._closed$),ot(()=>r=!1),Ot(()=>it(t,"mouseup").pipe(Me(this._closed$),mt(1))),qe(({target:i})=>t===i)).subscribe(()=>{r=!0}),it(t,"click").pipe(Me(this._closed$)).subscribe(({target:i})=>{t===i&&(this.backdrop==="static"?this._bumpBackdrop():this.backdrop===!0&&!r&&this._zone.run(()=>this.dismiss(np.BACKDROP_CLICK))),r=!1})})}_disableEventHandling(){this._closed$.next()}_setFocus(){let{nativeElement:t}=this._elRef;if(!t.contains(document.activeElement)){let r=t.querySelector("[ngbAutofocus]"),i=zh(t)[0];(r||i||t).focus()}}_restoreFocus(){let t=this._document.body,r=this._elWithFocus,i;r&&r.focus&&t.contains(r)?i=r:i=t,this._zone.runOutsideAngular(()=>{setTimeout(()=>i.focus()),this._elWithFocus=null})}_bumpBackdrop(){this.backdrop==="static"&&tr(this._zone,this._elRef.nativeElement,({classList:t})=>(t.add("modal-static"),()=>t.remove("modal-static")),{animation:this.animation,runningTransition:"continue"})}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275cmp=ce({type:e,selectors:[["ngb-modal-window"]],viewQuery:function(r,i){if(r&1&&Pi(bA,7),r&2){let o;Fi(o=Li())&&(i._dialogEl=o.first)}},hostAttrs:["tabindex","-1"],hostVars:8,hostBindings:function(r,i){r&2&&(Ye("aria-modal",!0)("aria-labelledby",i.ariaLabelledBy)("aria-describedby",i.ariaDescribedBy)("role",i.role),Fe("modal d-block"+(i.windowClass?" "+i.windowClass:"")),jr("fade",i.animation))},inputs:{animation:"animation",ariaLabelledBy:"ariaLabelledBy",ariaDescribedBy:"ariaDescribedBy",backdrop:"backdrop",centered:"centered",fullscreen:"fullscreen",keyboard:"keyboard",role:"role",scrollable:"scrollable",size:"size",windowClass:"windowClass",modalDialogClass:"modalDialogClass"},outputs:{dismissEvent:"dismiss"},ngContentSelectors:wA,decls:4,vars:2,consts:[["dialog",""],["role","document"],[1,"modal-content"]],template:function(r,i){r&1&&(Jf(),U(0,"div",1,0)(2,"div",2),eh(3),q()()),r&2&&Fe("modal-dialog"+(i.size?" modal-"+i.size:"")+(i.centered?" modal-dialog-centered":"")+i.fullscreenClass+(i.scrollable?" modal-dialog-scrollable":"")+(i.modalDialogClass?" "+i.modalDialogClass:""))},styles:[`ngb-modal-window .component-host-scrollable{display:flex;flex-direction:column;overflow:hidden}
`],encapsulation:2})}}return e})(),xA=(()=>{class e{constructor(){this._applicationRef=g(We),this._injector=g(ge),this._environmentInjector=g(Ce),this._document=g(le),this._scrollBar=g(sE),this._activeWindowCmptHasChanged=new $,this._ariaHiddenValues=new Map,this._scrollBarRestoreFn=null,this._modalRefs=[],this._windowCmpts=[],this._activeInstances=new fe;let t=g(ne);this._activeWindowCmptHasChanged.subscribe(()=>{if(this._windowCmpts.length){let r=this._windowCmpts[this._windowCmpts.length-1];oE(t,r.location.nativeElement,this._activeWindowCmptHasChanged),this._revertAriaHidden(),this._setAriaHidden(r.location.nativeElement)}})}_restoreScrollBar(){let t=this._scrollBarRestoreFn;t&&(this._scrollBarRestoreFn=null,t())}_hideScrollBar(){this._scrollBarRestoreFn||(this._scrollBarRestoreFn=this._scrollBar.hide())}open(t,r,i){let o=i.container instanceof HTMLElement?i.container:Sl(i.container)?this._document.querySelector(i.container):this._document.body;if(!o)throw new Error(`The specified modal container "${i.container||"body"}" was not found in the DOM.`);this._hideScrollBar();let s=new nr;t=i.injector||t;let a=t.get(Ce,null)||this._environmentInjector,c=this._getContentRef(t,a,r,s,i),l=i.backdrop!==!1?this._attachBackdrop(o):void 0,u=this._attachWindowComponent(o,c.nodes),f=new tp(u,c,l,i.beforeDismiss);return this._registerModalRef(f),this._registerWindowCmpt(u),f.hidden.pipe(mt(1)).subscribe(()=>Promise.resolve(!0).then(()=>{this._modalRefs.length||(this._document.body.classList.remove("modal-open"),this._restoreScrollBar(),this._revertAriaHidden())})),s.close=p=>{f.close(p)},s.dismiss=p=>{f.dismiss(p)},s.update=p=>{f.update(p)},f.update(i),this._modalRefs.length===1&&this._document.body.classList.add("modal-open"),l&&l.instance&&l.changeDetectorRef.detectChanges(),u.changeDetectorRef.detectChanges(),f}get activeInstances(){return this._activeInstances}dismissAll(t){this._modalRefs.forEach(r=>r.dismiss(t))}hasOpenModals(){return this._modalRefs.length>0}_attachBackdrop(t){let r=ji(AA,{environmentInjector:this._applicationRef.injector,elementInjector:this._injector});return this._applicationRef.attachView(r.hostView),t.appendChild(r.location.nativeElement),r}_attachWindowComponent(t,r){let i=ji(RA,{environmentInjector:this._applicationRef.injector,elementInjector:this._injector,projectableNodes:r});return this._applicationRef.attachView(i.hostView),t.appendChild(i.location.nativeElement),i}_getContentRef(t,r,i,o,s){return i?i instanceof In?this._createFromTemplateRef(i,o):Gh(i)?this._createFromString(i):this._createFromComponent(t,r,i,o,s):new Zr([])}_createFromTemplateRef(t,r){let i={$implicit:r,close(s){r.close(s)},dismiss(s){r.dismiss(s)}},o=t.createEmbeddedView(i);return this._applicationRef.attachView(o),new Zr([o.rootNodes],o)}_createFromString(t){let r=this._document.createTextNode(`${t}`);return new Zr([[r]])}_createFromComponent(t,r,i,o,s){let a=ge.create({providers:[{provide:nr,useValue:o}],parent:t}),c=ji(i,{environmentInjector:r,elementInjector:a}),l=c.location.nativeElement;return s.scrollable&&l.classList.add("component-host-scrollable"),this._applicationRef.attachView(c.hostView),new Zr([[l]],c.hostView,c)}_setAriaHidden(t){let r=t.parentElement;r&&t!==this._document.body&&(Array.from(r.children).forEach(i=>{i!==t&&i.nodeName!=="SCRIPT"&&(this._ariaHiddenValues.set(i,i.getAttribute("aria-hidden")),i.setAttribute("aria-hidden","true"))}),this._setAriaHidden(r))}_revertAriaHidden(){this._ariaHiddenValues.forEach((t,r)=>{t?r.setAttribute("aria-hidden",t):r.removeAttribute("aria-hidden")}),this._ariaHiddenValues.clear()}_registerModalRef(t){let r=()=>{let i=this._modalRefs.indexOf(t);i>-1&&(this._modalRefs.splice(i,1),this._activeInstances.emit(this._modalRefs))};this._modalRefs.push(t),this._activeInstances.emit(this._modalRefs),t.result.then(r,r)}_registerWindowCmpt(t){this._windowCmpts.push(t),this._activeWindowCmptHasChanged.next(),t.onDestroy(()=>{let r=this._windowCmpts.indexOf(t);r>-1&&(this._windowCmpts.splice(r,1),this._activeWindowCmptHasChanged.next())})}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=_({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),NE=(()=>{class e{constructor(){this._injector=g(ge),this._modalStack=g(xA),this._config=g(TA)}open(t,r={}){let i=y(P(y({},this._config),{animation:this._config.animation}),r);return this._modalStack.open(this._injector,t,i)}get activeInstances(){return this._modalStack.activeInstances}dismissAll(t){this._modalStack.dismissAll(t)}hasOpenModals(){return this._modalStack.hasOpenModals()}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=_({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();var kl=class e{constructor(n){this.activeModal=n}color="";queenOption=d.QUEEN;rookOption=d.ROOK;bishopOption=d.BISHOP;knightOption=d.KNIGHT;getQueen(){return this.color==C.WHITE?d.WHITE_QUEEN:this.color==C.BLACK?d.BLACK_QUEEN:""}getRook(){return this.color==C.WHITE?d.WHITE_ROOK:this.color==C.BLACK?d.BLACK_ROOK:""}getBishop(){return this.color==C.WHITE?d.WHITE_BISHOP:this.color==C.BLACK?d.BLACK_BISHOP:""}getKnight(){return this.color==C.WHITE?d.WHITE_KNIGHT:this.color==C.BLACK?d.BLACK_KNIGHT:""}getSrc(n){return`piece/merida/${n}.svg`}confirmSelection(n){this.activeModal.close(n)}static \u0275fac=function(t){return new(t||e)(k(nr))};static \u0275cmp=ce({type:e,selectors:[["app-promotion-modal"]],decls:8,vars:4,consts:[[1,"d-flex","justify-content-center","align-items-center","flex-column"],[1,"text-primary"],[1,"squarePieceButton",3,"click","src"]],template:function(t,r){t&1&&(U(0,"div",0)(1,"h2",1),S(2,"Promotion - Select Piece"),q(),U(3,"div")(4,"img",2),Tt("click",function(){return r.confirmSelection(r.queenOption)}),q(),U(5,"img",2),Tt("click",function(){return r.confirmSelection(r.rookOption)}),q(),U(6,"img",2),Tt("click",function(){return r.confirmSelection(r.bishopOption)}),q(),U(7,"img",2),Tt("click",function(){return r.confirmSelection(r.knightOption)}),q()()()),t&2&&(v(4),tt("src",r.getSrc(r.getQueen()),Ze),v(),tt("src",r.getSrc(r.getRook()),Ze),v(),tt("src",r.getSrc(r.getBishop()),Ze),v(),tt("src",r.getSrc(r.getKnight()),Ze))},styles:[".squarePieceButton[_ngcontent-%COMP%]{width:10vh;height:10vh}"]})};var rr=class{queenSide=!0;kingSide=!0;removeBothCastlingRights(){this.queenSide=!1,this.kingSide=!1}};var io=class e{static PAWN=1;static KNIGHT=3;static BISHOP=3;static ROOK=5;static QUEEN=9;static KING=9999;static getMaterialFromPiece(n){return n==d.BLACK_PAWN||n==d.WHITE_PAWN?e.PAWN:n==d.BLACK_KNIGHT||n==d.WHITE_KNIGHT?e.KNIGHT:n==d.BLACK_BISHOP||n==d.WHITE_BISHOP?e.BISHOP:n==d.BLACK_ROOK||n==d.WHITE_ROOK?e.ROOK:n==d.BLACK_QUEEN||n==d.WHITE_QUEEN?e.QUEEN:n==d.BLACK_KING||n==d.WHITE_KING?e.KING:0}};var ks=class{isGameOver=!1;reason="None";winner="";gameScore=ye.IN_PROGRESS;isDraw(){return this.reason=="Stalemate"||this.reason=="Insufficient Material"||this.reason=="50-move rule"||this.reason=="Threefold repetition"}},ye=class{static WHITE_WON="1-0";static BLACK_WON="0-1";static DRAW="1/2-1/2";static IN_PROGRESS="*"},Ps=(p=>(p.None="None",p.Unknown="Unknown",p.Checkmate="Checkmate",p.Stalemate="Stalemate",p.InsufficientMaterial="Insufficient Material",p.FiftyMoveNoPawnMovementsOrCaptures="50-move rule",p.ThreefoldRepetition="Threefold repetition",p.Resignation="Resignation",p.Timeout="Timeout",p.Abandon="Abandon",p.TimeVsInsufficient="Timeout vs insufficient material",p.DrawAgreed="Agreement",p))(Ps||{});var oo=class e{static getFenPieceFromPiece(n){switch(n){case"wP":return"P";case"wR":return"R";case"wN":return"N";case"wB":return"B";case"wQ":return"Q";case"wK":return"K";case"bP":return"p";case"bR":return"r";case"bN":return"n";case"bB":return"b";case"bQ":return"q";case"bK":return"k";default:return""}}static getFenCastlingRights(n,t){if(!n.kingSide&&!n.queenSide&&!t.kingSide&&!t.queenSide)return"-";let r="";return n.kingSide&&(r+=e.getFenPieceFromPiece(d.WHITE_KING)),n.queenSide&&(r+=e.getFenPieceFromPiece(d.WHITE_QUEEN)),t.kingSide&&(r+=e.getFenPieceFromPiece(d.BLACK_KING)),t.queenSide&&(r+=e.getFenPieceFromPiece(d.BLACK_QUEEN)),r}};var An=class e{static CHECK="+";static CHECKMATE="#";static CAPTURE="x";static PROMOTION="=";static KINGSIDE_CASTLE="O-O";static QUEENSIDE_CASTLE="O-O-O";_piece="";_fromSquare="";_toSquare="";_promotion="";_capture=!1;_checkOrMate="";_castleKingside=!1;_castleQueenside=!1;addPiece(n){this._piece=n}addFromSquare(n){this._fromSquare=n}addToSquare(n){this._toSquare=n}addCheck(){this._checkOrMate=e.CHECK}addMate(){this._checkOrMate=e.CHECKMATE}addPromotion(n){this._promotion=n}addCapture(){this._capture=!0}addKingsideCastle(){this._castleKingside=!0}addQueensideCastle(){this._castleQueenside=!0}get(){let n="";return!this._castleKingside&&!this._castleQueenside?(this._piece!=d.PAWN&&(n+=this._piece),this._piece==d.PAWN&&this._capture?n+=this._fromSquare[0]:n+=this._fromSquare,this._capture&&(n+=e.CAPTURE),n+=this._toSquare,this._promotion&&(n+=e.PROMOTION+this._promotion)):(this._castleKingside&&(n+=e.KINGSIDE_CASTLE),this._castleQueenside&&(n+=e.QUEENSIDE_CASTLE)),this._checkOrMate&&(n+=this._checkOrMate),n}};var Q=class e{static DEFAULT_PIECE_STATE=[[d.BLACK_ROOK,d.BLACK_KNIGHT,d.BLACK_BISHOP,d.BLACK_QUEEN,d.BLACK_KING,d.BLACK_BISHOP,d.BLACK_KNIGHT,d.BLACK_ROOK],[d.BLACK_PAWN,d.BLACK_PAWN,d.BLACK_PAWN,d.BLACK_PAWN,d.BLACK_PAWN,d.BLACK_PAWN,d.BLACK_PAWN,d.BLACK_PAWN],[d.NONE,d.NONE,d.NONE,d.NONE,d.NONE,d.NONE,d.NONE,d.NONE],[d.NONE,d.NONE,d.NONE,d.NONE,d.NONE,d.NONE,d.NONE,d.NONE],[d.NONE,d.NONE,d.NONE,d.NONE,d.NONE,d.NONE,d.NONE,d.NONE],[d.NONE,d.NONE,d.NONE,d.NONE,d.NONE,d.NONE,d.NONE,d.NONE],[d.WHITE_PAWN,d.WHITE_PAWN,d.WHITE_PAWN,d.WHITE_PAWN,d.WHITE_PAWN,d.WHITE_PAWN,d.WHITE_PAWN,d.WHITE_PAWN],[d.WHITE_ROOK,d.WHITE_KNIGHT,d.WHITE_BISHOP,d.WHITE_QUEEN,d.WHITE_KING,d.WHITE_BISHOP,d.WHITE_KNIGHT,d.WHITE_ROOK]];static COORDS=[["a8","b8","c8","d8","e8","f8","g8","h8"],["a7","b7","c7","d7","e7","f7","g7","h7"],["a6","b6","c6","d6","e6","f6","g6","h6"],["a5","b5","c5","d5","e5","f5","g5","h5"],["a4","b4","c4","d4","e4","f4","g4","h4"],["a3","b3","c3","d3","e3","f3","g3","h3"],["a2","b2","c2","d2","e2","f2","g2","h2"],["a1","b1","c1","d1","e1","f1","g1","h1"]];static SIZE=8;static WHITE_PAWN_RANK=2;static BLACK_PAWN_RANK=7;static WHITE_PAWN_PROMOTE_RANK=8;static BLACK_PAWN_PROMOTE_RANK=1;static WHITE_QUEENSIDE_KNIGHT_SQUARE="b1";static WHITE_QUEENSIDE_BISHOP_SQUARE="c1";static WHITE_QUEENSIDE_ROOK_SQUARE="a1";static WHITE_KINGSIDE_BISHOP_SQUARE="f1";static WHITE_KINGSIDE_KNIGHT_SQUARE="g1";static WHITE_KINGSIDE_ROOK_SQUARE="h1";static WHITE_QUEEN_SQUARE="d1";static WHITE_KING_SQUARE="e1";static BLACK_QUEENSIDE_KNIGHT_SQUARE="b8";static BLACK_QUEENSIDE_BISHOP_SQUARE="c8";static BLACK_QUEENSIDE_ROOK_SQUARE="a8";static BLACK_KINGSIDE_KNIGHT_SQUARE="g8";static BLACK_KINGSIDE_BISHOP_SQUARE="f8";static BLACK_KINGSIDE_ROOK_SQUARE="h8";static BLACK_QUEEN_SQUARE="d8";static BLACK_KING_SQUARE="e8";static DRAW_BY_REPETITION_THRESHOLD=3;static DRAW_BY_NO_CAPTURES_OR_PAWN_MOVEMENTS_THRESHOLD=100;static _FEN_SPLIT_POSKEY_INDEX=2;static _BISHOP_VECTOR_X=[-1,-1,1,1];static _BISHOP_VECTOR_Y=[-1,1,-1,1];static _ROOK_VECTOR_X=[-1,1,0,0];static _ROOK_VECTOR_Y=[0,0,-1,1];static _QUEEN_KING_VECTOR_X=[-1,1,0,0,-1,-1,1,1];static _QUEEN_KING_VECTOR_Y=[0,0,-1,1,-1,1,-1,1];static _WHITE_EP_TRIGGERS=new Map([["a2-a4","a3"],["b2-b4","b3"],["c2-c4","c3"],["d2-d4","d3"],["e2-e4","e3"],["f2-f4","f3"],["g2-g4","g3"],["h2-h4","h3"]]);static _BLACK_EP_TRIGGERS=new Map([["a7-a5","a6"],["b7-b5","b6"],["c7-c5","c6"],["d7-d5","d6"],["e7-e5","e6"],["f7-f5","f6"],["g7-g5","g6"],["h7-h5","h6"]]);piecesWhiteCaptured=[];piecesBlackCaptured=[];pieceState;gameState=new ks;turn=!0;whiteCastlingRights=new rr;blackCastlingRights=new rr;enPassantSquare="";halfMovesWithoutPawnMovementsOrCaptures=0;fullMoveCounter=1;_previousPositionMap=new Map;constructor(n=e.DEFAULT_PIECE_STATE){if(this.pieceState=n,this.pieceState.length!=e.SIZE)throw"BOARD SHOULD BE OF SIZE "+e.SIZE;this.pieceState.forEach(t=>{if(t.length!=e.SIZE)throw"BOARD SHOULD BE OF SIZE "+e.SIZE}),this._previousPositionMap.set(this._getPositionKey(),1)}static findIndexFromCoordinate(n){let t=e.COORDS.findIndex(i=>i.includes(n));if(t===-1)return{rowIndex:-1,colIndex:-1};let r=e.COORDS[t].findIndex(i=>i===n);return{rowIndex:t,colIndex:r}}getLegalMoves(n){if(this.gameState.isGameOver)return[];let t=e.findIndexFromCoordinate(n),r=this.pieceState[t.rowIndex][t.colIndex];return r==""||r.startsWith(C.WHITE)&&!this.turn||r.startsWith(C.BLACK)&&this.turn?[]:this._getPotentiallyLegalMoves(n).filter(s=>{let a=this._lightweightCloneForCheckVerification();return e._playDummyMove(a,n,s),this.turn?!a.isInCheck(C.WHITE):!a.isInCheck(C.BLACK)})}completeMove(n,t,r=d.QUEEN){if(this.gameState.isGameOver||n==t)return{result:!1,notation:"",fromCoord:n,toCoord:t,piece:"",comment:""};let i=e.findIndexFromCoordinate(t),o=e.findIndexFromCoordinate(n),s=this.pieceState[o.rowIndex][o.colIndex];if(!this.getLegalMoves(n).includes(t))return{result:!1,notation:"",fromCoord:n,toCoord:t,piece:s,comment:""};let c=new An;c.addPiece(s[1]),c.addFromSquare(n),c.addToSquare(t);let l=this.pieceState[i.rowIndex][i.colIndex],u=!1;if((s==d.WHITE_PAWN||s==d.BLACK_PAWN||l!=d.NONE)&&(u=!0),t==this.enPassantSquare&&(s==d.WHITE_PAWN||s==d.BLACK_PAWN)&&(this.turn?this.pieceState[i.rowIndex+1][i.colIndex]="":this.pieceState[i.rowIndex-1][i.colIndex]="",this.turn?this.piecesWhiteCaptured.push(d.BLACK_PAWN):this.piecesBlackCaptured.push(d.WHITE_PAWN),c.addCapture()),this.enPassantSquare=this._getEnPassantSquareIfExists(n,t,this.turn),l!=""&&(c.addCapture(),s.startsWith(C.BLACK)&&this.piecesBlackCaptured.push(l),s.startsWith(C.WHITE)&&this.piecesWhiteCaptured.push(l)),s==d.WHITE_PAWN&&t.includes(e.WHITE_PAWN_PROMOTE_RANK.toString())||s==d.BLACK_PAWN&&t.includes(e.BLACK_PAWN_PROMOTE_RANK.toString())){switch(c.addPromotion(r),r){case d.QUEEN:s=s==d.WHITE_PAWN?d.WHITE_QUEEN:d.BLACK_QUEEN;break;case d.ROOK:s=s==d.WHITE_PAWN?d.WHITE_ROOK:d.BLACK_ROOK;break;case d.BISHOP:s=s==d.WHITE_PAWN?d.WHITE_BISHOP:d.BLACK_BISHOP;break;case d.KNIGHT:s=s==d.WHITE_PAWN?d.WHITE_KNIGHT:d.BLACK_KNIGHT;break}this.pieceState[i.rowIndex][i.colIndex]=s}if(this.pieceState[o.rowIndex][o.colIndex]="",this.pieceState[i.rowIndex][i.colIndex]=s,(this.turn==!0?s==d.WHITE_KING&&n==e.WHITE_KING_SQUARE&&t==e.WHITE_KINGSIDE_KNIGHT_SQUARE:s==d.BLACK_KING&&n==e.BLACK_KING_SQUARE&&t==e.BLACK_KINGSIDE_KNIGHT_SQUARE)&&(s==d.WHITE_KING?this.whiteCastlingRights.kingSide:this.blackCastlingRights.kingSide)){let h=s==d.WHITE_KING?e.findIndexFromCoordinate(e.WHITE_KINGSIDE_BISHOP_SQUARE):e.findIndexFromCoordinate(e.BLACK_KINGSIDE_BISHOP_SQUARE),m=s==d.WHITE_KING?e.findIndexFromCoordinate(e.WHITE_KINGSIDE_ROOK_SQUARE):e.findIndexFromCoordinate(e.BLACK_KINGSIDE_ROOK_SQUARE),E=s==d.WHITE_KING?d.WHITE_ROOK:d.BLACK_ROOK;this.pieceState[m.rowIndex][m.colIndex]=d.NONE,this.pieceState[h.rowIndex][h.colIndex]=E,s==d.WHITE_KING?this.whiteCastlingRights.removeBothCastlingRights():this.blackCastlingRights.removeBothCastlingRights(),c.addKingsideCastle()}if((this.turn==!0?s==d.WHITE_KING&&n==e.WHITE_KING_SQUARE&&t==e.WHITE_QUEENSIDE_BISHOP_SQUARE:s==d.BLACK_KING&&n==e.BLACK_KING_SQUARE&&t==e.BLACK_QUEENSIDE_BISHOP_SQUARE)&&(s==d.WHITE_KING?this.whiteCastlingRights.queenSide:this.blackCastlingRights.queenSide)){let h=s==d.WHITE_KING?e.findIndexFromCoordinate(e.WHITE_QUEEN_SQUARE):e.findIndexFromCoordinate(e.BLACK_QUEEN_SQUARE),m=s==d.WHITE_KING?e.findIndexFromCoordinate(e.WHITE_QUEENSIDE_ROOK_SQUARE):e.findIndexFromCoordinate(e.BLACK_QUEENSIDE_ROOK_SQUARE),E=s==d.WHITE_KING?d.WHITE_ROOK:d.BLACK_ROOK;this.pieceState[m.rowIndex][m.colIndex]=d.NONE,this.pieceState[h.rowIndex][h.colIndex]=E,s==d.WHITE_KING?this.whiteCastlingRights.removeBothCastlingRights():this.blackCastlingRights.removeBothCastlingRights(),c.addQueensideCastle()}(this.turn==!0?s==d.WHITE_KING:s==d.BLACK_KING)&&(this.turn==!0?this.whiteCastlingRights.removeBothCastlingRights():this.blackCastlingRights.removeBothCastlingRights()),(this.turn==!0?s==d.WHITE_ROOK:s==d.BLACK_ROOK)&&(this.turn&&n==e.WHITE_KINGSIDE_ROOK_SQUARE&&(this.whiteCastlingRights.kingSide=!1),this.turn&&n==e.WHITE_QUEENSIDE_ROOK_SQUARE&&(this.whiteCastlingRights.queenSide=!1),!this.turn&&n==e.BLACK_KINGSIDE_ROOK_SQUARE&&(this.blackCastlingRights.kingSide=!1),!this.turn&&n==e.BLACK_QUEENSIDE_ROOK_SQUARE&&(this.blackCastlingRights.queenSide=!1)),this.turn&&t==e.BLACK_KINGSIDE_ROOK_SQUARE&&(this.blackCastlingRights.kingSide=!1),this.turn&&t==e.BLACK_QUEENSIDE_ROOK_SQUARE&&(this.blackCastlingRights.queenSide=!1),!this.turn&&t==e.WHITE_KINGSIDE_ROOK_SQUARE&&(this.whiteCastlingRights.kingSide=!1),!this.turn&&t==e.WHITE_QUEENSIDE_ROOK_SQUARE&&(this.whiteCastlingRights.queenSide=!1),this.turn||this.fullMoveCounter++,u?this.halfMovesWithoutPawnMovementsOrCaptures=0:this.halfMovesWithoutPawnMovementsOrCaptures++,this.turn=!this.turn;let f=this._getPositionKey(),p=this._previousPositionMap.get(f);return p?this._previousPositionMap.set(f,p+1):this._previousPositionMap.set(f,1),this._checkIsGameOver(),this.gameState.isGameOver&&this.gameState.reason=="Checkmate"?c.addMate():this.isInCheck(this.turn?C.WHITE:C.BLACK)&&c.addCheck(),{result:!0,notation:c.get(),fromCoord:n,toCoord:t,piece:s,comment:""}}isInCheck(n){if(n!=C.BLACK&&n!=C.WHITE)return!1;let t=this.getKingCoordinate(n);return this.isSquareAttacked(t,C.getOpposite(n))}getKingCoordinate(n){if(n!=C.BLACK&&n!=C.WHITE)return"";let t=this.pieceState.findIndex(i=>i.includes(n==C.WHITE?d.WHITE_KING:d.BLACK_KING));if(t==-1)return"";let r=this.pieceState[t].findIndex(i=>i===(n==C.WHITE?d.WHITE_KING:d.BLACK_KING));return e.COORDS[t][r]}getMaterialAdvantage(){let n=this._getAllPiecesAndCoordsByColor(C.WHITE),t=this._getAllPiecesAndCoordsByColor(C.BLACK),r=0;return n.pieces.forEach(i=>{let o=io.getMaterialFromPiece(i);r+=o}),t.pieces.forEach(i=>{let o=io.getMaterialFromPiece(i);r-=o}),r}isSquareAttacked(n,t){if(t!=C.WHITE&&t!=C.BLACK)return!1;let{rowIndex:r,colIndex:i}=e.findIndexFromCoordinate(n),o=this._getVectorMoves(n,C.getOpposite(t),e._ROOK_VECTOR_X,e._ROOK_VECTOR_Y),s=this._getVectorMoves(n,C.getOpposite(t),e._QUEEN_KING_VECTOR_X,e._QUEEN_KING_VECTOR_Y),a=this._getVectorMoves(n,C.getOpposite(t),e._QUEEN_KING_VECTOR_X,e._QUEEN_KING_VECTOR_Y,1),c=this._getVectorMoves(n,C.getOpposite(t),e._BISHOP_VECTOR_X,e._BISHOP_VECTOR_Y),l=this._getPotentiallyLegalKnightMoves(n,C.getOpposite(t)),u=t+d.ROOK;for(let T of o){let X=e.findIndexFromCoordinate(T);if(this.pieceState[X.rowIndex][X.colIndex]==u)return!0}let f=t+d.QUEEN;for(let T of s){let X=e.findIndexFromCoordinate(T);if(this.pieceState[X.rowIndex][X.colIndex]==f)return!0}let p=t+d.KING;for(let T of a){let X=e.findIndexFromCoordinate(T);if(this.pieceState[X.rowIndex][X.colIndex]==p)return!0}let h=t+d.BISHOP;for(let T of c){let X=e.findIndexFromCoordinate(T);if(this.pieceState[X.rowIndex][X.colIndex]==h)return!0}let m=t+d.KNIGHT;for(let T of l){let X=e.findIndexFromCoordinate(T);if(this.pieceState[X.rowIndex][X.colIndex]==m)return!0}let E=t+d.PAWN,I=t==C.BLACK?this.pieceState[r-1]:this.pieceState[r+1];if(I){let T=I[i-1],X=I[i+1];if(T&&T==E||X&&X==E)return!0}return!1}getFEN(){let n="";for(let t=0;t<this.pieceState.length;t++){let r=this.pieceState[t],i=0;for(let o=0;o<r.length;o++){let s=r[o];s==d.NONE?i+=1:(i>0&&(n+=i.toString(),i=0),n+=oo.getFenPieceFromPiece(s))}i>0&&(n+=i.toString()),t!=this.pieceState.length-1&&(n+="/")}return n+=" ",n+=this.turn?C.WHITE:C.BLACK,n+=" ",n+=oo.getFenCastlingRights(this.whiteCastlingRights,this.blackCastlingRights),n+=" ",n+=this.enPassantSquare==""?"-":this.enPassantSquare,n+=" ",n+=this.halfMovesWithoutPawnMovementsOrCaptures,n+=" ",n+=this.fullMoveCounter,n}isEnPassantCaptureActuallyPossible(){if(this.enPassantSquare=="")return!1;let n=e.findIndexFromCoordinate(this.enPassantSquare);if(n){let t=this.turn?this.pieceState[n.rowIndex+1]:this.pieceState[n.rowIndex-1],r=t[n.colIndex-1],i=t[n.colIndex+1];if(r&&(this.turn?r==d.WHITE_PAWN:r==d.BLACK_PAWN)||i&&(this.turn?i==d.WHITE_PAWN:i==d.BLACK_PAWN))return!0}return!1}getFullDeepCopy(){let n=new e;n.piecesWhiteCaptured=structuredClone(this.piecesWhiteCaptured),n.piecesBlackCaptured=structuredClone(this.piecesBlackCaptured),n.pieceState=structuredClone(this.pieceState);let t=new ks;return t.isGameOver=this.gameState.isGameOver,t.reason=this.gameState.reason,n.gameState=t,n.turn=this.turn,n.enPassantSquare=this.enPassantSquare,n.whiteCastlingRights=new rr,n.whiteCastlingRights.kingSide=this.whiteCastlingRights.kingSide,n.whiteCastlingRights.queenSide=this.whiteCastlingRights.queenSide,n.blackCastlingRights=new rr,n.blackCastlingRights.kingSide=this.blackCastlingRights.kingSide,n.blackCastlingRights.queenSide=this.blackCastlingRights.queenSide,n.halfMovesWithoutPawnMovementsOrCaptures=this.halfMovesWithoutPawnMovementsOrCaptures,n.fullMoveCounter=this.fullMoveCounter,n._previousPositionMap=structuredClone(this._previousPositionMap),n}_getPotentiallyLegalMoves(n){let t=e.findIndexFromCoordinate(n),r=this.pieceState[t.rowIndex][t.colIndex],i=[];return(r==d.WHITE_PAWN||r==d.BLACK_PAWN)&&(i=this._getPotentiallyLegalPawnMoves(n,r[0])),(r==d.WHITE_KNIGHT||r==d.BLACK_KNIGHT)&&(i=this._getPotentiallyLegalKnightMoves(n,r[0])),(r==d.WHITE_BISHOP||r==d.BLACK_BISHOP)&&(i=this._getPotentiallyLegalBishopMoves(n,r[0])),(r==d.WHITE_ROOK||r==d.BLACK_ROOK)&&(i=this._getPotentiallyLegalRookMoves(n,r[0])),(r==d.WHITE_QUEEN||r==d.BLACK_QUEEN)&&(i=this._getPotentiallyLegalQueenMoves(n,r[0])),(r==d.WHITE_KING||r==d.BLACK_KING)&&(i=this._getPotentiallyLegalKingMoves(n,r[0])),i}_getPotentiallyLegalPawnMoves(n,t){let{rowIndex:r,colIndex:i}=e.findIndexFromCoordinate(n),o=[],s=t==C.WHITE?this.pieceState.at(r-1):this.pieceState.at(r+1),a=Number(n[1]);if(s){let c=s.at(i);if(c==""&&(t==C.WHITE?o.push(e.COORDS[r-1][i]):o.push(e.COORDS[r+1][i])),i!=0){let l=s.at(i-1),u=t==C.WHITE?e.COORDS[r-1][i-1]:e.COORDS[r+1][i-1];(l?.startsWith(t==C.WHITE?C.BLACK:C.WHITE)||u==this.enPassantSquare)&&o.push(u)}if(i!=s.length-1){let l=s.at(i+1),u=t==C.WHITE?e.COORDS[r-1][i+1]:e.COORDS[r+1][i+1];(l?.startsWith(t==C.WHITE?C.BLACK:C.WHITE)||u==this.enPassantSquare)&&o.push(u)}if(t==C.WHITE?a==e.WHITE_PAWN_RANK:a===e.BLACK_PAWN_RANK){let l=t==C.WHITE?this.pieceState.at(r-2):this.pieceState.at(r+2);l&&l.at(i)==""&&c==""&&(t==C.WHITE?o.push(e.COORDS[r-2][i]):o.push(e.COORDS[r+2][i]))}}return o}_getPotentiallyLegalKnightMoves(n,t){let{rowIndex:r,colIndex:i}=e.findIndexFromCoordinate(n),o=[],s=[2,1,2,1,-1,-2,-1,-2],a=[-1,-2,1,2,-2,-1,2,1];for(let c=0;c<s.length;c++){let l=this.pieceState[r+s[c]];if(l){let u=l[i+a[c]];u!=null&&((t==C.WHITE?u.startsWith(C.BLACK):u.startsWith(C.WHITE))||u=="")&&o.push(e.COORDS[r+s[c]][i+a[c]])}}return o}_getPotentiallyLegalBishopMoves(n,t){return this._getVectorMoves(n,t,e._BISHOP_VECTOR_X,e._BISHOP_VECTOR_Y)}_getPotentiallyLegalRookMoves(n,t){return this._getVectorMoves(n,t,e._ROOK_VECTOR_X,e._ROOK_VECTOR_Y)}_getPotentiallyLegalQueenMoves(n,t){return this._getVectorMoves(n,t,e._QUEEN_KING_VECTOR_X,e._QUEEN_KING_VECTOR_Y)}_getPotentiallyLegalKingMoves(n,t){let{rowIndex:r,colIndex:i}=e.findIndexFromCoordinate(n),o=this.pieceState[r][i],s=this._getVectorMoves(n,t,e._QUEEN_KING_VECTOR_X,e._QUEEN_KING_VECTOR_Y,1);if(!this.isInCheck(t)){if(this.turn==!0?this.whiteCastlingRights.kingSide:this.blackCastlingRights.kingSide){let a=e.findIndexFromCoordinate(this.turn==!0?e.WHITE_KINGSIDE_KNIGHT_SQUARE:e.BLACK_KINGSIDE_KNIGHT_SQUARE),c=e.findIndexFromCoordinate(this.turn==!0?e.WHITE_KINGSIDE_BISHOP_SQUARE:e.BLACK_KINGSIDE_BISHOP_SQUARE),l=this.turn==!0?e.WHITE_KING_SQUARE:e.BLACK_KING_SQUARE;this.pieceState[a.rowIndex][a.colIndex]==""&&this.pieceState[c.rowIndex][c.colIndex]==""&&!this.isSquareAttacked(t==C.WHITE?e.WHITE_KINGSIDE_BISHOP_SQUARE:e.BLACK_KINGSIDE_BISHOP_SQUARE,C.getOpposite(t))&&n==l&&(this.turn==!0?s.push(e.WHITE_KINGSIDE_KNIGHT_SQUARE):s.push(e.BLACK_KINGSIDE_KNIGHT_SQUARE))}if(this.turn==!0?this.whiteCastlingRights.queenSide:this.blackCastlingRights.queenSide){let a=e.findIndexFromCoordinate(this.turn==!0?e.WHITE_QUEENSIDE_KNIGHT_SQUARE:e.BLACK_QUEENSIDE_KNIGHT_SQUARE),c=e.findIndexFromCoordinate(this.turn==!0?e.WHITE_QUEENSIDE_BISHOP_SQUARE:e.BLACK_QUEENSIDE_BISHOP_SQUARE),l=e.findIndexFromCoordinate(this.turn==!0?e.WHITE_QUEEN_SQUARE:e.BLACK_QUEEN_SQUARE),u=this.turn==!0?e.WHITE_KING_SQUARE:e.BLACK_KING_SQUARE;this.pieceState[a.rowIndex][a.colIndex]==""&&this.pieceState[c.rowIndex][c.colIndex]==""&&this.pieceState[l.rowIndex][l.colIndex]==""&&!this.isSquareAttacked(t==C.WHITE?e.WHITE_QUEEN_SQUARE:e.BLACK_QUEEN_SQUARE,C.getOpposite(t))&&n==u&&(this.turn==!0?s.push(e.WHITE_QUEENSIDE_BISHOP_SQUARE):s.push(e.BLACK_QUEENSIDE_BISHOP_SQUARE))}}return s}_getVectorMoves(n,t,r,i,o=e.SIZE){let{rowIndex:s,colIndex:a}=e.findIndexFromCoordinate(n),c=[];for(let l=0;l<r.length;l++){let u=r[l],f=i[l],p=0;for(let h=u,m=f;p<o;h+=u,m+=f,p++){let E=this.pieceState[s+h];if(E){let I=E[a+m];if(I!=null){if(t==C.WHITE?I.startsWith(C.BLACK):I.startsWith(C.WHITE)){c.push(e.COORDS[s+h][a+m]);break}if(I==""&&c.push(e.COORDS[s+h][a+m]),t==C.WHITE?I.startsWith(C.WHITE):I.startsWith(C.BLACK))break}}}}return c}_playerHasLegalMoves(n){let t=n?C.WHITE:C.BLACK,r=[],i=[];for(let o=0;o<e.COORDS.length;o++)for(let s=0;s<e.COORDS[o].length;s++)this.pieceState[o][s].startsWith(t)&&r.push(e.COORDS[o][s]);return r.forEach(o=>{let s=this.getLegalMoves(o);i.push(...s)}),i.length!=0}_getAllPiecesAndCoordsByColor(n){if(n!=C.WHITE&&n!=C.BLACK)return{pieces:[],coords:[]};let t=[],r=[];for(let i=0;i<e.COORDS.length;i++)for(let o=0;o<e.COORDS[i].length;o++){let s=this.pieceState[i][o];s.startsWith(n)&&(t.push(s),r.push(e.COORDS[i][o]))}return{pieces:t,coords:r}}_isDarkColoredSquare(n,t){return(n+t)%2==1}static _playDummyMove(n,t,r,i=d.QUEEN){let o=e.findIndexFromCoordinate(r),s=e.findIndexFromCoordinate(t),a=n.pieceState[s.rowIndex][s.colIndex],c=n.pieceState[o.rowIndex][o.colIndex];if(r==n.enPassantSquare&&(a==d.WHITE_PAWN||a==d.BLACK_PAWN)&&(n.turn?n.pieceState[o.rowIndex+1][o.colIndex]="":n.pieceState[o.rowIndex-1][o.colIndex]="",n.turn?n.piecesWhiteCaptured.push(d.BLACK_PAWN):n.piecesBlackCaptured.push(d.WHITE_PAWN)),n.pieceState[s.rowIndex][s.colIndex]="",n.pieceState[o.rowIndex][o.colIndex]=a,(n.turn==!0?a==d.WHITE_KING&&t==e.WHITE_KING_SQUARE&&r==e.WHITE_KINGSIDE_KNIGHT_SQUARE:a==d.BLACK_KING&&t==e.BLACK_KING_SQUARE&&r==e.BLACK_KINGSIDE_KNIGHT_SQUARE)&&(a==d.WHITE_KING?n.whiteCastlingRights.kingSide:n.blackCastlingRights.kingSide)){let l=a==d.WHITE_KING?e.findIndexFromCoordinate(e.WHITE_KINGSIDE_BISHOP_SQUARE):e.findIndexFromCoordinate(e.BLACK_KINGSIDE_BISHOP_SQUARE),u=a==d.WHITE_KING?e.findIndexFromCoordinate(e.WHITE_KINGSIDE_ROOK_SQUARE):e.findIndexFromCoordinate(e.BLACK_KINGSIDE_ROOK_SQUARE),f=a==d.WHITE_KING?d.WHITE_ROOK:d.BLACK_ROOK;n.pieceState[u.rowIndex][u.colIndex]=d.NONE,n.pieceState[l.rowIndex][l.colIndex]=f}if((n.turn==!0?a==d.WHITE_KING&&t==e.WHITE_KING_SQUARE&&r==e.WHITE_QUEENSIDE_BISHOP_SQUARE:a==d.BLACK_KING&&t==e.BLACK_KING_SQUARE&&r==e.BLACK_QUEENSIDE_BISHOP_SQUARE)&&(a==d.WHITE_KING?n.whiteCastlingRights.queenSide:n.blackCastlingRights.queenSide)){let l=a==d.WHITE_KING?e.findIndexFromCoordinate(e.WHITE_QUEEN_SQUARE):e.findIndexFromCoordinate(e.BLACK_QUEEN_SQUARE),u=a==d.WHITE_KING?e.findIndexFromCoordinate(e.WHITE_QUEENSIDE_ROOK_SQUARE):e.findIndexFromCoordinate(e.BLACK_QUEENSIDE_ROOK_SQUARE),f=a==d.WHITE_KING?d.WHITE_ROOK:d.BLACK_ROOK;n.pieceState[u.rowIndex][u.colIndex]=d.NONE,n.pieceState[l.rowIndex][l.colIndex]=f}return!0}_getEnPassantSquareIfExists(n,t,r){let i=n+"-"+t,o=r?e._WHITE_EP_TRIGGERS.get(i):e._BLACK_EP_TRIGGERS.get(i);return o??""}_lightweightCloneForCheckVerification(){let n=new e;return n.pieceState=structuredClone(this.pieceState),n.turn=this.turn,n.enPassantSquare=this.enPassantSquare,n.whiteCastlingRights=structuredClone(this.whiteCastlingRights),n.blackCastlingRights=structuredClone(this.blackCastlingRights),n}_checkIsGameOver(){let n=this._playerHasLegalMoves(this.turn),t=this.turn?C.WHITE:C.BLACK,r=this.isInCheck(t);!n&&r&&(this.gameState.isGameOver=!0,this.gameState.reason="Checkmate",this.gameState.winner=C.getOpposite(t),t==C.WHITE&&(this.gameState.gameScore=ye.BLACK_WON),t==C.BLACK&&(this.gameState.gameScore=ye.WHITE_WON)),!n&&!r&&(this.gameState.isGameOver=!0,this.gameState.reason="Stalemate",this.gameState.gameScore=ye.DRAW);let i=this._getAllPiecesAndCoordsByColor(C.WHITE),o=this._getAllPiecesAndCoordsByColor(C.BLACK),s=i.pieces.length==1&&i.pieces[0]==d.WHITE_KING&&o.pieces.length==1&&o.pieces[0]==d.BLACK_KING,a=i.pieces.length==1&&i.pieces[0]==d.WHITE_KING&&o.pieces.length==2&&o.pieces.some(f=>f==d.BLACK_BISHOP)||o.pieces.length==1&&o.pieces[0]==d.BLACK_KING&&i.pieces.length==2&&i.pieces.some(f=>f==d.WHITE_BISHOP),c=i.pieces.length==1&&i.pieces[0]==d.WHITE_KING&&o.pieces.length==2&&o.pieces.some(f=>f==d.BLACK_KNIGHT)||o.pieces.length==1&&o.pieces[0]==d.BLACK_KING&&i.pieces.length==2&&i.pieces.some(f=>f==d.WHITE_KNIGHT),l=!1;if(i.pieces.length==2&&i.pieces.some(f=>f==d.WHITE_KING)&&i.pieces.some(f=>f==d.WHITE_BISHOP)&&o.pieces.length==2&&o.pieces.some(f=>f==d.BLACK_KING)&&o.pieces.some(f=>f==d.BLACK_BISHOP)){let f=i.coords[i.pieces.findIndex(T=>T===d.WHITE_BISHOP)],p=e.findIndexFromCoordinate(f),h=o.coords[o.pieces.findIndex(T=>T===d.BLACK_BISHOP)],m=e.findIndexFromCoordinate(h),E=this._isDarkColoredSquare(p.rowIndex,p.colIndex),I=this._isDarkColoredSquare(m.rowIndex,m.colIndex);E==I&&(l=!0)}(s||a||c||l)&&(this.gameState.isGameOver=!0,this.gameState.reason="Insufficient Material"),this.halfMovesWithoutPawnMovementsOrCaptures>=e.DRAW_BY_NO_CAPTURES_OR_PAWN_MOVEMENTS_THRESHOLD&&(this.gameState.isGameOver=!0,this.gameState.reason="50-move rule",this.gameState.gameScore=ye.DRAW);for(let f of this._previousPositionMap.keys()){let p=this._previousPositionMap.get(f);if(p&&p>=e.DRAW_BY_REPETITION_THRESHOLD){this.gameState.isGameOver=!0,this.gameState.reason="Threefold repetition",this.gameState.gameScore=ye.DRAW;break}}}_getPositionKey(){let n=this.getFEN().split(" "),t="";for(let r=0;r<=e._FEN_SPLIT_POSKEY_INDEX;r++)t+=n[r],t+=" ";return this.isEnPassantCaptureActuallyPossible()?t+=this.enPassantSquare:t+="-",t}};var he=class e{static CLICK_TO_MOVE="Chonse2_ClickToMove";static SAVED_USERNAMES="Chonse2_SavedUsernames";static getBoolean(n,t=!1){let r=window.localStorage.getItem(n);return r?r==="true":(e.setBoolean(n,t),t)}static setBoolean(n,t){window.localStorage.setItem(n,t.toString())}static getStringArray(n,t=[]){let r=window.localStorage.getItem(n);return r?JSON.parse(r):(e.setStringArray(n,t),t)}static setStringArray(n,t){window.localStorage.setItem(n,JSON.stringify(t))}};var Fs=class{event="-";site="-";date="-";round="-";white="White";black="Black";result="";whiteElo="";blackElo="";eco="";termination="";timeControl="";otherFields=new Map};var rp=(t=>(t.Chesscom="Chess.com",t.Manual="Manual PGN",t))(rp||{});var Nn=class e{pgnHeaders;mainStateStack;mainStackPointer;mainMoveStack;divergenceStack;divergenceStackPointer;divergenceMoveStack;squareHighlightStatuses;arrows;isFlipped;isReadOnly=!1;constructor(n=[new Q],t=new Fs){this.pgnHeaders=t,this.squareHighlightStatuses=e.initializeHighlightStatuses(),this.arrows=[],this.isFlipped=!1,this.mainStateStack=[],this.mainStateStack.push(...n),this.mainStackPointer=0,this.mainMoveStack=[],this.divergenceStack=[],this.divergenceStackPointer=-1,this.divergenceMoveStack=[]}pushState(n,t){this.mainStackPointer!=this.mainStateStack.length-1||this.isReadOnly?(this.divergenceStack.push(n),this.divergenceMoveStack.push(t),this.divergenceStackPointer++):(this.mainStateStack.push(n),this.mainMoveStack.push(t),this.mainStackPointer++)}getCurrentState(){return this.divergenceStack.length!=0?this.divergenceStack[this.divergenceStackPointer]:this.mainStateStack[this.mainStackPointer]}getMostRecentMove(){return this.divergenceStackPointer>=0?this.divergenceMoveStack[this.divergenceStackPointer]:this.mainStackPointer>0?this.mainMoveStack[this.mainStackPointer-1]:{result:!1,notation:"N/A",fromCoord:"",toCoord:"",piece:d.NONE,comment:""}}getFutureMove(){return this.divergenceStackPointer+1<this.divergenceMoveStack.length?this.divergenceMoveStack[this.divergenceStackPointer+1]:this.mainStackPointer<this.mainMoveStack.length?this.mainMoveStack[this.mainStackPointer]:{result:!1,notation:"N/A",fromCoord:"",toCoord:"",piece:d.NONE,comment:""}}goBackToStart(){this.mainStackPointer=0,this.divergenceStack.length=0,this.divergenceMoveStack.length=0,this.divergenceStackPointer=-1}goBack(){if(this.divergenceStack.length==0){if(this.mainStackPointer==0)return;this.mainStackPointer--}else this.divergenceStack.pop(),this.divergenceMoveStack.pop(),this.divergenceStackPointer--}goForward(){this.divergenceStack.length==0&&this.mainStackPointer!=this.mainStateStack.length-1&&this.mainStackPointer++}goForwardToEnd(){this.divergenceStack.length==0&&this.mainStackPointer!=this.mainStateStack.length-1&&(this.mainStackPointer=this.mainStateStack.length-1)}static parsePGN(n){let t=[],r=[],i=new Fs,o=new e,s=n.split(`
`),a=!0;for(let c of s)if(a&&(c==""||!c.startsWith("[")&&!c.endsWith("]"))&&(a=!1),a){if(!c.startsWith("{")){let l=c.slice(1,-1),u=l.indexOf(" "),f=l.slice(0,u),p=l.slice(u+1),h=p.startsWith('"')&&p.endsWith('"')?p.slice(1,-1):p;switch(f){case"Event":i.event=h;break;case"Site":i.site=h;break;case"Date":i.date=h;break;case"Round":i.round=h;break;case"White":i.white=h;break;case"Black":i.black=h;break;case"Result":i.result=h;break;case"WhiteElo":i.whiteElo=h;break;case"BlackElo":i.blackElo=h;break;case"ECO":i.eco=h;break;case"Termination":i.termination=h;break;case"TimeControl":i.timeControl=h;break;default:i.otherFields.set(f,h);break}}}else if(c!=""){let l=!1,u="",f=c.split(" ");for(let p of f){if(l){p.includes("}")&&(u+=p,u=u.replace(/[()\[\]{}<>]/g,""),l=!1);continue}if(p.startsWith("{")&&!p.includes("}")){l=!0,u+=p;continue}if(p==ye.WHITE_WON||p==ye.BLACK_WON||p==ye.DRAW||p==ye.IN_PROGRESS)break;if(/^\d+\.(\.\.)?$/.test(p)||(/^\d+\..+/.test(p)&&(p=p.replace(/^\d+\.+/,"")),p.startsWith("$")||/^[!?]+$/.test(p)))continue;t.length==0&&t.push(new Q);let h=t[t.length-1].getFullDeepCopy(),m=h.turn,E=m?C.WHITE:C.BLACK,I={result:!1,notation:"",fromCoord:"",toCoord:"",piece:"",comment:""};if(p=="O-O"||p=="O-O+"||p=="O-O#"){let nt=m?Q.WHITE_KING_SQUARE:Q.BLACK_KING_SQUARE,hn=m?Q.WHITE_KINGSIDE_KNIGHT_SQUARE:Q.BLACK_KINGSIDE_KNIGHT_SQUARE;I=h.completeMove(nt,hn),t.push(h),r.push(I);continue}if(p=="O-O-O"||p=="O-O-O+"||p=="O-O-O#"){let nt=m?Q.WHITE_KING_SQUARE:Q.BLACK_KING_SQUARE,hn=m?Q.WHITE_QUEENSIDE_BISHOP_SQUARE:Q.BLACK_QUEENSIDE_BISHOP_SQUARE;I=h.completeMove(nt,hn),t.push(h),r.push(I);continue}p=p.replace(/[+#?!]+$/g,"");let T=/^(?:([KQRBN])?([a-h])?([1-8])?(x)?([a-h][1-8])(?:=([QRBN]))?)$/,X=p.match(T);if(!X)throw new Error(`Invalid SAN: ${p}`);let[ei,$E,WE,GE,qE,zE,KE]=X,or={piece:$E??d.PAWN,toCoordinate:zE,fromFile:WE??null,fromRank:GE??null,isCapture:!!qE,promotion:KE??null},QE=E+or.piece,Wl=[];for(let nt=0;nt<h.pieceState.length;nt++){let hn=h.pieceState[nt];for(let ti=0;ti<hn.length;ti++)hn[ti]==QE&&(or.fromFile!=null&&String.fromCharCode(97+ti)!=or.fromFile||or.fromRank!=null&&(Q.SIZE-nt).toString()!=or.fromRank||Wl.push(Q.COORDS[nt][ti]))}let Gl=[];for(let nt=0;nt<Wl.length;nt++){let hn=Wl[nt];h.getLegalMoves(hn).includes(or.toCoordinate)&&Gl.push(hn)}if(Gl.length>1)throw"Illegal move";I=h.completeMove(Gl[0],or.toCoordinate),I.comment=u,u="",t.push(h),r.push(I)}}if(t.length==0)throw"PGN parse invalid";return o.pgnHeaders=i,o.mainMoveStack=r,o.mainStateStack=t,o.isReadOnly=!0,console.log(r),o}static initializeHighlightStatuses(){let n=[];for(let t=0;t<Q.SIZE;t++){let r=[];for(let i=0;i<Q.SIZE;i++)r[i]=!1;n.push(r)}return n}};var Rt=class e{static BASE_PATH="sounds/";static CAPTURE=this.BASE_PATH+"capture.mp3";static CHECK=this.BASE_PATH+"check.mp3";static CHECKMATE=this.BASE_PATH+"checkmate.mp3";static MOVE=this.BASE_PATH+"move.mp3";static START=this.BASE_PATH+"start.mp3";static playSound(n){new Audio(n).play().catch(r=>{console.error("Audio playback failed:",r)})}static playSoundForMove(n){if(n.includes(An.CHECKMATE)){e.playSound(e.CHECK),setTimeout(()=>{e.playSound(e.CHECKMATE)},400);return}if(n.includes(An.CHECK)){e.playSound(e.CHECK);return}if(n.includes(An.CAPTURE)){e.playSound(e.CAPTURE);return}e.playSound(e.MOVE)}};var Pl=class{url;pgn;time_control;end_time;rated;tcn;uuid;initial_setup;fen;time_class;rules;white;black;eco;constructor(n){this.url=n.url,this.pgn=n.pgn,this.time_control=n.time_control,this.end_time=n.end_time,this.rated=n.rated,this.tcn=n.tcn,this.uuid=n.uuid,this.initial_setup=n.initial_setup,this.fen=n.fen,this.time_class=n.time_class,this.rules=n.rules,this.white=new Fl(n.white),this.black=new Fl(n.black),this.eco=n.eco}getScore(){return this.white.result=="win"?ye.WHITE_WON:this.black.result=="win"?ye.BLACK_WON:ye.DRAW}getReason(){let n=this.getScore(),t="";return n==ye.WHITE_WON&&(t=this.black.result),n==ye.BLACK_WON&&(t=this.white.result),n==ye.DRAW&&(t=this.white.result),t.includes("checkmate")?"Checkmate":t.includes("stalemate")?"Stalemate":t.includes("resign")?"Resignation":t.includes("abandon")?"Abandon":t.includes("timeout")?"Timeout":t.includes("timevsinsufficient")?"Timeout vs insufficient material":t.includes("insufficient")?"Insufficient Material":t.includes("repetition")?"Threefold repetition":t.includes("50move")?"50-move rule":"Unknown"}formatTimeControl(){try{if(this.time_control.includes("+")){let[n,t]=this.time_control.split("+");return`${Number(n)/60}|${t}`}if(this.time_control.includes("/")){let[n,t]=this.time_control.split("/"),r=Number(t)/86400;return`${n} move(s) in ${r} day(s)`}return`${Number(this.time_control)/60}`}catch(n){}return this.time_control}formatDate(){return new Date(this.end_time*1e3).toLocaleString()}},Fl=class{rating;result;username;uuid;"@id";constructor(n){this.rating=n.rating,this.result=n.result,this.username=n.username,this.uuid=n.uuid,this["@id"]=n["@id"]}};var Xr=class e{static BASE_API="";static _getBaseEndpointForUser(n){return`https://api.chess.com/pub/player/${n}/games/archives`}static getGamesForUser(n){return Z(this,null,function*(){try{let t=e._getBaseEndpointForUser(n),i=yield(yield fetch(t)).json(),o=i.archives[i.archives.length-1];return(yield(yield fetch(o)).json()).games.map(l=>new Pl(l)).reverse()}catch(t){}return[]})}static getUserGameById(n,t){return Z(this,null,function*(){let i=(yield this.getGamesForUser(n)).filter(o=>o.url.includes(t));if(i[0])return i[0]})}};var xE="/chonse2";var ir=class{static CHESSCOM_SOURCE="chesscom";static generateGameUrl(n,t,r){return`${window.location.origin}${xE}/game/${n}/${r}/${t}`}};var OE=["toast-component",""];function OA(e,n){if(e&1){let t=ht();U(0,"button",2),Tt("click",function(){re(t);let i=D();return ie(i.remove())}),U(1,"span",3),S(2,"\xD7"),q()()}}function kA(e,n){if(e&1&&(es(0),S(1),Fc()),e&2){let t=D(2);v(),pe("[",t.duplicatesCount+1,"]")}}function PA(e,n){if(e&1&&(U(0,"div"),S(1),W(2,kA,2,1,"ng-container"),q()),e&2){let t=D(),r=cn(0);Fe(r.titleClass),Ye("aria-label",t.title()),v(),pe(" ",t.title()," "),v(),G(t.duplicatesCount?2:-1)}}function FA(e,n){if(e&1&&Xe(0,"div",6),e&2){let t=D(2),r=cn(0);Fe(r.messageClass),tt("innerHTML",t.message(),bc)}}function LA(e,n){if(e&1&&(U(0,"div",7),S(1),q()),e&2){let t=D(2),r=cn(0);Fe(r.messageClass),Ye("aria-label",t.message()),v(),pe(" ",t.message()," ")}}function BA(e,n){if(e&1&&W(0,FA,1,3,"div",4)(1,LA,2,4,"div",5),e&2){D();let t=cn(0);G(t.enableHtml?0:1)}}function VA(e,n){if(e&1&&(U(0,"div"),Xe(1,"div",8),q()),e&2){let t=D();v(),an("width",t.width()+"%")}}function jA(e,n){if(e&1){let t=ht();U(0,"button",2),Tt("click",function(){re(t);let i=D();return ie(i.remove())}),U(1,"span",3),S(2,"\xD7"),q()()}}function HA(e,n){if(e&1&&(es(0),S(1),Fc()),e&2){let t=D(2);v(),pe("[",t.duplicatesCount+1,"]")}}function UA(e,n){if(e&1&&(U(0,"div"),S(1),W(2,HA,2,1,"ng-container"),q()),e&2){let t=D(),r=cn(0);Fe(r.titleClass),Ye("aria-label",t.title()),v(),pe(" ",t.title()," "),v(),G(t.duplicatesCount?2:-1)}}function $A(e,n){if(e&1&&Xe(0,"div",6),e&2){let t=D(2),r=cn(0);Fe(r.messageClass),tt("innerHTML",t.message(),bc)}}function WA(e,n){if(e&1&&(U(0,"div",7),S(1),q()),e&2){let t=D(2),r=cn(0);Fe(r.messageClass),Ye("aria-label",t.message()),v(),pe(" ",t.message()," ")}}function GA(e,n){if(e&1&&W(0,$A,1,3,"div",4)(1,WA,2,4,"div",5),e&2){D();let t=cn(0);G(t.enableHtml?0:1)}}function qA(e,n){if(e&1&&(U(0,"div"),Xe(1,"div",8),q()),e&2){let t=D();v(),an("width",t.width()+"%")}}var Ls=class{toastId;config;message;title;toastType;toastRef;_onTap=new $;_onAction=new $;constructor(n,t,r,i,o,s){this.toastId=n,this.config=t,this.message=r,this.title=i,this.toastType=o,this.toastRef=s,this.toastRef.afterClosed().subscribe(()=>{this._onAction.complete(),this._onTap.complete()})}triggerTap(){this._onTap.next(),this.config.tapToDismiss&&this._onTap.complete()}onTap(){return this._onTap.asObservable()}triggerAction(n){this._onAction.next(n)}onAction(){return this._onAction.asObservable()}},kE={maxOpened:0,autoDismiss:!1,newestOnTop:!0,preventDuplicates:!1,countDuplicates:!1,resetTimeoutOnDuplicate:!1,includeTitleDuplicates:!1,iconClasses:{error:"toast-error",info:"toast-info",success:"toast-success",warning:"toast-warning"},closeButton:!1,disableTimeOut:!1,timeOut:5e3,extendedTimeOut:1e3,enableHtml:!1,progressBar:!1,toastClass:"ngx-toastr",positionClass:"toast-top-right",titleClass:"toast-title",messageClass:"toast-message",easing:"ease-in",easeTime:300,tapToDismiss:!0,onActivateTick:!1,progressAnimation:"decreasing"},PE=new w("ToastConfig"),ip=class{_attachedHost;component;viewContainerRef;injector;constructor(n,t){this.component=n,this.injector=t}attach(n,t){return this._attachedHost=n,n.attach(this,t)}detach(){let n=this._attachedHost;if(n)return this._attachedHost=void 0,n.detach()}get isAttached(){return this._attachedHost!=null}setAttachedHost(n){this._attachedHost=n}},op=class{_attachedPortal;_disposeFn;attach(n,t){return this._attachedPortal=n,this.attachComponentPortal(n,t)}detach(){this._attachedPortal&&this._attachedPortal.setAttachedHost(),this._attachedPortal=void 0,this._disposeFn&&(this._disposeFn(),this._disposeFn=void 0)}setDisposeFn(n){this._disposeFn=n}},sp=class extends op{_hostDomElement;_appRef;constructor(n,t){super(),this._hostDomElement=n,this._appRef=t}attachComponentPortal(n,t){let r=ji(n.component,{environmentInjector:this._appRef.injector,elementInjector:n.injector});return this._appRef.attachView(r.hostView),this.setDisposeFn(()=>{this._appRef.detachView(r.hostView),r.destroy()}),t?this._hostDomElement.insertBefore(this._getComponentRootNode(r),this._hostDomElement.firstChild):this._hostDomElement.appendChild(this._getComponentRootNode(r)),r}_getComponentRootNode(n){return n.hostView.rootNodes[0]}},zA=(()=>{class e{_document=g(le);_containerElement;ngOnDestroy(){this._containerElement&&this._containerElement.parentNode&&this._containerElement.parentNode.removeChild(this._containerElement)}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){let t=this._document.createElement("div");t.classList.add("overlay-container"),t.setAttribute("aria-live","polite"),this._document.body.appendChild(t),this._containerElement=t}static \u0275fac=function(r){return new(r||e)};static \u0275prov=_({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),ap=class{_portalHost;constructor(n){this._portalHost=n}attach(n,t=!0){return this._portalHost.attach(n,t)}detach(){return this._portalHost.detach()}},KA=(()=>{class e{_overlayContainer=g(zA);_appRef=g(We);_document=g(le);_paneElements=new Map;create(t,r){return this._createOverlayRef(this.getPaneElement(t,r))}getPaneElement(t="",r){return this._paneElements.get(r)||this._paneElements.set(r,{}),this._paneElements.get(r)[t]||(this._paneElements.get(r)[t]=this._createPaneElement(t,r)),this._paneElements.get(r)[t]}_createPaneElement(t,r){let i=this._document.createElement("div");return i.id="toast-container",i.classList.add(t),i.classList.add("toast-container"),r?r.getContainerElement().appendChild(i):this._overlayContainer.getContainerElement().appendChild(i),i}_createPortalHost(t){return new sp(t,this._appRef)}_createOverlayRef(t){return new ap(this._createPortalHost(t))}static \u0275fac=function(r){return new(r||e)};static \u0275prov=_({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),cp=class{_overlayRef;componentInstance;duplicatesCount=0;_afterClosed=new $;_activate=new $;_manualClose=new $;_resetTimeout=new $;_countDuplicate=new $;constructor(n){this._overlayRef=n}manualClose(){this._manualClose.next(),this._manualClose.complete()}manualClosed(){return this._manualClose.asObservable()}timeoutReset(){return this._resetTimeout.asObservable()}countDuplicate(){return this._countDuplicate.asObservable()}close(){this._overlayRef.detach(),this._afterClosed.next(),this._manualClose.next(),this._afterClosed.complete(),this._manualClose.complete(),this._activate.complete(),this._resetTimeout.complete(),this._countDuplicate.complete()}afterClosed(){return this._afterClosed.asObservable()}isInactive(){return this._activate.closed}activate(){this._activate.next(),this._activate.complete()}afterActivate(){return this._activate.asObservable()}onDuplicate(n,t){n&&this._resetTimeout.next(),t&&this._countDuplicate.next(++this.duplicatesCount)}},Jr=(()=>{class e{overlay=g(KA);_injector=g(ge);sanitizer=g(Ch);ngZone=g(ne);toastrConfig;currentlyActive=0;toasts=[];overlayContainer;previousToastMessage;index=0;constructor(){let t=g(PE);this.toastrConfig=y(y({},t.default),t.config),t.config.iconClasses&&(this.toastrConfig.iconClasses=y(y({},t.default.iconClasses),t.config.iconClasses))}show(t,r,i={},o=""){return this._preBuildNotification(o,t,r,this.applyConfig(i))}success(t,r,i={}){let o=this.toastrConfig.iconClasses.success||"";return this._preBuildNotification(o,t,r,this.applyConfig(i))}error(t,r,i={}){let o=this.toastrConfig.iconClasses.error||"";return this._preBuildNotification(o,t,r,this.applyConfig(i))}info(t,r,i={}){let o=this.toastrConfig.iconClasses.info||"";return this._preBuildNotification(o,t,r,this.applyConfig(i))}warning(t,r,i={}){let o=this.toastrConfig.iconClasses.warning||"";return this._preBuildNotification(o,t,r,this.applyConfig(i))}clear(t){for(let r of this.toasts)if(t!==void 0){if(r.toastId===t){r.toastRef.manualClose();return}}else r.toastRef.manualClose()}remove(t){let r=this._findToast(t);if(!r||(r.activeToast.toastRef.close(),this.toasts.splice(r.index,1),this.currentlyActive=this.currentlyActive-1,!this.toastrConfig.maxOpened||!this.toasts.length))return!1;if(this.currentlyActive<this.toastrConfig.maxOpened&&this.toasts[this.currentlyActive]){let i=this.toasts[this.currentlyActive].toastRef;i.isInactive()||(this.currentlyActive=this.currentlyActive+1,i.activate())}return!0}findDuplicate(t="",r="",i,o){let{includeTitleDuplicates:s}=this.toastrConfig;for(let a of this.toasts){let c=s&&a.title===t;if((!s||c)&&a.message===r)return a.toastRef.onDuplicate(i,o),a}return null}applyConfig(t={}){return y(y({},this.toastrConfig),t)}_findToast(t){for(let r=0;r<this.toasts.length;r++)if(this.toasts[r].toastId===t)return{index:r,activeToast:this.toasts[r]};return null}_preBuildNotification(t,r,i,o){return o.onActivateTick?this.ngZone.run(()=>this._buildNotification(t,r,i,o)):this._buildNotification(t,r,i,o)}_buildNotification(t,r,i,o){if(!o.toastComponent)throw new Error("toastComponent required");let s=this.findDuplicate(i,r,this.toastrConfig.resetTimeoutOnDuplicate&&o.timeOut>0,this.toastrConfig.countDuplicates);if((this.toastrConfig.includeTitleDuplicates&&i||r)&&this.toastrConfig.preventDuplicates&&s!==null)return s;this.previousToastMessage=r;let a=!1;this.toastrConfig.maxOpened&&this.currentlyActive>=this.toastrConfig.maxOpened&&(a=!0,this.toastrConfig.autoDismiss&&this.clear(this.toasts[0].toastId));let c=this.overlay.create(o.positionClass,this.overlayContainer);this.index=this.index+1;let l=r;r&&o.enableHtml&&(l=this.sanitizer.sanitize(et.HTML,r));let u=new cp(c),f=new Ls(this.index,o,l,i,t,u),p=[{provide:Ls,useValue:f}],h=ge.create({providers:p,parent:this._injector}),m=new ip(o.toastComponent,h),E=c.attach(m,o.newestOnTop);u.componentInstance=E.instance;let I={toastId:this.index,title:i||"",message:r||"",toastRef:u,onShown:u.afterActivate(),onHidden:u.afterClosed(),onTap:f.onTap(),onAction:f.onAction(),portal:E};return a||(this.currentlyActive=this.currentlyActive+1,setTimeout(()=>{I.toastRef.activate()})),this.toasts.push(I),I}static \u0275fac=function(r){return new(r||e)};static \u0275prov=_({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),QA=(()=>{class e{ngZone=g(ne);setInterval(t,r){return this.ngZone?this.ngZone.runOutsideAngular(()=>window.setInterval(()=>this.runInsideAngular(t),r)):window.setInterval(()=>t(),r)}setTimeout(t,r){return this.ngZone?this.ngZone.runOutsideAngular(()=>window.setTimeout(()=>this.runInsideAngular(t),r)):window.setTimeout(()=>t(),r)}runInsideAngular(t){this.ngZone?this.ngZone.run(()=>t()):t()}static \u0275fac=function(r){return new(r||e)};static \u0275prov=_({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),FE=(()=>{class e{toastPackage=g(Ls);toastrService=g(Jr);appRef=g(We);timeoutsService=g(QA);duplicatesCount;hideTime;width=je(-1);state=je("inactive");displayStyle=Mt(()=>this.state()==="inactive"?"none":void 0);message=Mt(()=>this.toastPackage.message);title=Mt(()=>this.toastPackage.title);options=oh(()=>this.toastPackage.config);originalTimeout=Mt(()=>this.toastPackage.config.timeOut);toastClasses=Mt(()=>`${this.toastPackage.toastType} ${this.toastPackage.config.toastClass}`);timeout;intervalId;afterActivateSubscription;manualClosedSubscription;timeoutResetSubscription;countDuplicateSubscription;constructor(){this.afterActivateSubscription=this.toastPackage.toastRef.afterActivate().subscribe(()=>{this.activateToast()}),this.manualClosedSubscription=this.toastPackage.toastRef.manualClosed().subscribe(()=>{this.remove()}),this.timeoutResetSubscription=this.toastPackage.toastRef.timeoutReset().subscribe(()=>{this.resetTimeout()}),this.countDuplicateSubscription=this.toastPackage.toastRef.countDuplicate().subscribe(t=>{this.duplicatesCount=t})}ngOnDestroy(){this.afterActivateSubscription.unsubscribe(),this.manualClosedSubscription.unsubscribe(),this.timeoutResetSubscription.unsubscribe(),this.countDuplicateSubscription.unsubscribe(),clearInterval(this.intervalId),clearTimeout(this.timeout)}activateToast(){let t=this.options();this.state.set("active"),!(t.disableTimeOut===!0||t.disableTimeOut==="timeOut")&&t.timeOut&&(this.timeout=this.timeoutsService.setTimeout(()=>this.remove(),t.timeOut),this.hideTime=new Date().getTime()+t.timeOut,t.progressBar&&(this.intervalId=this.timeoutsService.setInterval(()=>this.updateProgress(),10)))}updateProgress(){let t=this.options();if(this.width()===0||this.width()===100||!t.timeOut)return;let r=new Date().getTime(),i=this.hideTime-r;this.width.set(i/t.timeOut*100),t.progressAnimation==="increasing"&&this.width.update(o=>100-o),this.width()<=0&&this.width.set(0),this.width()>=100&&this.width.set(100)}resetTimeout(){let t=this.options();clearTimeout(this.timeout),clearInterval(this.intervalId),this.state.set("active"),this.options.update(r=>P(y({},r),{timeOut:this.originalTimeout()})),this.timeout=this.timeoutsService.setTimeout(()=>this.remove(),this.originalTimeout()),this.hideTime=new Date().getTime()+(this.originalTimeout()||0),this.width.set(-1),t.progressBar&&(this.intervalId=this.timeoutsService.setInterval(()=>this.updateProgress(),10))}remove(){this.state()!=="removed"&&(clearTimeout(this.timeout),this.state.set("removed"),this.timeout=this.timeoutsService.setTimeout(()=>this.toastrService.remove(this.toastPackage.toastId)))}tapToast(){this.state()!=="removed"&&(this.toastPackage.triggerTap(),this.options().tapToDismiss&&this.remove())}stickAround(){this.state()!=="removed"&&this.options().disableTimeOut!=="extendedTimeOut"&&(clearTimeout(this.timeout),this.options.update(t=>P(y({},t),{timeOut:0})),this.hideTime=0,clearInterval(this.intervalId),this.width.set(0))}delayedHideToast(){let t=this.options();if(t.disableTimeOut===!0||t.disableTimeOut==="extendedTimeOut"||t.extendedTimeOut===0||this.state()==="removed")return;let r=t.extendedTimeOut;this.timeout=this.timeoutsService.setTimeout(()=>this.remove(),r),this.options.update(i=>P(y({},i),{timeOut:r})),this.hideTime=new Date().getTime()+(r||0),this.width.set(-1),t.progressBar&&(this.intervalId=this.timeoutsService.setInterval(()=>this.updateProgress(),10))}static \u0275fac=function(r){return new(r||e)};static \u0275cmp=ce({type:e,selectors:[["","toast-component",""]],hostVars:4,hostBindings:function(r,i){r&1&&K("mouseenter",function(){return i.stickAround()})("mouseleave",function(){return i.delayedHideToast()})("click",function(){return i.tapToast()}),r&2&&(Fe(i.toastClasses()),an("display",i.displayStyle()))},attrs:OE,decls:5,vars:5,consts:[["type","button","aria-label","Close",1,"toast-close-button"],[3,"class"],["type","button","aria-label","Close",1,"toast-close-button",3,"click"],["aria-hidden","true"],["role","alert",3,"class","innerHTML"],["role","alert",3,"class"],["role","alert",3,"innerHTML"],["role","alert"],[1,"toast-progress"]],template:function(r,i){if(r&1&&(ns(0),W(1,OA,3,0,"button",0),W(2,PA,3,5,"div",1),W(3,BA,2,1),W(4,VA,2,2,"div")),r&2){let o=Bc(i.options());v(),G(o.closeButton?1:-1),v(),G(i.title()?2:-1),v(),G(i.message()?3:-1),v(),G(o.progressBar?4:-1)}},encapsulation:2,changeDetection:0})}return e})(),ZA=(()=>{class e extends FE{params={easeTime:this.toastPackage.config.easeTime,easing:"ease-in"};elementRef=g(Re);remove(){this.state()!=="removed"&&(clearTimeout(this.timeout),this.state.set("removed"),this.elementRef.nativeElement.classList.add("toast-out"),this.timeout=this.timeoutsService.setTimeout(()=>this.toastrService.remove(this.toastPackage.toastId),+this.params.easeTime))}static \u0275fac=(()=>{let t;return function(i){return(t||(t=jt(e)))(i||e)}})();static \u0275cmp=ce({type:e,selectors:[["","toast-component",""]],hostVars:4,hostBindings:function(r,i){r&1&&bi("toast-in"),r&2&&an("--animation-easing",i.params.easing)("--animation-duration",i.params.easeTime+"ms")},features:[wt],attrs:OE,decls:5,vars:5,consts:[["type","button","aria-label","Close",1,"toast-close-button"],[3,"class"],["type","button","aria-label","Close",1,"toast-close-button",3,"click"],["aria-hidden","true"],["role","alert",3,"class","innerHTML"],["role","alert",3,"class"],["role","alert",3,"innerHTML"],["role","alert"],[1,"toast-progress"]],template:function(r,i){if(r&1&&(ns(0),W(1,jA,3,0,"button",0),W(2,UA,3,5,"div",1),W(3,GA,2,1),W(4,qA,2,2,"div")),r&2){let o=Bc(i.options());v(),G(o.closeButton?1:-1),v(),G(i.title()?2:-1),v(),G(i.message()?3:-1),v(),G(o.progressBar?4:-1)}},styles:[".toast-in[_nghost-%COMP%]{animation:_ngcontent-%COMP%_toast-animation var(--animation-duration) var(--animation-easing)}.toast-out[_nghost-%COMP%]{animation:_ngcontent-%COMP%_toast-animation var(--animation-duration) var(--animation-easing) reverse forwards}@keyframes _ngcontent-%COMP%_toast-animation{0%{opacity:0}to{opacity:1}}"],changeDetection:0})}return e})(),YA=P(y({},kE),{toastComponent:ZA}),LE=(e={})=>Zt([{provide:PE,useValue:{default:YA,config:e}}]);var Tq=P(y({},kE),{toastComponent:FE});function XA(e,n){if(e&1&&(M(0,"option",5),S(1),A()),e&2){let t=n.$implicit;be("value",t),v(),bn(t)}}function JA(e,n){if(e&1){let t=ht();M(0,"li",11),K("pointerdown",function(){let i=re(t).$implicit,o=D(3);return o.selectUsername(i),ie(o.handleGoPressed())}),S(1),M(2,"div",12),K("pointerdown",function(i){let o=re(t).$implicit;return D(3).handleRemoveUsernameClicked(o),ie(i.stopPropagation())}),S(3,"X"),A()()}if(e&2){let t=n.$implicit;v(),pe(" ",t," ")}}function eN(e,n){if(e&1&&(M(0,"ul",8),dt(1,JA,4,1,"li",10,ut),A()),e&2){let t=D(2);v(),ft(t.savedUsernames)}}function tN(e,n){if(e&1){let t=ht();M(0,"div")(1,"input",7),K("keydown.enter",function(){re(t);let i=D();return ie(i.handleGoPressed())}),Qn("ngModelChange",function(i){re(t);let o=D();return Hr(o.siteUsername,i)||(o.siteUsername=i),ie(i)}),K("focus",function(){re(t);let i=D();return ie(i.isUsernameInputFocused=!0)})("blur",function(){re(t);let i=D();return ie(i.isUsernameInputFocused=!1)}),A(),W(2,eN,3,0,"ul",8),A(),ue(3,"div",6),M(4,"div",9),K("click",function(){re(t);let i=D();return ie(i.handleGoPressed())}),S(5,"Go"),A()}if(e&2){let t=D();v(),Kn("ngModel",t.siteUsername),v(),G(t.isUsernameInputFocused?2:-1)}}function nN(e,n){if(e&1){let t=ht();M(0,"button",14),K("click",function(){let i=re(t).$implicit,o=D(2);return ie(o.handleChessComGameClicked(i))}),M(1,"div",15)(2,"p"),S(3),M(4,"span",16),S(5),A()(),M(6,"div",17)(7,"div",18),ue(8,"i",19),M(9,"p",20),S(10),A()(),ue(11,"div",6),M(12,"div",18),ue(13,"i",21),M(14,"p",20),S(15),A()()(),ue(16,"div",6),M(17,"div",22),K("click",function(i){let o=re(t).$implicit,s=D(2);return ie(s.handleChessComGameLinkCliked(i,o))}),S(18," Copy Link "),A()()()}if(e&2){let t=n.$implicit,r=D(2);v(3),Lc("",t.white.username," [",t.white.rating,"] vs ",t.black.username," [",t.black.rating,"] "),v(),be("ngClass",r.getResultClassForChessComGame(t)),v(),wn("",t.getScore()," ",t.getReason()),v(5),wn("\xA0\xA0",t.formatTimeControl()," ",t.time_class),v(5),pe("\xA0",t.formatDate())}}function rN(e,n){if(e&1&&dt(0,nN,19,10,"button",13,ut),e&2){let t=D();ft(t.chessComGames)}}function iN(e,n){if(e&1){let t=ht();M(0,"textarea",23),Qn("ngModelChange",function(i){re(t);let o=D();return Hr(o.pgn,i)||(o.pgn=i),ie(i)}),A(),ue(1,"div",2),M(2,"div",9),K("click",function(){re(t);let i=D();return ie(i.handleSubmitClicked())}),S(3,"Submit"),A()}if(e&2){let t=D();Kn("ngModel",t.pgn)}}var Ll=class e{constructor(n,t){this.activeModal=n;this.toastr=t}PgnSources=rp;pgn="";selectedDropdownOption="Chess.com";dropdownOptions=["Chess.com","Manual PGN"];siteUsername="";savedUsernames=[];isUsernameInputFocused=!1;chessComGames=[];ngOnInit(){this.savedUsernames=he.getStringArray(he.SAVED_USERNAMES)}handleSubmitClicked(){this.activeModal.close(this.pgn)}handleChessComGameClicked(n){this.activeModal.close(n.pgn)}selectUsername(n){this.siteUsername=n}handleRemoveUsernameClicked(n){let t=this.savedUsernames.filter(r=>r!=n);this.savedUsernames=t,this.siteUsername="",he.setStringArray(he.SAVED_USERNAMES,t)}saveUsername(n){n!=""&&(this.savedUsernames.includes(n)||(this.savedUsernames.push(n),he.setStringArray(he.SAVED_USERNAMES,this.savedUsernames)))}handleGoPressed(){return Z(this,null,function*(){this.saveUsername(this.siteUsername),this.selectedDropdownOption=="Chess.com"&&(this.chessComGames=yield Xr.getGamesForUser(this.siteUsername))})}handleChessComGameLinkCliked(n,t){return Z(this,null,function*(){n.stopPropagation();let r=t.url.split("/"),i=r[r.length-1];try{yield navigator.clipboard.writeText(ir.generateGameUrl(ir.CHESSCOM_SOURCE,i,this.siteUsername)),this.toastr.info(`Successfully copied game for ${this.siteUsername}.`)}catch(o){this.toastr.error("Game link copy failed.")}})}getResultClassForChessComGame(n){let t=n.getScore();return t==ye.WHITE_WON?n.white.username==this.siteUsername?"text-bg-success":"text-bg-danger":t==ye.BLACK_WON?n.black.username==this.siteUsername?"text-bg-success":"text-bg-danger":"text-bg-info text-light"}static \u0275fac=function(t){return new(t||e)(k(nr),k(Jr))};static \u0275cmp=ce({type:e,selectors:[["app-import-modal"]],decls:13,vars:4,consts:[[1,"container","componentContainer"],[1,"text-primary"],[1,"m-4"],[1,"importOptions"],[1,"form-select","gameSourceDropdown",3,"ngModelChange","ngModel"],[3,"value"],[1,"m-1"],["type","text","placeholder","Search username",1,"form-control","usernameInput",3,"keydown.enter","ngModelChange","focus","blur","ngModel"],[1,"list-group","position-absolute","savedUsernames"],[1,"btn","btn-primary",3,"click"],[1,"list-group-item","list-group-item-action"],[1,"list-group-item","list-group-item-action",3,"pointerdown"],[1,"btn","btn-danger",3,"pointerdown"],[1,"siteResult","card","mb-2","w-100",2,"text-align","left"],[1,"siteResult","card","mb-2","w-100",2,"text-align","left",3,"click"],[1,"card-body","siteResultInner"],[1,"badge","rounded-pill",3,"ngClass"],[1,"d-flex","align-items-center"],[1,"badge","rounded-pill","text-bg-primary"],[1,"bi","bi-clock"],[1,"d-inline"],[1,"bi","bi-hash"],[1,"btn","btn-info","text-light",3,"click"],[1,"manualPgnField","d-block","w-100",3,"ngModelChange","ngModel"]],template:function(t,r){t&1&&(M(0,"div",0)(1,"h1",1),S(2,"Import Game"),A(),ue(3,"div",2),M(4,"div",3)(5,"select",4),Qn("ngModelChange",function(o){return Hr(r.selectedDropdownOption,o)||(r.selectedDropdownOption=o),o}),dt(6,XA,2,2,"option",5,ut),A(),ue(8,"div",6),W(9,tN,6,2),A(),ue(10,"div",2),W(11,rN,2,0),W(12,iN,4,1),A()),t&2&&(v(5),Kn("ngModel",r.selectedDropdownOption),v(),ft(r.dropdownOptions),v(3),G(r.selectedDropdownOption==r.PgnSources.Chesscom?9:-1),v(2),G(r.selectedDropdownOption==r.PgnSources.Chesscom&&r.chessComGames.length!=0?11:-1),v(),G(r.selectedDropdownOption==r.PgnSources.Manual?12:-1))},dependencies:[ro,wE,ME,Nl,Ol,Rl,Os,$i,os],styles:[".componentContainer[_ngcontent-%COMP%]{padding:5vmin}.manualPgnField[_ngcontent-%COMP%]{height:20vmin}.importOptions[_ngcontent-%COMP%]{display:flex}.gameSourceDropdown[_ngcontent-%COMP%]{width:20vmin}.usernameInput[_ngcontent-%COMP%]{width:30vmin}.savedUsernames[_ngcontent-%COMP%]{z-index:10}@media screen and (max-width:800px){.componentContainer[_ngcontent-%COMP%]{max-height:100vmin;overflow:scroll}.importOptions[_ngcontent-%COMP%]{flex-direction:column}.gameSourceDropdown[_ngcontent-%COMP%], .usernameInput[_ngcontent-%COMP%]{width:unset}.siteResultInner[_ngcontent-%COMP%]{display:flex;flex-direction:column}}"]})};var so=class e{games=new Map;addGame(n,t){return this.games.get(n)?!1:(this.games.set(n,t),!0)}getGame(n){return this.games.get(n)}deleteGame(n){this.games.delete(n)}static \u0275fac=function(t){return new(t||e)};static \u0275prov=_({token:e,factory:e.\u0275fac,providedIn:"root"})};var oN=["board"],sN=e=>({endgameSquareOverlayFlipped:e}),VE=e=>({"background-color":e}),jE=(e,n)=>({"text-primary":e,"text-danger":n});function aN(e,n){if(e&1&&(Ro(),Jo(0),ue(1,"line",19),ki()),e&2){let t=n.$implicit,r=D();v(),Ye("x1",r._getArrowCoords(t).x1)("y1",r._getArrowCoords(t).y1)("x2",r._getArrowCoords(t).x2)("y2",r._getArrowCoords(t).y2)("stroke",t.color)}}function cN(e,n){if(e&1&&(M(0,"div",22),ue(1,"div",23)(2,"img",24),M(3,"div",25),S(4),A()()),e&2){let t=D().$index,r=D().$index,i=D();be("ngClass",Zn(7,sN,i.boardState.isFlipped)),v(),zn(Zn(9,VE,i._getEndgameSquareBackgroundColor(r,t))),v(),be("src",i._getEndgameSquareImgSrc(r,t),Ze),v(),zn(Zn(11,VE,i._getEndgameSquareBackgroundColor(r,t))),v(),pe(" ",i._getEndgameSquareText(r,t)," ")}}function lN(e,n){if(e&1){let t=ht();M(0,"div",20)(1,"app-square",21),K("mouseDown",function(i){re(t);let o=D(2);return ie(o.onSquareMouseDown(i))})("mouseUp",function(i){re(t);let o=D(2);return ie(o.onSquareMouseUp(i))})("leftClick",function(){re(t);let i=D(2);return ie(i.onSquareLeftClick())}),A(),W(2,cN,5,13,"div",22),A()}if(e&2){let t=n.$index,r=D(),i=r.$implicit,o=r.$index,s=D();v(),be("coordinate",s.COORDS[o][t])("piece",s.boardState.getCurrentState().pieceState[o][t])("isDark",(o+t)%2==1)("showFile",o==i.length-1)("showRank",t==0)("showPiece",s.animatedPieceCoord?s.COORDS[o][t]!=s.animatedPieceCoord:s.localStorageHelper.getBoolean(s.localStorageHelper.CLICK_TO_MOVE)?!0:s.COORDS[o][t]!=s.fromSquare)("isFlipped",s.boardState.isFlipped)("isLegalMove",s.currentLegalMoves.includes(s.COORDS[o][t]))("isInCheck",s.boardState.getCurrentState().pieceState[o][t]==s.pieceType.WHITE_KING&&s.boardState.getCurrentState().isInCheck(s.pieceColor.WHITE)||s.boardState.getCurrentState().pieceState[o][t]==s.pieceType.BLACK_KING&&s.boardState.getCurrentState().isInCheck(s.pieceColor.BLACK))("isClicked",s.getRightClickedStatusForSquare(s.COORDS[o][t])),v(),G(s._isSquareEndgameKingSquare(o,t)?2:-1)}}function uN(e,n){if(e&1&&(Jo(0),dt(1,lN,3,11,"div",20,ut),ki()),e&2){let t=n.$implicit;v(),ft(t)}}function dN(e,n){if(e&1){let t=ht();M(0,"div")(1,"p",26),S(2),A(),M(3,"div",27),K("click",function(){re(t);let i=D().$index,o=D();return ie(o.moveClicked(i+1))}),S(4),A(),M(5,"div",27),K("click",function(){re(t);let i=D().$index,o=D();return ie(o.moveClicked(i+2))}),S(6),A()()}if(e&2){let t=D(),r=t.$implicit,i=t.$index,o=D();v(2),pe("",i/2+1,". "),v(),be("ngClass",Bi(5,jE,i==o.boardState.mainStackPointer-1&&o.boardState.divergenceStack.length==0,i==o.boardState.mainStackPointer-1&&o.boardState.divergenceStack.length!=0)),v(),pe("",r.notation," "),v(),be("ngClass",Bi(8,jE,i==o.boardState.mainStackPointer-2&&o.boardState.divergenceStack.length==0,i==o.boardState.mainStackPointer-2&&o.boardState.divergenceStack.length!=0)),v(),pe("",o.boardState.mainMoveStack[i+1]==null?"-":o.boardState.mainMoveStack[i+1].notation," ")}}function fN(e,n){if(e&1&&W(0,dN,7,11,"div"),e&2){let t=n.$index;G(t%2==0?0:-1)}}function hN(e,n){if(e&1&&(M(0,"p",16),S(1),A()),e&2){let t=D();v(),pe(" ",t.boardState.pgnHeaders.termination)}}function pN(e,n){if(e&1&&(M(0,"p",16),S(1),A()),e&2){let t=D();v(),wn("",t.boardState.getCurrentState().gameState.reason," ",t.boardState.getCurrentState().gameState.gameScore)}}function gN(e,n){if(e&1&&ue(0,"img",28),e&2){let t=D();an("left",t.mouseX,"px")("top",t.mouseY,"px"),be("src",`piece/merida/${t.currentlyHeldPiece}.svg`,Ze)}}function mN(e,n){if(e&1&&ue(0,"img",29),e&2){let t=D();an("left",t.animatedPieceX,"px")("top",t.animatedPieceY,"px")("transition",`all ${t.animationDuration}ms ease-in-out`),be("src",`piece/merida/${t.animatedPiece}.svg`,Ze)}}var Bl=class e{constructor(n,t,r){this.modalService=n;this.chessBoardService=t;this.toastr=r;let i=this.chessBoardService.getGame(this.gameId);this.boardState=i}pieceType=d;pieceColor=C;gameOverReason=Ps;localStorageHelper=he;COORDS=Q.COORDS;gameId="";boardState;currentLegalMoves=[];currentlyHeldPiece="";fromSquare="";toSquare="";fromRightClickSquare="";toRightClickSquare="";_ARROW_PULLBACK=.18;mouseX=0;mouseY=0;arrows=[];boardElement;onResize(){this.updateBoardSize()}boardPixelSize=0;animatedPiece="";animatedPieceX=0;animatedPieceY=0;animationDuration=100;animatedPieceCoord="";clickToMove=!1;ngOnInit(){let n=this.chessBoardService.getGame(this.gameId);if(!n){console.warn(`Game ${this.gameId} not found yet`);return}this.boardState=n}ngAfterViewInit(){setTimeout(()=>this.updateBoardSize())}completeMove(n,t){let r=this.currentlyHeldPiece;if(!this.currentLegalMoves.includes(t))return;let i=this.boardState.getCurrentState().getFullDeepCopy(),o=this.currentlyHeldPiece==d.WHITE_PAWN&&this.toSquare.includes(Q.WHITE_PAWN_PROMOTE_RANK.toString())||this.currentlyHeldPiece==d.BLACK_PAWN&&this.toSquare.includes(Q.BLACK_PAWN_PROMOTE_RANK.toString()),s={result:!1,notation:"",fromCoord:n,toCoord:t,piece:d.NONE,comment:""};if(o){let a=this.currentlyHeldPiece==d.WHITE_PAWN?C.WHITE:C.BLACK,c=this.modalService.open(kl,{size:"xl"});c.componentInstance.color=a,c.result.then(l=>{s=i.completeMove(n,t,l),this.boardState.pushState(i,s)}).catch(()=>{s=i.completeMove(n,t,d.QUEEN),this.boardState.pushState(i,s)}).finally(),this.resetMoveState()}else s=i.completeMove(n,t,r),this.boardState.pushState(i,s),this.resetMoveState();Rt.playSoundForMove(s.notation)}resetMoveState(){this.fromSquare="",this.toSquare="",this.currentLegalMoves=[]}handleImportClicked(){this.modalService.open(Ll,{size:"lg"}).result.then(t=>{try{let r=Nn.parsePGN(t);this.chessBoardService.deleteGame(this.gameId),this.chessBoardService.addGame(this.gameId,r),this.boardState=this.chessBoardService.getGame(this.gameId),this.toastr.success("Successfully imported PGN.")}catch(r){this.toastr.error("Invalid PGN data.")}}).catch(t=>{})}handleResetClicked(){let n=new Nn;this.chessBoardService.deleteGame(this.gameId),this.chessBoardService.addGame(this.gameId,n),this.boardState=this.chessBoardService.getGame(this.gameId)}handleFlipClicked(){this.boardState.isFlipped=!this.boardState.isFlipped}handleDoubleBackButtonClicked(){Rt.playSound(Rt.MOVE),this.boardState.goBackToStart()}handleBackButtonClicked(){let n=this.boardState.getMostRecentMove();this.animateMove(n.toCoord,n.fromCoord,n.piece),setTimeout(()=>{this.boardState.goBack(),Rt.playSound(Rt.MOVE)},this.animationDuration)}handleForwardButtonClicked(){let n=this.boardState.getFutureMove();this.animateMove(n.fromCoord,n.toCoord,n.piece),setTimeout(()=>{this.boardState.goForward(),Rt.playSoundForMove(n.notation)},this.animationDuration)}handleDoubleForwardButtonClicked(){this.boardState.goForwardToEnd(),Rt.playSound(Rt.CAPTURE)}areBackButtonsEnabled(){return this.boardState.mainStackPointer!=0||this.boardState.divergenceStackPointer!=-1}areForwardButtonsEnabled(){return!(this.boardState.divergenceStack.length!=0||this.boardState.mainStackPointer==this.boardState.mainStateStack.length-1)}moveClicked(n){this.boardState.divergenceStack.length!=0&&this.boardState.goBackToStart(),this.boardState.mainStackPointer=n}getClockForPlayer(n){let t=this.boardState.mainStackPointer,r=this.boardState.mainMoveStack;for(let i=t;i>0;i--){let o=r[i];if(o&&o.piece.startsWith(n)&&o.comment.startsWith("%clk"))return o.comment.replace("%clk","")}return""}onSquareLeftClick=()=>{this.resetClickedSquares(),this.arrows.length=0};onSquareMouseDown(n){if(n.mouse.button==0){if(he.getBoolean(he.CLICK_TO_MOVE))return;this.fromSquare=n.coordinate,this.currentlyHeldPiece=n.piece,n.piece!=""&&this.handleDragImage(n.mouse),this.currentLegalMoves=this.boardState.getCurrentState().getLegalMoves(n.coordinate)}n.mouse.button==2&&(this.fromRightClickSquare=n.coordinate)}onSquareMouseUp(n){if(n.mouse.button==0){if(he.getBoolean(he.CLICK_TO_MOVE)){if(this.fromSquare==""){this.fromSquare=n.coordinate,this.currentLegalMoves=this.boardState.getCurrentState().getLegalMoves(this.fromSquare),this.currentLegalMoves.length==0&&this.resetMoveState();return}this.toSquare==""&&(this.toSquare=n.coordinate,this.currentLegalMoves.includes(this.toSquare)?this.completeMove(this.fromSquare,this.toSquare):this.resetMoveState());return}this.toSquare=n.coordinate;let t=this.fromSquare,r=n.coordinate;this.completeMove(t,r)}if(n.mouse.button==2){if(this.toRightClickSquare=n.coordinate,this.fromRightClickSquare==this.toRightClickSquare){let t=Q.findIndexFromCoordinate(this.toRightClickSquare);this.boardState.squareHighlightStatuses[t.rowIndex][t.colIndex]=!this.boardState.squareHighlightStatuses[t.rowIndex][t.colIndex]}else{let t=this.createArrow(this.fromRightClickSquare,this.toRightClickSquare);t&&this.arrows.push(t)}this.fromRightClickSquare="",this.toRightClickSquare=""}}handleDragImage(n){this.mouseX=n.clientX,this.mouseY=n.clientY,document.addEventListener("pointermove",this.onMouseMove),document.addEventListener("pointerup",this.onMouseUp)}onMouseMove=n=>{this.mouseX=n.clientX,this.mouseY=n.clientY};onMouseUp=n=>{document.removeEventListener("pointermove",this.onMouseMove),document.removeEventListener("pointerup",this.onMouseUp),this.currentlyHeldPiece="",this.mouseX=0,this.mouseY=0,this.resetMoveState()};getRightClickedStatusForSquare(n){let t=Q.findIndexFromCoordinate(n);return this.boardState.squareHighlightStatuses[t.rowIndex][t.colIndex]}resetClickedSquares(){if(this.boardState.squareHighlightStatuses.length==0)for(let n=0;n<Q.SIZE;n++){let t=[];for(let r=0;r<Q.SIZE;r++)t.push(!1);this.boardState.squareHighlightStatuses.push(t)}else for(let n=0;n<Q.SIZE;n++){let t=this.boardState.squareHighlightStatuses[n];for(let r=0;r<Q.SIZE;r++)t[r]=!1;this.boardState.squareHighlightStatuses.push(t)}}_getArrowCoords(n){let t=n.fromFile+.5,r=n.fromRank+.5,i=n.toFile+.5,o=n.toRank+.5,s=i-t,a=o-r,c=Math.hypot(s,a)||1;return{x1:t,y1:r,x2:i-s/c*this._ARROW_PULLBACK,y2:o-a/c*this._ARROW_PULLBACK}}createArrow(n,t,r="rgba(0,0,255,0.6",i=0){if(!n||!t||n==t)return null;let o=Q.findIndexFromCoordinate(n),s=Q.findIndexFromCoordinate(t);return{fromRank:o.rowIndex,fromFile:o.colIndex,toRank:s.rowIndex,toFile:s.colIndex,color:r,context:i}}_isSquareEndgameKingSquare(n,t){return this._isSquareCheckmatedKing(n,t)||this._isSquareWinningKing(n,t)||this._isSquareKingInDraw(n,t)}_isSquareCheckmatedKing(n,t){return this.boardState.getCurrentState().pieceState[n][t]==d.WHITE_KING&&this.boardState.getCurrentState().gameState.winner==C.BLACK||this.boardState.getCurrentState().pieceState[n][t]==d.BLACK_KING&&this.boardState.getCurrentState().gameState.winner==C.WHITE&&this.boardState.getCurrentState().gameState.reason=="Checkmate"}_isSquareWinningKing(n,t){return this.boardState.getCurrentState().pieceState[n][t]==d.WHITE_KING&&this.boardState.getCurrentState().gameState.winner==C.WHITE||this.boardState.getCurrentState().pieceState[n][t]==d.BLACK_KING&&this.boardState.getCurrentState().gameState.winner==C.BLACK}_isSquareKingInDraw(n,t){return this.boardState.getCurrentState().gameState.isDraw()&&(this.boardState.getCurrentState().pieceState[n][t]==d.WHITE_KING||this.boardState.getCurrentState().pieceState[n][t]==d.BLACK_KING)}_getEndgameSquareBackgroundColor(n,t){return this._isSquareCheckmatedKing(n,t)?"red":this._isSquareKingInDraw(n,t)?"skyblue":this._isSquareWinningKing(n,t)?"limegreen":"transparent"}_getEndgameSquareImgSrc(n,t){let r="icons/";return this._isSquareCheckmatedKing(n,t)?r+"checkmate.webp":this._isSquareKingInDraw(n,t)?r+"draw.webp":this._isSquareWinningKing(n,t)?r+"winner.webp":""}_getEndgameSquareText(n,t){return this._isSquareCheckmatedKing(n,t)?"Checkmate":this._isSquareWinningKing(n,t)?"Winner":this._isSquareKingInDraw(n,t)?"Draw":""}updateBoardSize(){this.boardElement&&(this.boardPixelSize=this.boardElement.nativeElement.getBoundingClientRect().width)}getBoardTopLeft(){let n=this.boardElement.nativeElement.getBoundingClientRect();return{left:n.left,top:n.top}}getBoardPixelSize(){return this.boardPixelSize}getSquarePixelSize(){return this.boardPixelSize/Q.SIZE}getPiecePixelPosition(n){let{rowIndex:t,colIndex:r}=Q.findIndexFromCoordinate(n),i=this.getSquarePixelSize();return this.boardState.isFlipped?{x:(7-r)*i,y:(7-t)*i}:{x:r*i,y:t*i}}animateMove(n,t,r){this.animatedPieceCoord=n;let i=this.getBoardTopLeft(),o=this.getPiecePixelPosition(n),s=this.getPiecePixelPosition(t);this.animatedPiece=r,this.animatedPieceX=o.x+i.left,this.animatedPieceY=o.y+i.top,setTimeout(()=>{this.animatedPieceX=s.x+i.left,this.animatedPieceY=s.y+i.top},0),setTimeout(()=>{this.animatedPiece="",this.animatedPieceCoord=""},this.animationDuration)}static \u0275fac=function(t){return new(t||e)(k(NE),k(so),k(Jr))};static \u0275cmp=ce({type:e,selectors:[["app-chessboard"]],viewQuery:function(t,r){if(t&1&&Pi(oN,5),t&2){let i;Fi(i=Li())&&(r.boardElement=i.first)}},hostBindings:function(t,r){t&1&&K("resize",function(){return r.onResize()},Nf)},inputs:{gameId:"gameId"},decls:40,vars:24,consts:[["board",""],[1,"componentContainer"],[1,"boardOuterContainer"],["for","b",3,"playerName","playerElo","clock","capturedPieces","advantage"],[1,"boardContainerInner"],["preserveAspectRatio","none",1,"arrowOverlay"],["id","arrowhead","markerWidth","3","markerHeight","3","refX","1.5","refY","1.5","orient","auto","markerUnits","strokeWidth"],["points","0 0, 3 1.5, 0 3","fill","context-stroke"],["for","w",3,"playerName","playerElo","clock","capturedPieces","advantage"],[1,"boardControls","p-5"],[1,"boardControlButtons"],[1,"btn","btn-lg","btn-primary","controlButton",3,"click","ngClass"],[1,"btn","btn-primary","controlButton",3,"click"],[1,"algebraicContainer"],[1,"d-flex","mt-4","w-100","justify-content-between"],[1,"btn","btn-primary","w-50","m-1",3,"click"],[1,"m-0"],[1,"currentlyHeldPiece",3,"src","left","top"],[1,"animatedPiece",3,"src","left","top","transition"],["stroke-width","0.13","marker-end","url(#arrowhead)"],[2,"position","relative","width","100%","height","100%"],[3,"mouseDown","mouseUp","leftClick","coordinate","piece","isDark","showFile","showRank","showPiece","isFlipped","isLegalMove","isInCheck","isClicked"],[1,"endgameSquareOverlay",3,"ngClass"],[1,"fade-out-bg","endgameSquareBackground"],[1,"move-up-right-shrink","endgameSquareImage",2,"width","10vmin",3,"src"],[1,"corner-text","fade-out-bg"],[1,"d-inline","move-number"],[1,"d-inline",3,"click","ngClass"],[1,"currentlyHeldPiece",3,"src"],[1,"animatedPiece",3,"src"]],template:function(t,r){if(t&1){let i=ht();M(0,"div",1)(1,"div",2),ue(2,"app-board-player-info",3),M(3,"div",4,0),Ro(),M(5,"svg",5),dt(6,aN,2,5,":svg:ng-container",null,ut),M(8,"defs")(9,"marker",6),ue(10,"polygon",7),A()()(),dt(11,uN,3,0,"ng-container",null,ut),A(),Ba(),ue(13,"app-board-player-info",8),A(),M(14,"div",9)(15,"div",10)(16,"div",11),K("click",function(){return re(i),ie(r.handleDoubleBackButtonClicked())}),S(17,"<<-"),A(),M(18,"div",11),K("click",function(){return re(i),ie(r.handleBackButtonClicked())}),S(19,"<"),A(),M(20,"div",11),K("click",function(){return re(i),ie(r.handleForwardButtonClicked())}),S(21,">"),A(),M(22,"div",11),K("click",function(){return re(i),ie(r.handleDoubleForwardButtonClicked())}),S(23,"->>"),A()(),M(24,"div",12),K("click",function(){return re(i),ie(r.handleFlipClicked())}),S(25,"\u2191\u2193"),A(),M(26,"p"),S(27),A(),M(28,"div",13),dt(29,fN,1,1,null,null,ut),A(),M(31,"div",14)(32,"div",15),K("click",function(){return re(i),ie(r.handleImportClicked())}),S(33,"Import Game"),A(),M(34,"div",15),K("click",function(){return re(i),ie(r.handleResetClicked())}),S(35,"Reset"),A()(),W(36,hN,2,1,"p",16),W(37,pN,2,2,"p",16),A(),W(38,gN,1,5,"img",17),W(39,mN,1,7,"img",18),A()}t&2&&(v(),Fe(r.boardState.isFlipped?"boardOuterContainerFlipped":""),v(),be("playerName",r.boardState.pgnHeaders.black)("playerElo",r.boardState.pgnHeaders.blackElo)("clock",r.getClockForPlayer("b"))("capturedPieces",r.boardState.getCurrentState().piecesBlackCaptured)("advantage",r.boardState.getCurrentState().getMaterialAdvantage()),v(),Fe(r.boardState.isFlipped?"boardContainerInnerFlipped":""),v(2),Ye("viewBox","0 0 8 8"),v(),ft(r.arrows),v(5),ft(r.boardState.getCurrentState().pieceState),v(2),be("playerName",r.boardState.pgnHeaders.white)("playerElo",r.boardState.pgnHeaders.whiteElo)("clock",r.getClockForPlayer("w"))("capturedPieces",r.boardState.getCurrentState().piecesWhiteCaptured)("advantage",r.boardState.getCurrentState().getMaterialAdvantage()),v(3),be("ngClass",r.areBackButtonsEnabled()?"":"disabled"),v(2),be("ngClass",r.areBackButtonsEnabled()?"":"disabled"),v(2),be("ngClass",r.areForwardButtonsEnabled()?"":"disabled"),v(2),be("ngClass",r.areForwardButtonsEnabled()?"":"disabled"),v(5),pe("",r.boardState.getCurrentState().turn?"White":"Black"," to move"),v(2),ft(r.boardState.mainMoveStack),v(7),G(r.boardState.pgnHeaders.termination?36:-1),v(),G(r.boardState.getCurrentState().gameState.isGameOver?37:-1),v(),G(r.currentlyHeldPiece!=""?38:-1),v(),G(r.animatedPiece?39:-1))},dependencies:[_l,Dl,$i,os,ro],styles:[".componentContainer[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}.boardOuterContainer[_ngcontent-%COMP%]{display:flex;flex-direction:column}.boardOuterContainerFlipped[_ngcontent-%COMP%]{flex-direction:column-reverse}.boardContainerInner[_ngcontent-%COMP%]{position:relative;display:grid;grid-template-rows:repeat(8,1fr);grid-template-columns:repeat(8,1fr);width:82vmin;height:82vmin;gap:0;border:1px solid;-webkit-user-select:none;user-select:none;touch-action:none}.boardContainerInnerFlipped[_ngcontent-%COMP%]{transform:rotate(180deg)}.currentlyHeldPiece[_ngcontent-%COMP%]{width:10vmin;height:10vmin;position:fixed;pointer-events:none;transform:translate(-50%,-50%)}.endgameSquareOverlay[_ngcontent-%COMP%]{position:absolute;inset:0;pointer-events:none;z-index:2}.endgameSquareBackground[_ngcontent-%COMP%]{position:absolute;inset:0;z-index:2}.endgameSquareImage[_ngcontent-%COMP%]{position:absolute;z-index:3}.endgameSquareOverlayFlipped[_ngcontent-%COMP%]{transform:rotate(180deg)}@keyframes _ngcontent-%COMP%_fadeOut{0%{opacity:.9}to{opacity:0}}.fade-out-bg[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_fadeOut .6s ease-out forwards;animation-delay:.5s}@keyframes _ngcontent-%COMP%_iconMove{0%{transform:translate(0) scale(1)}to{transform:translate(50%,-50%) scale(.65)}}.move-up-right-shrink[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_iconMove .6s ease-in-out forwards;animation-delay:.5s}.corner-text[_ngcontent-%COMP%]{position:absolute;width:14vmin;font-size:2vmin;transform:translate(50%,-50%);padding:10px;z-index:2;text-align:center;color:#fff;border-radius:10px}.arrowOverlay[_ngcontent-%COMP%]{position:absolute;inset:0;width:100%;height:100%;pointer-events:none;z-index:10}.boardControls[_ngcontent-%COMP%]{display:flex;border:1px solid blue;flex-direction:column;height:82vmin;width:43vmin;touch-action:manipulation}.boardControlButtons[_ngcontent-%COMP%]{display:flex;justify-content:space-between;width:100%}.controlButton[_ngcontent-%COMP%]{touch-action:manipulation;margin:5px}.algebraicContainer[_ngcontent-%COMP%]{padding:5px;border:1px solid blue;height:40vmin;overflow-y:auto;overflow-x:hidden}.animatedPiece[_ngcontent-%COMP%]{position:absolute;width:10vmin;height:10vmin;pointer-events:none;z-index:100}@media screen and (max-width:800px){.componentContainer[_ngcontent-%COMP%]{flex-direction:column}.boardControls[_ngcontent-%COMP%]{width:100%;height:unset}}"]})};var up=(n=>(n.Analysis="Analysis",n))(up||{});function vN(e,n){if(e&1&&ue(0,"app-chessboard",2),e&2){let t=D();be("gameId",t.BoardNames.Analysis)}}function yN(e,n){e&1&&(M(0,"div",3)(1,"div",4)(2,"span",5),S(3,"Loading..."),A()(),M(4,"div"),S(5," Loading Game. "),A()())}var Vl=class e{constructor(n,t){this.gameService=n;this.toastrService=t}site;username;gameId;testPieceState=[[d.BLACK_KING,d.NONE,d.WHITE_KING,d.NONE,d.NONE,d.NONE,d.NONE,d.WHITE_BISHOP],[d.BLACK_QUEEN,d.NONE,d.NONE,d.NONE,d.NONE,d.NONE,d.NONE,d.NONE],[d.NONE,d.NONE,d.NONE,d.NONE,d.NONE,d.NONE,d.NONE,d.BLACK_BISHOP],[d.NONE,d.NONE,d.NONE,d.NONE,d.NONE,d.NONE,d.NONE,d.NONE],[d.NONE,d.NONE,d.NONE,d.NONE,d.NONE,d.NONE,d.NONE,d.NONE],[d.NONE,d.NONE,d.NONE,d.NONE,d.NONE,d.NONE,d.NONE,d.NONE],[d.NONE,d.NONE,d.NONE,d.NONE,d.NONE,d.NONE,d.NONE,d.NONE],[d.NONE,d.NONE,d.NONE,d.NONE,d.NONE,d.NONE,d.NONE,d.NONE]];BoardNames=up;testGame=new Q;ngOnInit(){return Z(this,null,function*(){let n=history.state;if(this.site=n.site,this.username=n.username,this.gameId=n.gameId,this.site&&this.username&&this.gameId)if(this.site==ir.CHESSCOM_SOURCE){let t=yield Xr.getUserGameById(this.username,this.gameId);if(t)try{this.gameService.addGame("Analysis",Nn.parsePGN(t.pgn)),this.toastrService.success("Game import successful.")}catch(r){this.toastrService.error("Import failed - PGN parse failed."),this.setDefaultBoard()}else this.toastrService.error("Import failed - Game not found."),this.setDefaultBoard()}else this.toastrService.error("Import failed - Invalid source."),this.setDefaultBoard();else this.setDefaultBoard()})}setDefaultBoard(){this.gameService.addGame("Analysis",new Nn)}static \u0275fac=function(t){return new(t||e)(k(so),k(Jr))};static \u0275cmp=ce({type:e,selectors:[["app-homepage"]],decls:4,vars:1,consts:[[1,"container"],[1,"innerContainer","w-100","d-flex","justify-content-center"],[3,"gameId"],["role","alert",1,"alert","alert-primary","d-flex","align-items-center","justify-content-center"],[1,"spinner-border"],[1,"visually-hidden"]],template:function(t,r){t&1&&(M(0,"div",0)(1,"div",1),W(2,vN,1,1,"app-chessboard",2)(3,yN,6,0,"div",3),A()()),t&2&&(v(2),G(r.gameService.getGame(r.BoardNames.Analysis)?2:3))},dependencies:[Bl],encapsulation:2})};var jl=class e{localStorage=he;clickToMove=he.getBoolean(he.CLICK_TO_MOVE,!1);handleClickToMoveSwitchPressed(n){he.setBoolean(he.CLICK_TO_MOVE,n),this.clickToMove=n}static \u0275fac=function(t){return new(t||e)};static \u0275cmp=ce({type:e,selectors:[["app-settings"]],decls:8,vars:1,consts:[[1,"container"],[1,"text-primary"],[1,"form-check","form-switch"],["type","checkbox","id","darkModeSwitch",1,"form-check-input",3,"ngModelChange","ngModel"]],template:function(t,r){t&1&&(M(0,"div",0)(1,"h1",1),S(2,"Settings"),A(),ue(3,"hr"),M(4,"h3",1),S(5,"Click to move"),A(),M(6,"div",2)(7,"input",3),Qn("ngModelChange",function(o){return Hr(r.clickToMove,o)||(r.clickToMove=o),o}),K("ngModelChange",function(o){return r.handleClickToMoveSwitchPressed(o)}),A()()()),t&2&&(v(7),Kn("ngModel",r.clickToMove))},dependencies:[ro,Jh,Rl,Os],encapsulation:2})};function CN(e,n){e&1&&(U(0,"h1",1),S(1,"Error"),q(),U(2,"h4",1),S(3,"Site, username or game ID was invalid."),q())}function EN(e,n){if(e&1&&(U(0,"h1",2),S(1,"Load Game"),q(),U(2,"h4"),S(3),q(),U(4,"h4"),S(5),q(),U(6,"h4"),S(7),q()),e&2){let t=D();v(3),pe("Site: ",t.site),v(2),pe("Username: ",t.username),v(2),pe("Game ID: ",t.gameId)}}var Hl=class e{constructor(n,t){this.route=n;this.router=t;this.route.paramMap.subscribe(r=>{this.site=r.get("site"),this.username=r.get("username"),this.gameId=r.get("gameId")})}site;username;gameId;ngOnInit(){this.router.navigate(["/"],{state:{site:this.site,username:this.username,gameId:this.gameId}})}isError(){return!this.site||!this.username||!this.gameId}static \u0275fac=function(t){return new(t||e)(k(Gt),k(Qr))};static \u0275cmp=ce({type:e,selectors:[["app-load-game"]],decls:3,vars:1,consts:[[1,"container"],[1,"text-error"],[1,"text-primary"]],template:function(t,r){t&1&&(U(0,"div",0),W(1,CN,4,0)(2,EN,8,3),q()),t&2&&(v(),G(r.isError()?1:2))},encapsulation:2})};var HE=[{path:"",component:Vl},{path:"settings",component:jl},{path:"game/:site/:username/:gameId",component:Hl}];var UE={providers:[bd(),jy({eventCoalescing:!0}),Wh(HE),LE({progressBar:!0,closeButton:!0})]};var Ul=class e{static \u0275fac=function(t){return new(t||e)};static \u0275cmp=ce({type:e,selectors:[["app-navbar"]],decls:7,vars:0,consts:[[1,"navbar","bg-primary","navbar-expand","p-2"],["routerLink","/",1,"navbar-brand","text-light"],[1,"navbar-nav"],[1,"nav-item"],["routerLink","/settings",1,"text-light","nav-link"]],template:function(t,r){t&1&&(M(0,"nav",0)(1,"a",1),S(2,"CHONSE2"),A(),M(3,"ul",2)(4,"li",3)(5,"a",4),S(6,"Settings"),A()()()())},dependencies:[El],encapsulation:2})};var $l=class e{title=je("chonse2");ngOnInit(){he.getBoolean(he.CLICK_TO_MOVE)==null&&he.setBoolean(he.CLICK_TO_MOVE,!1)}static \u0275fac=function(t){return new(t||e)};static \u0275cmp=ce({type:e,selectors:[["app-root"]],decls:2,vars:0,template:function(t,r){t&1&&ue(0,"app-navbar")(1,"router-outlet")},dependencies:[Ss,Ul],encapsulation:2})};yh($l,UE).catch(e=>console.error(e));
